(function(t){function e(e){for(var r,o,i=e[0],c=e[1],l=e[2],u=0,h=[];u<i.length;u++)o=i[u],Object.prototype.hasOwnProperty.call(s,o)&&s[o]&&h.push(s[o][0]),s[o]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r]);d&&d(e);while(h.length)h.shift()();return n.push.apply(n,l||[]),a()}function a(){for(var t,e=0;e<n.length;e++){for(var a=n[e],r=!0,i=1;i<a.length;i++){var c=a[i];0!==s[c]&&(r=!1)}r&&(n.splice(e--,1),t=o(o.s=a[0]))}return t}var r={},s={app:0},n=[];function o(e){if(r[e])return r[e].exports;var a=r[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=t,o.c=r,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(a,r,function(e){return t[e]}.bind(null,r));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=e,i=i.slice();for(var l=0;l<i.length;l++)e(i[l]);var d=c;n.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"0edc":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAQAAAC1+jfqAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QAAKqNIzIAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAAHdElNRQflAwkODQgBHs6+AAAAmUlEQVQoz52QMQ4BARBFn42ohFCKK6hEsRJkz+AkbiERtQO4hEK0W1i3cIGNrTRPYUUsa8UrZ/7M//mQY+jBDmUYmqpJicSxqXcSu6+7AGwQseEIbNkTlZms1fB9HlDBB4EDExffPjQZ0v/D4syJrEr+KE3XP1vUC9dzRvSAiUsurGrX4vu2cV565uxzgpaxmjktD9ly9yz9BoGcSyXzA95lAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIxLTAzLTA5VDE0OjEzOjA4KzAwOjAwIXkrAQAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMS0wMy0wOVQxNDoxMzowOCswMDowMFAkk70AAAAZdEVYdFNvZnR3YXJlAHd3dy5pbmtzY2FwZS5vcmeb7jwaAAAAAElFTkSuQmCC"},4678:function(t,e,a){var r={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function s(t){var e=n(t);return a(e)}function n(t){if(!a.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}s.keys=function(){return Object.keys(r)},s.resolve=n,t.exports=s,s.id="4678"},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var r=a("2b0e"),s=a("f309");r["a"].use(s["a"]);var n=new s["a"]({}),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("main",[a("router-view",{staticClass:"container px-5 sm:px-20 py-20  justify-center"})],1)},i=[],c={name:"App",components:{},data:function(){return{}}},l=c,d=a("2877"),u=Object(d["a"])(l,o,i,!1,null,null,null),h=u.exports,f=a("8c4f"),m=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"flex-col items-center"},[a("h1",{staticClass:"text-gray-700 text-6xl uppercase"},[t._v("error")]),a("router-link",{staticClass:"mt-5 text-xl text-green-600 hover:underline",attrs:{to:"/"}},[t._v("Volver a la página de Inicio")])],1)},p=[],v={},g=Object(d["a"])(v,m,p,!1,null,null,null),y=g.exports,b=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("px-table-basekeywords")},C=[],_=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app"},[a("v-app",[a("v-main",[a("v-card",{staticClass:"mx-auto mt-5",attrs:{color:"transparent","max-width":"1280",elevation:"0"}},[a("v-btn",{staticClass:"mx-2",attrs:{fab:"",dark:"",color:"#FF9B00"},on:{click:function(e){return t.formNuevo()}}},[a("v-icon",{attrs:{dark:""}},[t._v("mdi-plus")])],1),a("input",{directives:[{name:"model",rawName:"v-model",value:t.filter,expression:"filter"}],attrs:{id:"filter",placeholder:"Buscar...",type:"text",name:"filter"},domProps:{value:t.filter},on:{input:function(e){e.target.composing||(t.filter=e.target.value)}}}),a("v-btn",{attrs:{tile:"",color:"success"},on:{click:function(e){return t.getReport()}}},[a("v-icon",{attrs:{left:""}},[t._v(" mdi-pencil ")]),t._v(" Descargar ")],1),a("v-simple-table",{staticClass:"mt-5",scopedSlots:t._u([{key:"default",fn:function(){return[a("thead",[a("tr",{staticClass:" "},[a("th",{},[a("h2",[t._v("KEYWORD / FRASE")])]),a("th",{},[a("h2",[t._v("CATEGORIA")])]),a("th",{},[a("h2",[t._v("MODULO")])]),a("th",{},[a("h2",[t._v("CLUSTER")])]),a("th",{},[a("h2",[t._v("ACCIONES")])])])]),a("tbody",{directives:[{name:"show",rawName:"v-show",value:!t.filter,expression:"!filter"}]},t._l(t.displayedBasekeywords,(function(e){return a("tr",{key:e._id},[a("td",[t._v(t._s(e.keyword))]),a("td",[t._v(t._s(e.category))]),a("td",[t._v(t._s(e.module))]),a("td",[t._v(t._s(e.cluster))]),a("td",[a("v-btn",{staticClass:"orange",attrs:{dark:"",small:"",fab:""},on:{click:function(a){return t.formEditar(e._id,e.keyword,e.category,e.module,e.cluster)}}},[a("v-icon",[t._v("mdi-pencil")])],1),a("v-btn",{staticClass:"error",attrs:{fab:"",dark:"",small:""},on:{click:function(a){return t.borrar(e._id)}}},[a("v-icon",[t._v("mdi-delete")])],1)],1)])})),0),t.filter?a("tbody",t._l(t.filteredBasekeywords,(function(e){return a("tr",{key:e._id},[a("td",[t._v(t._s(e.keyword))]),a("td",[t._v(t._s(e.category))]),a("td",[t._v(t._s(e.module))]),a("td",[t._v(t._s(e.cluster))]),a("td",[a("v-btn",{staticClass:"orange",attrs:{dark:"",small:"",fab:""},on:{click:function(a){return t.formEditar(e._id,e.keyword,e.category,e.module,e.cluster)}}},[a("v-icon",[t._v("mdi-pencil")])],1),a("v-btn",{staticClass:"error",attrs:{fab:"",dark:"",small:""},on:{click:function(a){return t.borrar(e._id)}}},[a("v-icon",[t._v("mdi-delete")])],1)],1)])})),0):t._e()]},proxy:!0}])})],1),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.filter,expression:"!filter"}]},[a("div",{staticStyle:{display:"flex","justify-content":"center","align-items":"center"}},[1!=t.page?a("v-btn",{on:{click:function(e){t.page--}}},[t._v(" Anterior ")]):t._e(),t._l(t.pages.slice(t.page-1,t.page+2),(function(e){return a("v-btn",{key:e,on:{click:function(a){t.page=e}}},[t._v(" "+t._s(e)+" ")])})),a("v-btn",[t._v(" ... ")]),t.page<t.pages.length?a("v-btn",{on:{click:function(e){t.page=t.pages.length}}},[t._v(" "+t._s(t.pages.length)+" ")]):t._e(),t.page<t.pages.length?a("v-btn",{on:{click:function(e){t.page++}}},[t._v(" Siguiente ")]):t._e()],2)]),a("v-dialog",{attrs:{"max-width":"700"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-form",[a("v-card",[a("v-card-title",{staticClass:"orange accent-3 white--text"},[t._v("Keyword / Frase")]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",md:"12"}},[a("v-text-field",{attrs:{label:"Keyword / Frase",solo:"",required:""},model:{value:t.basekeyword.keyword,callback:function(e){t.$set(t.basekeyword,"keyword",e)},expression:"basekeyword.keyword"}},[t._v(t._s(t.basekeyword.keyword))])],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",md:"12"}},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.basekeyword.category,expression:"basekeyword.category"}],staticStyle:{width:"500px",height:"50px","background-color":"#EEEDED"},on:{click:function(e){return t.obtenerCategorySelect(e)},change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.basekeyword,"category",e.target.multiple?a:a[0])}}},[a("option",{attrs:{disabled:"",value:""}},[t._v("Categoria")]),a("option",{attrs:{value:"infaltable"}},[t._v("infaltable")]),a("option",{attrs:{value:"recomendacion"}},[t._v("recomendación")]),a("option",{attrs:{value:"no permitida"}},[t._v("no permitida")])])])],1),a("v-row",[a("v-col",{attrs:{cols:"12",md:"12"}},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.basekeyword.module,expression:"basekeyword.module"}],staticStyle:{width:"500px",height:"50px","background-color":"#EEEDED"},on:{click:function(e){return t.obtenerModuleSelect(e)},change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.basekeyword,"module",e.target.multiple?a:a[0])}}},[a("option",{attrs:{disabled:"",value:""}},[t._v("Modulo")]),t._l(t.modules,(function(e){return a("option",{key:e,domProps:{value:e}},[t._v(t._s(e))])}))],2)])],1),a("v-row",[a("v-col",{attrs:{cols:"12",md:"12"}},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.basekeyword.cluster,expression:"basekeyword.cluster"}],staticStyle:{width:"500px",height:"50px","background-color":"#EEEDED"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.basekeyword,"cluster",e.target.multiple?a:a[0])}}},[a("option",{attrs:{disabled:"",value:""}},[t._v("Cluster")]),t._l(t.clusters,(function(e){return a("option",{key:e},[t._v(t._s(e))])}))],2)])],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue-grey",dark:""},on:{click:function(e){t.dialog=!1}}},[t._v("Cancelar")]),a("v-btn",{attrs:{type:"submit",color:"orange accent-3",dark:""},on:{click:function(e){return t.guardar()}}},[t._v("Guardar")])],1)],1)],1)],1)],1)],1)],1)},x=[],k=(a("99af"),a("4de4"),a("caad"),a("a15b"),a("d81d"),a("fb6a"),a("b64b"),a("d3b7"),a("ac1f"),a("2532"),a("3ca3"),a("5319"),a("1276"),a("ddb0"),a("2b3d"),a("b85c")),w=(a("96cf"),a("1da1"));a("ed18").config();var S=window.location.pathname,A=S.split("/");console.log("currenturl",S);var O="".concat("https://tableros-back.azurewebsites.net").concat(S,"/"),R="".concat("https://tableros-back.azurewebsites.net","/").concat(A[1],"/basescore");console.log("url",O),console.log("baseScore",R);var j={name:"PxTableBasekeywords",data:function(){return{filter:null,category:"",modules:[],selectModule:"",selectCategory:"",clusters:[],datasCMC:[],module:"",cluster:"",basekeywords:[],dialog:!1,operacion:"",basekeyword:{_id:null,keyword:"",category:this.category,module:this.module,cluster:this.cluster},page:1,perPage:10,pages:[]}},mounted:function(){},created:function(){this.mostrar()},methods:{obtenerCategorySelect:function(t){this.selectCategory=t.target.value,this.mostrar()},obtenerModuleSelect:function(t){this.selectModule=t.target.value,this.mostrar()},mostrar:function(){var t=this;return Object(w["a"])(regeneratorRuntime.mark((function e(){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.axios.get(O);case 2:return a=e.sent,t.basekeywords=a.data.body,e.next=6,t.axios.get(R);case 6:r=e.sent,t.datasCMC=r.data.body,t.obtenerModules(t.datasCMC),t.obtnerCluster(t.datasCMC,t.selectCategory,t.selectModule);case 10:case"end":return e.stop()}}),e)})))()},obtenerModules:function(t){for(var e in this.modules=[],t[0].infaltable)this.modules.push(e)},obtnerCluster:function(t,e,a){if(this.clusters=[],"infaltable"==e&&"-"!=a){for(var r in t[0].infaltable)if(r==a)for(var s in t[0].infaltable[r])this.clusters=this.clusters.concat(s)}else this.clusters=this.clusters[0]="-"},objectToCsv:function(t){var e=[],a=Object.keys(t[0]);e.push(a.join(","));var r,s=Object(k["a"])(t);try{var n=function(){var t=r.value,s=a.map((function(e){var a=(""+t[e]).replace(/"/g,'\\"');return'"'.concat(a,'"')}));e.push(s.join(","))};for(s.s();!(r=s.n()).done;)n()}catch(o){s.e(o)}finally{s.f()}return e.join("\n")},download:function(t){var e=new Blob([t],{type:"text/csv"}),a=window.URL.createObjectURL(e),r=document.createElement("a");r.setAttribute("hidden",""),r.setAttribute("href",a),r.setAttribute("download","download.csv"),document.body.appendChild(r),r.click(),document.body.removeChild(r)},getReport:function(){var t=this;return Object(w["a"])(regeneratorRuntime.mark((function e(){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=t.basekeywords.map((function(t){return{keyword:t.keyword,categoria:t.category,modulo:t.module,cluster:t.cluster,creacion:t.createdAt}})),console.log("data",a),r=t.objectToCsv(a),t.download(r);case 4:case"end":return e.stop()}}),e)})))()},paginate:function(t){var e=this.page,a=this.perPage,r=e*a-a,s=e*a;return t.slice(r,s)},setBasekeywords:function(){for(var t=Math.ceil(this.basekeywords.length/this.perPage),e=1;e<=t;e++)this.pages.push(e)},crear:function(){var t=this,e={keyword:this.basekeyword.keyword,category:this.basekeyword.category,module:this.basekeyword.module,cluster:this.basekeyword.cluster};this.axios.post(O,e).then((function(e){console.log(e.data),t.$swal.fire("¡Creado!","","success")})),this.basekeyword.keyword="",this.basekeyword.category="",this.basekeyword.module="",this.basekeyword.cluster=""},editar:function(){var t=this,e={id:this.basekeyword._id,keyword:this.basekeyword.keyword,category:this.basekeyword.category,module:this.basekeyword.module,cluster:this.basekeyword.cluster};this.axios.patch(O+this.basekeyword._id,e).then((function(e){console.log(e),t.$swal.fire("¡Modificado!","","success"),t.mostrar()}))},borrar:function(t){var e=this;this.$swal.fire({title:"¿Confirma eliminar el registro?",confirmButtonText:"Confirmar",showCancelButton:!0}).then((function(a){if(a.isConfirmed)e.axios.delete(O+t).then((function(t){e.mostrar(),console.log(t)})),e.$swal.fire("¡Eliminado!","","success");else if(a.isDenied)return!1}))},guardar:function(){"crear"==this.operacion&&this.crear(),"editar"==this.operacion&&this.editar(),this.dialog=!1},formNuevo:function(){this.dialog=!0,this.operacion="crear",this.basekeyword.keyword="",this.basekeyword.category="",this.basekeyword.module="",this.basekeyword.cluster=""},formEditar:function(t,e,a,r,s){this.basekeyword._id=t,this.basekeyword.keyword=e,this.basekeyword.category=a,this.basekeyword.module=r,this.basekeyword.cluster=s,this.dialog=!0,this.operacion="editar"}},computed:{displayedBasekeywords:function(){return this.paginate(this.basekeywords)},filteredBasekeywords:function(){var t=this;return this.basekeywords.filter((function(e){return e.keyword.toLowerCase().includes(t.filter.toLowerCase())}))}},watch:{basekeywords:function(){this.setBasekeywords()},checkFilterActivate:function(t){return null==this.filter?(console.log(t),null):null!=this.filter||void 0}}},E=j,I=a("6544"),N=a.n(I),B=a("7496"),T=a("8336"),D=a("b0af"),M=a("99d9"),F=a("62ad"),V=a("a523"),P=a("169a"),K=a("4bd4"),L=a("132d"),G=a("f6c4"),z=a("0fd9"),q=a("1f4f"),$=a("2fa4"),Y=a("8654"),U=Object(d["a"])(E,_,x,!1,null,null,null),J=U.exports;N()(U,{VApp:B["a"],VBtn:T["a"],VCard:D["a"],VCardActions:M["a"],VCardText:M["b"],VCardTitle:M["c"],VCol:F["a"],VContainer:V["a"],VDialog:P["a"],VForm:K["a"],VIcon:L["a"],VMain:G["a"],VRow:z["a"],VSimpleTable:q["a"],VSpacer:$["a"],VTextField:Y["a"]});var Z={name:"Basekeywords",components:{PxTableBasekeywords:J}},W=Z,H=Object(d["a"])(W,b,C,!1,null,null,null),Q=H.exports,X=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("px-table-agents")},tt=[],et=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app"},[a("v-app",[a("v-main",[a("v-card",{staticClass:"mx-auto",attrs:{color:"transparent","max-width":"1280",elevation:"0"}},[a("v-btn",{staticClass:"mx-2",attrs:{fab:"",dark:"",color:"#FF9B00"},on:{click:function(e){return t.formNuevo()}}},[a("v-icon",{attrs:{dark:""}},[t._v("mdi-plus")])],1),a("input",{directives:[{name:"model",rawName:"v-model",value:t.filter,expression:"filter"}],attrs:{id:"filter",placeholder:"Buscar...",type:"text",name:"filter"},domProps:{value:t.filter},on:{input:function(e){e.target.composing||(t.filter=e.target.value)}}}),a("v-btn",{attrs:{tile:"",color:"success"},on:{click:function(e){return t.getReport()}}},[a("v-icon",{attrs:{left:""}},[t._v(" mdi-pencil ")]),t._v(" Descargar ")],1),a("v-simple-table",{staticClass:"mt-5",scopedSlots:t._u([{key:"default",fn:function(){return[a("thead",[a("tr",{staticClass:" "},[a("th",{},[a("h2",[t._v("NOMBRE")])]),a("th",{},[a("h2",[t._v("IDENTIFICACIÓN")])]),a("th",{},[a("h2",[t._v("GENERO")])]),a("th",{},[a("h2",[t._v("ACCIONES")])])])]),a("tbody",{directives:[{name:"show",rawName:"v-show",value:!t.filter,expression:"!filter"}]},t._l(t.displayedAgents,(function(e){return a("tr",{key:e._id},[a("td",{},[t._v(t._s(e.name))]),a("td",[t._v(t._s(e.identification))]),a("td",[t._v(t._s(e.gender))]),a("td",[a("v-btn",{staticClass:"orange",attrs:{dark:"",small:"",fab:""},on:{click:function(a){return t.formEditar(e._id,e.name,e.identification,e.gender)}}},[a("v-icon",[t._v("mdi-pencil")])],1)],1)])})),0),t.filter?a("tbody",t._l(t.filteredAgents,(function(e){return a("tr",{key:e._id},[a("td",{},[t._v(t._s(e.name))]),a("td",[t._v(t._s(e.identification))]),a("td",[t._v(t._s(e.gender))]),a("td",[a("v-btn",{staticClass:"orange",attrs:{dark:"",small:"",fab:""},on:{click:function(a){return t.formEditar(e._id,e.name,e.identification,e.gender)}}},[a("v-icon",[t._v("mdi-pencil")])],1)],1)])})),0):t._e()]},proxy:!0}])})],1),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.filter,expression:"!filter"}]},[a("div",{staticStyle:{display:"flex","justify-content":"center","align-items":"center"}},[1!=t.page?a("v-btn",{on:{click:function(e){t.page--}}},[t._v(" Anterior ")]):t._e(),t._l(t.pages.slice(t.page-1,t.page+2),(function(e){return a("v-btn",{key:e,on:{click:function(a){t.page=e}}},[t._v(" "+t._s(e)+" ")])})),a("v-btn",[t._v(" ... ")]),t.page<t.pages.length?a("v-btn",{on:{click:function(e){t.page=t.pages.length}}},[t._v(" "+t._s(t.pages.length)+" ")]):t._e(),t.page<t.pages.length?a("v-btn",{on:{click:function(e){t.page++}}},[t._v(" Siguiente ")]):t._e()],2)]),a("v-dialog",{attrs:{"max-width":"700"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-form",[a("v-card",[a("v-card-title",{staticClass:"orange accent-3 white--text"},[t._v("Agente")]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",md:"12"}},[a("v-text-field",{attrs:{label:"Nombre",solo:"",required:""},model:{value:t.agent.name,callback:function(e){t.$set(t.agent,"name",e)},expression:"agent.name"}},[t._v(t._s(t.agent.name))])],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",md:"12"}},[a("v-text-field",{attrs:{label:"Identificación",solo:"",required:""},model:{value:t.agent.identification,callback:function(e){t.$set(t.agent,"identification",e)},expression:"agent.identification"}},[t._v(t._s(t.agent.identification))])],1)],1),a("v-row",[a("v-col",{attrs:{cols:"12",md:"12"}},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.agent.gender,expression:"agent.gender"}],staticStyle:{width:"400px",height:"50px"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.agent,"gender",e.target.multiple?a:a[0])}}},[a("option",{attrs:{disabled:"",value:""}},[t._v("Genero")]),a("option",[t._v("F")]),a("option",[t._v("M")]),a("option",[t._v("X")])])])],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue-grey",dark:""},on:{click:function(e){t.dialog=!1}}},[t._v("Cancelar")]),a("v-btn",{attrs:{type:"submit",color:"orange accent-3",dark:""},on:{click:function(e){return t.guardar()}}},[t._v("Guardar")])],1)],1)],1)],1)],1)],1)],1)},at=[];a("b0c0");a("ed18").config();var rt=window.location.pathname;console.log("currenturl",rt);var st="".concat("https://tableros-back.azurewebsites.net").concat(rt,"/");console.log("url",st);var nt={name:"PxTableAgents",data:function(){return{filter:null,gender:"",filterActive:null,agents:[],crearAgents:[],dialog:!1,operacion:"",agent:{_id:null,name:"",identification:"",gender:this.gender},page:1,perPage:10,pages:[]}},mounted:function(){console.log("esta es ","https://tableros-back.azurewebsites.net")},created:function(){this.mostrar()},methods:{mostrar:function(){var t=this;return Object(w["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.axios.get(st);case 2:a=e.sent,t.agents=a.data.body;case 4:case"end":return e.stop()}}),e)})))()},objectToCsv:function(t){var e=[],a=Object.keys(t[0]);e.push(a.join(","));var r,s=Object(k["a"])(t);try{var n=function(){var t=r.value,s=a.map((function(e){var a=(""+t[e]).replace(/"/g,'\\"');return'"'.concat(a,'"')}));e.push(s.join(","))};for(s.s();!(r=s.n()).done;)n()}catch(o){s.e(o)}finally{s.f()}return e.join("\n")},download:function(t){var e=new Blob([t],{type:"text/csv"}),a=window.URL.createObjectURL(e),r=document.createElement("a");r.setAttribute("hidden",""),r.setAttribute("href",a),r.setAttribute("download","download.csv"),document.body.appendChild(r),r.click(),document.body.removeChild(r)},getReport:function(){var t=this;return Object(w["a"])(regeneratorRuntime.mark((function e(){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=t.agents.map((function(t){return{nombre:t.name,identificacion:t.identification,genero:t.gender,creacion:t.createdAt}})),console.log("data",a),r=t.objectToCsv(a),t.download(r);case 4:case"end":return e.stop()}}),e)})))()},paginate:function(t){var e=this.page,a=this.perPage,r=e*a-a,s=e*a;return t.slice(r,s)},setAgents:function(){for(var t=Math.ceil(this.agents.length/this.perPage),e=1;e<=t;e++)this.pages.push(e)},crear:function(){var t=this,e={name:this.agent.name,identification:this.agent.identification,gender:this.agent.gender};this.axios.post(st,e).then((function(e){console.log(e),t.$swal.fire("¡Creado!","","success"),t.mostrar(),console.log(e)})),this.agent.name="",this.agent.identification="",this.agent.gender=""},editar:function(){var t=this,e={id:this.agent._id,name:this.agent.name,identification:this.agent.identification,gender:this.agent.gender};this.axios.patch(st+this.agent._id,e).then((function(e){console.log(e),t.$swal.fire("¡Modificado!","","success"),t.mostrar(),console.log(e)}))},borrar:function(t){var e=this;this.$swal.fire({title:"¿Confirma eliminar el registro?",confirmButtonText:"Confirmar",showCancelButton:!0}).then((function(a){if(a.isConfirmed)e.axios.delete(st+t).then((function(t){e.mostrar(),console.log(t)})),e.$swal.fire("¡Eliminado!","","success");else if(a.isDenied)return!1}))},guardar:function(){"crear"==this.operacion&&this.crear(),"editar"==this.operacion&&this.editar(),this.dialog=!1},formNuevo:function(){this.dialog=!0,this.operacion="crear",this.agent.name="",this.agent.identification="",this.agent.gender=""},formEditar:function(t,e,a,r){this.agent._id=t,this.agent.name=e,this.agent.identification=a,this.agent.gender=r,this.dialog=!0,this.operacion="editar"}},computed:{displayedAgents:function(){return this.paginate(this.agents)},filteredAgents:function(){var t=this;return this.agents.filter((function(e){return e.name.toUpperCase().includes(t.filter.toUpperCase())||e.identification.toUpperCase().includes(t.filter.toUpperCase())}))}},watch:{agents:function(){this.setAgents()},checkFilterActivate:function(t){return null==this.filter?(console.log(t),null):null!=this.filter||void 0}}},ot=nt,it=Object(d["a"])(ot,et,at,!1,null,null,null),ct=it.exports;N()(it,{VApp:B["a"],VBtn:T["a"],VCard:D["a"],VCardActions:M["a"],VCardText:M["b"],VCardTitle:M["c"],VCol:F["a"],VContainer:V["a"],VDialog:P["a"],VForm:K["a"],VIcon:L["a"],VMain:G["a"],VRow:z["a"],VSimpleTable:q["a"],VSpacer:$["a"],VTextField:Y["a"]});var lt={name:"Agents",components:{PxTableAgents:ct}},dt=lt,ut=Object(d["a"])(dt,X,tt,!1,null,null,null),ht=ut.exports,ft=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("px-table-basephrases")},mt=[],pt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app"},[a("v-app",[a("v-main",[a("v-card",{staticClass:"mx-auto mt-5",attrs:{color:"transparent","max-width":"1280",elevation:"0"}},[a("v-btn",{staticClass:"mx-2",attrs:{fab:"",dark:"",color:"#FF9B00"},on:{click:function(e){return t.formNuevo()}}},[a("v-icon",{attrs:{dark:""}},[t._v("mdi-plus")])],1),a("input",{directives:[{name:"model",rawName:"v-model",value:t.filter,expression:"filter"}],attrs:{id:"filter",placeholder:"Buscar...",type:"text",name:"filter"},domProps:{value:t.filter},on:{input:function(e){e.target.composing||(t.filter=e.target.value)}}}),a("v-simple-table",{staticClass:"mt-5",scopedSlots:t._u([{key:"default",fn:function(){return[a("thead",[a("tr",{staticClass:" "},[a("th",{},[a("h2",[t._v("FRASE")])]),a("th",{},[a("h2",[t._v("MODULO")])]),a("th",{},[a("h2",[t._v("CATEGORIA")])]),a("th",{},[a("h2",[t._v("ACCIONES")])])])]),a("tbody",{directives:[{name:"show",rawName:"v-show",value:!t.filter,expression:"!filter"}]},t._l(t.displayedBasephrases,(function(e){return a("tr",{key:e._id},[a("td",[t._v(t._s(e.phrase))]),a("td",[t._v(t._s(e.module))]),a("td",[t._v(t._s(e.category))]),a("td",[a("v-btn",{staticClass:"orange",attrs:{dark:"",small:"",fab:""},on:{click:function(a){return t.formEditar(e._id,e.phrase,e.module,e.category)}}},[a("v-icon",[t._v("mdi-pencil")])],1),a("v-btn",{staticClass:"error",attrs:{fab:"",dark:"",small:""},on:{click:function(a){return t.borrar(e._id)}}},[a("v-icon",[t._v("mdi-delete")])],1)],1)])})),0),t.filter?a("tbody",t._l(t.filteredBasephrases,(function(e){return a("tr",{key:e._id},[a("td",[t._v(t._s(e.phrase))]),a("td",[t._v(t._s(e.module))]),a("td",[t._v(t._s(e.category))]),a("td",[a("v-btn",{staticClass:"orange",attrs:{dark:"",small:"",fab:""},on:{click:function(a){return t.formEditar(e._id,e.phrase,e.module,e.category)}}},[a("v-icon",[t._v("mdi-pencil")])],1),a("v-btn",{staticClass:"error",attrs:{fab:"",dark:"",small:""},on:{click:function(a){return t.borrar(e._id)}}},[a("v-icon",[t._v("mdi-delete")])],1)],1)])})),0):t._e()]},proxy:!0}])})],1),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.filter,expression:"!filter"}]},[a("div",{staticStyle:{display:"flex","justify-content":"center","align-items":"center"}},[1!=t.page?a("v-btn",{on:{click:function(e){t.page--}}},[t._v(" Anterior ")]):t._e(),t._l(t.pages.slice(t.page-1,t.page+2),(function(e){return a("v-btn",{key:e,on:{click:function(a){t.page=e}}},[t._v(" "+t._s(e)+" ")])})),t.page<t.pages.length?a("v-btn",{on:{click:function(e){t.page++}}},[t._v(" Siguiente ")]):t._e()],2)]),a("v-dialog",{attrs:{"max-width":"500"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-form",[a("v-card",[a("v-card-title",{staticClass:"orange accent-3 white--text"},[t._v("Base frase")]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:"Phrase",solo:"",required:""},model:{value:t.basephrase.phrase,callback:function(e){t.$set(t.basephrase,"phrase",e)},expression:"basephrase.phrase"}},[t._v(t._s(t.basephrase.phrase))])],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.basephrase.category,expression:"basephrase.category"}],staticStyle:{width:"110px",height:"50px"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.basephrase,"category",e.target.multiple?a:a[0])}}},[a("option",{attrs:{disabled:"",value:""}},[t._v("Categoria")]),a("option",[t._v("infaltable")]),a("option",[t._v("recomendación")]),a("option",[t._v("no permitida")])])]),a("v-col",{attrs:{cols:"12",md:"4"}},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.basephrase.module,expression:"basephrase.module"}],staticStyle:{width:"100px",height:"50px"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.basephrase,"module",e.target.multiple?a:a[0])}}},[a("option",{attrs:{disabled:"",value:""}},[t._v("Modulo")]),t._l(t.modules,(function(e){return a("option",{key:e},[t._v(t._s(e))])}))],2)])],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue-grey",dark:""},on:{click:function(e){t.dialog=!1}}},[t._v("Cancelar")]),a("v-btn",{attrs:{type:"submit",color:"orange accent-3",dark:""},on:{click:function(e){return t.guardar()}}},[t._v("Guardar")])],1)],1)],1)],1)],1)],1)],1)},vt=[],gt=window.location.pathname;console.log("currenturl",gt);var yt=gt.split("/"),bt="".concat("https://tableros-back.azurewebsites.net").concat(gt,"/"),Ct="".concat("https://tableros-back.azurewebsites.net","/").concat(yt[1],"/basescore");console.log("url",bt);var _t={name:"PxTableBasephrases",data:function(){return{filter:null,module:"",category:"",basephrases:[],modules:[],dialog:!1,operacion:"",basephrase:{_id:null,phrase:"",module:this.module,category:this.category},page:1,perPage:10,pages:[],datasCMC:[]}},created:function(){this.mostrar()},methods:{mostrar:function(){var t=this;return Object(w["a"])(regeneratorRuntime.mark((function e(){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.axios.get(bt);case 2:return a=e.sent,t.basephrases=a.data.body,e.next=6,t.axios.get(Ct);case 6:r=e.sent,t.datasCMC=r.data.body,t.obtenerModules(t.datasCMC);case 9:case"end":return e.stop()}}),e)})))()},obtenerModules:function(t){for(var e in this.modules=[],t[0].infaltable)this.modules.push(e)},paginate:function(t){var e=this.page,a=this.perPage,r=e*a-a,s=e*a;return t.slice(r,s)},setBasephrases:function(){for(var t=Math.ceil(this.basephrases.length/this.perPage),e=1;e<=t;e++)this.pages.push(e)},crear:function(){var t=this,e={phrase:this.basephrase.phrase,module:this.basephrase.module,category:this.basephrase.category};this.axios.post(bt,e).then((function(e){console.log("respuesta response.data",e.data),t.$swal.fire("¡Creado!","","success")})),this.basephrase.phrase="",this.basephrase.module="",this.basephrase.category=""},editar:function(){var t=this,e={id:this.basephrase._id,phrase:this.basephrase.phrase,module:this.basephrase.module,category:this.basephrase.category};this.axios.patch(bt+this.basephrase._id,e).then((function(e){console.log(e),t.$swal.fire("¡Modificado!","","success"),t.mostrar()}))},borrar:function(t){var e=this;this.$swal.fire({title:"¿Confirma eliminar el registro?",confirmButtonText:"Confirmar",showCancelButton:!0}).then((function(a){if(a.isConfirmed)e.axios.delete(bt+t).then((function(t){e.mostrar(),console.log(t)})),e.$swal.fire("¡Eliminado!","","success");else if(a.isDenied)return!1}))},guardar:function(){"crear"==this.operacion&&this.crear(),"editar"==this.operacion&&this.editar(),this.dialog=!1},formNuevo:function(){this.dialog=!0,this.operacion="crear",this.basephrase.phrase="",this.basephrase.module="",this.basephrase.category=""},formEditar:function(t,e,a,r){this.basephrase._id=t,this.basephrase.phrase=e,this.basephrase.module=a,this.basephrase.category=r,this.dialog=!0,this.operacion="editar"}},computed:{displayedBasephrases:function(){return this.paginate(this.basephrases)},filteredBasephrases:function(){var t=this;return this.basephrases.filter((function(e){return e.phrase.toLowerCase().includes(t.filter.toLowerCase())}))}},watch:{basephrases:function(){this.setBasephrases()},checkFilterActivate:function(t){return null==this.filter?(console.log(t),null):null!=this.filter||void 0}}},xt=_t,kt=Object(d["a"])(xt,pt,vt,!1,null,null,null),wt=kt.exports;N()(kt,{VApp:B["a"],VBtn:T["a"],VCard:D["a"],VCardActions:M["a"],VCardText:M["b"],VCardTitle:M["c"],VCol:F["a"],VContainer:V["a"],VDialog:P["a"],VForm:K["a"],VIcon:L["a"],VMain:G["a"],VRow:z["a"],VSimpleTable:q["a"],VSpacer:$["a"],VTextField:Y["a"]});var St={name:"Basephrases",components:{PxTableBasephrases:wt}},At=St,Ot=Object(d["a"])(At,ft,mt,!1,null,null,null),Rt=Ot.exports,jt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("px-agents-audit")},Et=[],It=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"app"},[r("v-app",[r("v-main",[r("h2",{staticClass:"ml-3",staticStyle:{color:"#FF9B00"}},[t._v(" AUDITORIA "),r("span",{staticStyle:{color:"#CACACA"}},[t._v("KEYWORDS")])]),r("v-container",{},[r("v-row",[r("v-col",{attrs:{cols:"6",sm:"4"}},[r("v-menu",{ref:"menu1",attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"auto"},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,s=e.attrs;return[r("v-text-field",t._g(t._b({attrs:{label:"Date",hint:"YYYY/MM/DD","persistent-hint":"","prepend-icon":"mdi-calendar"},on:{blur:function(e){t.date=t.parseDate(t.dateFormatted)}},model:{value:t.dates,callback:function(e){t.dates=e},expression:"dates"}},"v-text-field",s,!1),a))]}}]),model:{value:t.menu1,callback:function(e){t.menu1=e},expression:"menu1"}},[r("v-date-picker",{attrs:{range:"",color:"orange accent-3 lighten-1"},model:{value:t.dates,callback:function(e){t.dates=e},expression:"dates"}})],1),r("p",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}]},[t._v(t._s(t.dateRangeText))])],1),r("v-col",{staticStyle:{"justify-content":"center","align-items":"center","text-align":"center"}},[r("h3",{staticClass:"orange--text"},[t._v(" TOTAL "),r("span",{staticStyle:{color:"#CACACA"}},[t._v("GRABACIONES")])]),r("span",{staticClass:"text-h2 orange--text"},[t._v(t._s(this.cantidadLlamadas))])]),r("v-col",{staticStyle:{"justify-content":"center","align-items":"center","text-align":"center"}},[r("h3",{staticClass:"orange--text"},[t._v(" AFECTADAS "),r("span",{staticStyle:{color:"#CACACA"}},[t._v("POR ")]),t._v(' "NO PERMITIDAS" ')]),r("span",{staticClass:"text-h2 orange--text"},[t._v(t._s(this.cantidadLlamadasAfectadas))])])],1)],1),0==t.pxinfo&&0==t.recordsByCategoryMostrar?r("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],attrs:{placeholder:"Buscar...",type:"text"},domProps:{value:t.search},on:{input:function(e){e.target.composing||(t.search=e.target.value)}}}):t._e(),0==t.pxinfo&&0!=t.recordsByCategoryMostrar?r("div",[r("v-btn",{staticClass:"ma-2",attrs:{color:"orange darken-2",dark:""},on:{click:function(e){return t.retroceder()}}},[r("v-icon",{attrs:{dark:"",left:""}},[t._v(" mdi-arrow-left ")]),t._v("Volver ")],1)],1):t._e(),0==t.pxinfo?r("v-simple-table",{staticClass:"mt-5",scopedSlots:t._u([{key:"default",fn:function(){return[r("thead",[r("tr",{staticStyle:{"background-color":"#CACACA"}},[r("th",{staticClass:"white--text ",staticStyle:{"text-align":"center"}},[t._v(" NOMBRE ")]),r("th",{staticClass:"white--text ",staticStyle:{"text-align":"center"}},[r("img",{staticClass:"mr-2",attrs:{src:a("0edc")}}),r("span",{staticClass:"underline cursor-pointer",on:{click:function(e){return t.changeSortOrder(1)}}},[t._v("GRABACIONES")])]),r("th",{staticClass:"white--text ",staticStyle:{"text-align":"center"}},[r("img",{staticClass:"mr-2",staticStyle:{color:"white"},attrs:{src:a("0edc")}}),r("span",{staticClass:"underline cursor-pointer",on:{click:function(e){return t.changeSortOrder(2)}}},[t._v("INFALTABLE ")])]),r("th",{staticClass:"white--text ",staticStyle:{"text-align":"center"}},[r("img",{staticClass:"mr-2",attrs:{src:a("0edc")}}),r("span",{staticClass:"underline cursor-pointer",on:{click:function(e){return t.changeSortOrder(3)}}},[t._v("INFALTABLE NO HALLADA ")])]),r("th",{staticClass:"white--text ",staticStyle:{"text-align":"center"}},[r("img",{staticClass:"mr-2",attrs:{src:a("0edc")}}),r("span",{staticClass:"underline cursor-pointer",on:{click:function(e){return t.changeSortOrder(4)}}},[t._v("NO PERMITIDA")])]),r("th",{staticClass:"white--text ",staticStyle:{"text-align":"center"}},[r("img",{staticClass:"mr-2",attrs:{src:a("0edc")}}),r("span",{staticClass:"underline cursor-pointer",on:{click:function(e){return t.changeSortOrder(5)}}},[t._v("RECOMENDACIÓN")])])])]),r("tbody",t._l(t.filteredAgents,(function(e){return r("tr",{key:e.name},[r("td",{on:{click:function(a){return t.mostrarDetalleCall(e.name)}}},[t._v(" "+t._s(e.name)+" ")]),r("td",{staticStyle:{"text-align":"center"}},[t._v(" "+t._s(e.results.recordings)+" ")]),r("td",{staticStyle:{"text-align":"center"}},[t._v(" "+t._s(e.results.positivesOfRequired)+" ")]),r("td",{staticStyle:{"text-align":"center"}},[t._v(" "+t._s(e.results.negativesOfRequired)+" ")]),r("td",{staticStyle:{"text-align":"center"}},[t._v(" "+t._s(e.results.positivesOfNotAllowed)+" ")]),r("td",{staticStyle:{"text-align":"center"}},[t._v(" "+t._s(e.results.positivesOfRecommendation)+" ")])])})),0)]},proxy:!0}],null,!1,481750625)}):t._e(),r("input",{directives:[{name:"model",rawName:"v-model",value:t.search2,expression:"search2"}],attrs:{hidden:"",placeholder:"Buscar...",type:"text"},domProps:{value:t.search2},on:{input:function(e){e.target.composing||(t.search2=e.target.value)}}}),0==t.pxinfo&&0!=t.recordsByCategoryMostrar?r("div",[r("v-btn",{staticClass:"ma-2",attrs:{color:"orange darken-2",dark:""},on:{click:function(e){return t.retroceder2()}}},[r("v-icon",{attrs:{dark:"",left:""}},[t._v(" mdi-arrow-left ")]),t._v("Atras ")],1)],1):t._e(),0!=t.recordsByCategoryMostrar&&0==t.pxinfo?r("v-simple-table",{staticClass:"mt-5"},[[r("thead",[r("tr",{staticStyle:{"background-color":"#CACACA"}},[r("th",{staticClass:"white--text ",staticStyle:{"text-align":"center"}},[t._v(" NOMBRE GRABACIÓN ")]),r("th",{staticClass:"white--text ",staticStyle:{"text-align":"center"}},[r("img",{staticClass:"mr-2",attrs:{src:a("0edc")}}),r("span",{staticClass:"underline cursor-pointer",on:{click:function(e){return t.changeSortOrderCalls(1)}}},[t._v("INFALTABLE ")])]),r("th",{staticClass:"white--text ",staticStyle:{"text-align":"center"}},[r("img",{staticClass:"mr-2",attrs:{src:a("0edc")}}),r("span",{staticClass:"underline cursor-pointer",on:{click:function(e){return t.changeSortOrderCalls(2)}}},[t._v("INFALTABLE NO HALLADA ")])]),r("th",{staticClass:"white--text ",staticStyle:{"text-align":"center"}},[r("img",{staticClass:"mr-2",attrs:{src:a("0edc")}}),r("span",{staticClass:"underline cursor-pointer",on:{click:function(e){return t.changeSortOrderCalls(4)}}},[t._v("NO PERMITIDA")])]),r("th",{staticClass:"white--text ",staticStyle:{"text-align":"center"}},[r("img",{staticClass:"mr-2",attrs:{src:a("0edc")}}),r("span",{staticClass:"underline cursor-pointer",on:{click:function(e){return t.changeSortOrderCalls(3)}}},[t._v("RECOMENDACIÓN")])])])]),r("tbody",t._l(t.filteredCalls,(function(e){return r("tr",{key:e.keyfile},[r("td",{on:{click:function(a){return t.mostrarConversacionSelected(e.keyfile)}}},[t._v(" "+t._s(e.keyfile)+" ")]),r("td",[t._v(" "+t._s(e.results.positivesOfRequired)+" ")]),r("td",[t._v(" "+t._s(e.results.negativesOfRequired)+" ")]),r("td",[t._v(t._s(e.results.positivesOfNotAllowed))]),r("td",[t._v(t._s(e.results.positivesOfRecommendation))])])})),0)]],2):t._e(),0==t.pxinfo&&0!=t.keywordsResultsMostrar?r("div",[r("v-btn",{staticClass:"ma-2",attrs:{color:"orange darken-2",dark:""},on:{click:function(e){return t.retroceder3()}}},[r("v-icon",{attrs:{dark:"",left:""}},[t._v(" mdi-arrow-left ")]),t._v("Atras ")],1)],1):t._e(),0!=t.keywordsResultsMostrar&&0==t.pxinfo?r("v-container",{staticClass:"pt-10"},[r("h3",{staticStyle:{color:"#FF9B00"}},[t._v("Clasificación")]),r("v-row",[r("v-col",[r("input",{directives:[{name:"model",rawName:"v-model",value:t.picked,expression:"picked"}],attrs:{type:"radio",id:"infaltable",value:"infaltable"},domProps:{checked:t._q(t.picked,"infaltable")},on:{change:function(e){t.picked="infaltable"}}}),r("label",{staticStyle:{color:"#FF9B00"},attrs:{for:"infaltable"}},[t._v(" Infaltable")]),r("br")]),r("v-col",[r("input",{directives:[{name:"model",rawName:"v-model",value:t.picked,expression:"picked"}],attrs:{type:"radio",id:"No permitida",value:"no permitida"},domProps:{checked:t._q(t.picked,"no permitida")},on:{change:function(e){t.picked="no permitida"}}}),r("label",{staticStyle:{color:"red"},attrs:{for:"No permitida"}},[t._v(" No permitida")]),r("br")]),r("v-col",[r("input",{directives:[{name:"model",rawName:"v-model",value:t.picked,expression:"picked"}],attrs:{type:"radio",id:"Recomendación",value:"recomendación"},domProps:{checked:t._q(t.picked,"recomendación")},on:{change:function(e){t.picked="recomendación"}}}),r("label",{attrs:{for:"Recomendación"}},[t._v(" Recomendación")]),r("br")])],1)],1):t._e(),0!=t.keywordsResultsMostrar&&0==t.pxinfo?r("v-simple-table",{staticClass:"mt-5"},[[r("thead",[r("tr",{staticStyle:{"background-color":"#CACACA"}},[r("th",{staticClass:"white--text "},[t._v("KEYWORD")]),r("th",{staticClass:"white--text "},[t._v("CATEGORIA")]),r("th",{staticClass:"white--text "},[t._v("MODULO")]),r("th",{staticClass:"white--text "},[r("img",{staticClass:"mr-2",attrs:{src:a("0edc")}}),r("span",{staticClass:"underline cursor-pointer",on:{click:function(e){return t.changeSortOrderMin(1)}}},[t._v(" DESDE")])]),r("th",{staticClass:"white--text "},[r("img",{staticClass:"mr-2",attrs:{src:a("0edc")}}),r("span",{staticClass:"underline cursor-pointer",on:{click:function(e){return t.changeSortOrderMin(2)}}},[t._v("HASTA")])])])]),r("tbody",t._l(t.filterRadio,(function(e){return r("tr",{key:e.id},[r("td",[t._v(" "+t._s(e.name)+" ")]),r("td",{staticStyle:{"text-transform":"capitalize"}},[t._v(" "+t._s(e.category)+" ")]),r("td",{staticStyle:{"text-transform":"capitalize"}},[t._v(t._s(e.module))]),r("td",[t._v(t._s(e.from))]),r("td",[t._v(t._s(e.to))])])})),0)]],2):t._e(),1==t.pxinfo?r("div",[r("px-info")],1):t._e()],1)],1)],1)},Nt=[],Bt=(a("a9e3"),a("466d"),a("841c"),function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)}),Tt=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{},[r("img",{staticStyle:{display:"block",margin:"auto"},attrs:{src:a("ae62"),alt:""}})])}],Dt={name:"PxInfo"},Mt=Dt,Ft=Object(d["a"])(Mt,Bt,Tt,!1,null,null,null),Vt=Ft.exports,Pt=window.location.pathname,Kt=Pt.split("/"),Lt="".concat("https://tableros-back.azurewebsites.net").concat(Pt),Gt="".concat("https://tableros-back.azurewebsites.net","/").concat(Kt[1],"/keywords"),zt={name:"PxAgentsAudit",components:{PxInfo:Vt},data:function(){return{auditAgents:[],dates:[(new Date).toISOString().substr(0,10)],keywords:{},pxinfo:!0,cantidadLlamadas:0,cantidadLlamadasAfectadas:0,topByCategory:[],recordsByCategory:[],recordsByCategoryMostrar:!1,agentSelected:"",keyfileSelected:"",keywordsResults:[],keywordsResultsMostrar:!1,menu1:!1,search:"",search2:"",search3:"",picked:"",sortOrder:1,sortOrderMin:1,sortOrderCalls:1,sortOrderKeywords:1,ordenamiento1Keywords:Number,ordenamiento1Min:Number,ordenamiento1:0,ordenamiento1Calls:Number,bandera:!1,banderaConver:!1}},created:function(){this.mostrar()},computed:{dateRangeText:function(){return this.dates.join(" ~ ")&&this.mostrar()},filteredAgents:function(){var t=this,e=1==this.sortOrder?-1:1,a=this.ordenamiento1;return this.topByCategory.filter((function(e){return e.name.toLowerCase().includes(t.search.toLowerCase())})).sort((function(r,s){return 1==a&&parseInt(r.results.recordings)>parseInt(s.results.recordings)||2==a&&parseInt(r.results.positivesOfRequired)>parseInt(s.results.positivesOfRequired)||3==a&&parseInt(r.results.negativesOfRequired)>parseInt(s.results.negativesOfRequired)||4==a&&parseInt(r.results.positivesOfNotAllowed)>parseInt(s.results.positivesOfNotAllowed)||5==a&&parseInt(r.results.positivesOfRecommendation)>parseInt(s.results.positivesOfRecommendation)?t.sortOrder:(t.ordenamiento1=0,e)}))},filteredCalls:function(){var t=this,e=1==this.sortOrderCalls?-1:1,a=this.ordenamiento1Calls;return this.recordsByCategory.filter((function(e){return e.keyfile.match(t.search2)})).sort((function(r,s){return 1==a&&parseInt(r.results.positivesOfRequired)>parseInt(s.results.positivesOfRequired)||2==a&&parseInt(r.results.negativesOfRequired)>parseInt(s.results.negativesOfRequired)||4==a&&parseInt(r.results.positivesOfNotAllowed)>parseInt(s.results.positivesOfNotAllowed)||3==a&&parseInt(r.results.positivesOfRecommendation)>parseInt(s.results.positivesOfRecommendation)?t.sortOrderCalls:(t.ordenamiento1Calls="",e)}))},filterRadio:function(){var t=this,e=1==this.sortOrderMin?-1:1,a=this.ordenamiento1Min;return this.keywordsResults.filter((function(e){return e.category.match(t.picked)})).sort((function(r,s){return 1==a&&String(r.from)>String(s.from)||2==a&&String(r.to)>String(s.to)?t.sortOrderMin:(t.ordenamiento1Min="",e)}))}},watch:{},methods:{retroceder:function(){this.search="",this.bandera=!1,this.search2="",this.banderaConver=!1,this.recordsByCategoryMostrar=!1,this.keywordsResultsMostrar=!1,this.agentSelected="",this.keyfileSelected=""},retroceder2:function(){this.search="",this.bandera=!1,this.search2="",this.banderaConver=!1,this.recordsByCategoryMostrar=!1,this.keywordsResultsMostrar=!1,this.agentSelected="",this.keyfileSelected=""},retroceder3:function(){this.search2="",this.banderaConver=!1,this.keywordsResultsMostrar=!1,this.keyfileSelected=""},changeSortOrder:function(t){this.sortOrder=1==this.sortOrder?-1:1,this.ordenamiento1=t,console.log("como se va a organizar",this.ordenamiento1)},changeSortOrderCalls:function(t){this.sortOrderCalls=1==this.sortOrderCalls?-1:1,this.ordenamiento1Calls=t},changeSortOrderKeywords:function(t){this.sortOrderKeywords=1==this.sortOrderKeywords?-1:1,this.ordenamiento1Keywords=t},changeSortOrderMin:function(t){this.sortOrderMin=1==this.sortOrderMin?-1:1,this.ordenamiento1Min=t},mostrarDetalleCall:function(t){this.agentSelected=t,console.log("el agent seleccionado",this.agentSelected),0==this.bandera?(this.search=t,this.bandera=!0,this.recordsByCategoryMostrar=!0):(this.search="",this.bandera=!1,this.search2="",this.banderaConver=!1,this.recordsByCategoryMostrar=!1,this.keywordsResultsMostrar=!1,this.agentSelected="",this.keyfileSelected=""),this.mostrar()},mostrarConversacionSelected:function(t){this.keyfileSelected=t,console.log("keyfile seleccionado",this.keyfileSelected),0==this.banderaConver?(this.search2=t,this.banderaConver=!0,this.keywordsResultsMostrar=!0):(this.search2="",this.banderaConver=!1,this.keywordsResultsMostrar=!1,this.keyfileSelected=""),this.mostrar()},mostrar:function(){var t=this;return Object(w["a"])(regeneratorRuntime.mark((function e(){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(1!=t.dates.length){e.next=7;break}return e.next=3,t.axios.get(Lt+"?eventDate=".concat(t.dates,"T00:00:00.000Z"));case 3:a=e.sent,void 0==t.auditAgents[0].recordingsSummary?t.pxinfo=!0:t.pxinfo=!1,e.next=11;break;case 7:return t.pxinfo=!1,e.next=10,t.axios.get(Lt+"?eventDate=".concat(t.dates[0],"T00:00:00.000Z&&eventDate=").concat(t.dates[1],"T00:00:00.000Z"));case 10:a=e.sent;case 11:if(t.auditAgents=a.data.body,console.log("object2",t.auditAgents),console.log("primera impresion agent",t.agentSelected),console.log("primera impresion keyfile",t.keyfileSelected),t.mostrarCantidadDeLLamadas(t.auditAgents),t.mostrarTableDetailOfAgents(t.auditAgents),t.mostrarTableCallDetailByAgent(t.auditAgents,t.agentSelected),!(t.keyfileSelected.length>0)){e.next=26;break}return e.next=21,t.axios.get(Gt+"?keyfile=".concat(t.keyfileSelected));case 21:r=e.sent,console.log("url keywords",Gt+"?keyfile=".concat(t.keyfileSelected)),console.log("object buscar en keywords",r.data.body),t.keywords=r.data.body,t.mostrarTableKeywords(t.keywords,t.keyfileSelected);case 26:case"end":return e.stop()}}),e)})))()},mostrarCantidadDeLLamadas:function(t){for(var e=0,a=0;a<t.length;a++)for(var r in t[a].recordingsSummary)e+=t[a].recordingsSummary[r].length;this.cantidadLlamadas=e,0==this.cantidadLlamadas?this.pxinfo=!0:this.pxinfo=!1;for(var s=0,n=0;n<t.length;n++)s+=t[n].affectedRecordings;this.cantidadLlamadasAfectadas=s},mostrarTableDetailOfAgents:function(t){for(var e={},a=0;a<t.length;a++){for(var r=0;r<t[a].agentsSummary.length;r++){var s=t[a].agentsSummary[r],n=s.name;Object.prototype.hasOwnProperty.call(e,n)?(e[n].results.recordings+=s.results.recordings,e[n].results.positivesOfRequired+=s.results.positivesOfRequired,e[n].results.negativesOfRequired+=s.results.negativesOfRequired,e[n].results.positivesOfNotAllowed+=s.results.positivesOfNotAllowed,e[n].results.negativesOfNotAllowed+=s.results.negativesOfNotAllowed,e[n].results.positivesOfRecommendation+=s.results.positivesOfRecommendation,e[n].results.negativesOfRecommendation+=s.results.negativesOfRecommendation):e[n]={results:s.results}}var o=[];for(var i in e){var c={name:i,results:e[i].results};o.push(c)}this.topByCategory=o}},mostrarTableCallDetailByAgent:function(t,e){this.recordsByCategory=[];for(var a=0;a<t.length;a++)for(var r in t[a].recordingsSummary)r==e&&(this.recordsByCategory=this.recordsByCategory.concat(t[a].recordingsSummary[r]))},mostrarTableKeywords:function(t,e){function a(t){return new Date(1e3*t).toISOString().substr(11,11)}console.log("keyfile",e);var r=t[0].contents,s=[],n=0;for(var o in r){for(var i=0;i<r[o].results.length;i++){console.log("mostrar",r[o].results[i]),n++;var c={id:n+o,name:o,module:r[o].clasification.module,category:r[o].clasification.category};r[o].results[i]["from"]=a(r[o].results[i]["from"]),r[o].results[i]["to"]=a(r[o].results[i]["to"]),c["speaker"]=r[o].results[i]["speaker"],c["from"]=r[o].results[i]["from"],c["to"]=r[o].results[i]["to"],c["confidence"]=r[o].results[i]["confidence"],console.log("package",c),s.push(c)}if(0==r[o].results.length){var l={id:n+o,name:o,module:r[o].clasification.module,category:r[o].clasification.category,speaker:"-",from:"-",to:"-",confidence:"-"};console.log("keywordsPackage",l),s.push(l)}}console.log("keywordsArray",s);for(var d=[],u=[],h=0;h<s.length;h++)"-"!=s[h].speaker?d.push(s[h]):u.push(s[h]);s=d.concat(u),console.log("keywordArray",s),this.keywordsResults=s}}},qt=zt,$t=a("2e4b"),Yt=a("e449"),Ut=Object(d["a"])(qt,It,Nt,!1,null,null,null),Jt=Ut.exports;N()(Ut,{VApp:B["a"],VBtn:T["a"],VCol:F["a"],VContainer:V["a"],VDatePicker:$t["a"],VIcon:L["a"],VMain:G["a"],VMenu:Yt["a"],VRow:z["a"],VSimpleTable:q["a"],VTextField:Y["a"]});var Zt={name:"AgentsAudit",components:{PxAgentsAudit:Jt}},Wt=Zt,Ht=Object(d["a"])(Wt,jt,Et,!1,null,null,null),Qt=Ht.exports,Xt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("px-agents-audit-phrases")},te=[],ee=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"app"},[r("v-app",[r("v-main",[r("h2",{staticClass:"ml-3",staticStyle:{color:"#FF9B00"}},[t._v(" AUDITORIA "),r("span",{staticStyle:{color:"#CACACA"}},[t._v("DE AGENTES ")]),t._v("POR FRASES ")]),r("v-container",{},[r("v-row",[r("v-col",{attrs:{cols:"6",sm:"4"}},[r("v-menu",{ref:"menu1",attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"auto"},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,s=e.attrs;return[r("v-text-field",t._g(t._b({attrs:{label:"Date",hint:"YYYY/MM/DD","persistent-hint":"","prepend-icon":"mdi-calendar"},on:{blur:function(e){t.date=t.parseDate(t.dateFormatted)}},model:{value:t.dates,callback:function(e){t.dates=e},expression:"dates"}},"v-text-field",s,!1),a))]}}]),model:{value:t.menu1,callback:function(e){t.menu1=e},expression:"menu1"}},[r("v-date-picker",{attrs:{range:"",color:"orange accent-3 lighten-1"},model:{value:t.dates,callback:function(e){t.dates=e},expression:"dates"}})],1),r("p",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}]},[t._v(t._s(t.dateRangeText))])],1),r("v-col",{staticStyle:{"justify-content":"center","align-items":"center","text-align":"center"}},[r("h3",{staticClass:"orange--text"},[t._v(" TOTAL "),r("span",{staticStyle:{color:"#CACACA"}},[t._v("GRABACIONES")])]),r("span",{staticClass:"text-h2 orange--text"},[t._v(t._s(this.cantidadLlamadas))])]),r("v-col",{staticStyle:{"justify-content":"center","align-items":"center","text-align":"center"}},[r("h3",{staticClass:"orange--text"},[t._v(" TOTAL "),r("span",{staticStyle:{color:"#CACACA"}},[t._v("GRABACIONES")]),t._v(" AFECTADAS ")]),r("span",{staticClass:"text-h2 orange--text"},[t._v(t._s(this.cantidadLlamadasAfectadas))])])],1)],1),0==t.pxinfo?r("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],attrs:{placeholder:"Buscar...",type:"text"},domProps:{value:t.search},on:{input:function(e){e.target.composing||(t.search=e.target.value)}}}):t._e(),0==t.pxinfo?r("v-simple-table",{staticClass:"mt-5",scopedSlots:t._u([{key:"default",fn:function(){return[r("thead",[r("tr",{staticStyle:{"background-color":"#CACACA"}},[r("th",{staticClass:"white--text ",staticStyle:{"text-align":"center"}},[t._v(" NOMBRE ")]),r("th",{staticClass:"white--text ",staticStyle:{"text-align":"center"}},[r("img",{staticClass:"mr-2",attrs:{src:a("0edc")}}),r("span",{staticClass:"underline cursor-pointer",on:{click:function(e){return t.changeSortOrder("a.results.records")}}},[t._v("GRABACIONES")])]),r("th",{staticClass:"white--text ",staticStyle:{"text-align":"center"}},[r("img",{staticClass:"mr-2",staticStyle:{color:"white"},attrs:{src:a("0edc")}}),r("span",{staticClass:"underline cursor-pointer",on:{click:function(e){return t.changeSortOrder("a.results.infaltable.positive")}}},[t._v("INFALTABLE ")])]),r("th",{staticClass:"white--text ",staticStyle:{"text-align":"center"}},[r("img",{staticClass:"mr-2",attrs:{src:a("0edc")}}),r("span",{staticClass:"underline cursor-pointer",on:{click:function(e){return t.changeSortOrder("a.results.infaltable.negative")}}},[t._v("INFALTABLE NO HALLADA ")])]),r("th",{staticClass:"white--text ",staticStyle:{"text-align":"center"}},[r("img",{staticClass:"mr-2",attrs:{src:a("0edc")}}),r("span",{staticClass:"underline cursor-pointer",on:{click:function(e){return t.changeSortOrder("a.results.nopermitidas.positive")}}},[t._v("NO PERMITIDA")])])])]),r("tbody",t._l(t.filteredAgents,(function(e){return r("tr",{key:e.name},[r("td",{on:{click:function(a){return t.mostrarDetalleCall(e.name)}}},[t._v(" "+t._s(e.name)+" ")]),r("td",{staticStyle:{"text-align":"center"}},[t._v(" "+t._s(e.results.recordings)+" ")]),r("td",{staticStyle:{"text-align":"center"}},[t._v(" "+t._s(e.results.positivesOfRequired)+" ")]),r("td",{staticStyle:{"text-align":"center"}},[t._v(" "+t._s(e.results.negativesOfRequired)+" ")]),r("td",{staticStyle:{"text-align":"center"}},[t._v(" "+t._s(e.results.positivesOfNotAllowed)+" ")])])})),0)]},proxy:!0}],null,!1,3526648015)}):t._e(),r("input",{directives:[{name:"model",rawName:"v-model",value:t.search2,expression:"search2"}],attrs:{hidden:"",placeholder:"Buscar...",type:"text"},domProps:{value:t.search2},on:{input:function(e){e.target.composing||(t.search2=e.target.value)}}}),0!=t.recordsByCategoryMostrar&&0==t.pxinfo?r("v-simple-table",{staticClass:"mt-5"},[[r("thead",[r("tr",{staticStyle:{"background-color":"#CACACA"}},[r("th",{staticClass:"white--text ",staticStyle:{"text-align":"center"}},[t._v(" NOMBRE GRABACIÓN ")]),r("th",{staticClass:"white--text ",staticStyle:{"text-align":"center"}},[r("img",{staticClass:"mr-2",attrs:{src:a("0edc")}}),r("span",{staticClass:"underline cursor-pointer",on:{click:function(e){return t.changeSortOrderCalls("a.results.infaltable.positive")}}},[t._v("INFALTABLE ")])]),r("th",{staticClass:"white--text ",staticStyle:{"text-align":"center"}},[r("img",{staticClass:"mr-2",attrs:{src:a("0edc")}}),r("span",{staticClass:"underline cursor-pointer",on:{click:function(e){return t.changeSortOrderCalls("a.results.infaltable.negative")}}},[t._v("INFALTABLE NO HALLADA ")])]),r("th",{staticClass:"white--text ",staticStyle:{"text-align":"center"}},[r("img",{staticClass:"mr-2",attrs:{src:a("0edc")}}),r("span",{staticClass:"underline cursor-pointer",on:{click:function(e){return t.changeSortOrderCalls("a.results.nopermitidas.positive")}}},[t._v("NO PERMITIDA")])])])]),r("tbody",t._l(t.filteredCalls,(function(e){return r("tr",{key:e.keyfile},[r("td",{on:{click:function(a){return t.mostrarConversacionSelected(e.keyfile)}}},[t._v(" "+t._s(e.keyfile)+" ")]),r("td",[t._v(" "+t._s(e.results.positivesOfRequired)+" ")]),r("td",[t._v(" "+t._s(e.results.negativesOfRequired)+" ")]),r("td",[t._v(t._s(e.results.positivesOfNotAllowed))])])})),0)]],2):t._e(),0!=t.phrasesResultsMostrar?r("v-container",{staticClass:"pt-10"},[r("h3",{staticStyle:{color:"#FF9B00"}},[t._v("Clasificación")]),r("v-row",[r("v-col",[r("input",{directives:[{name:"model",rawName:"v-model",value:t.picked,expression:"picked"}],attrs:{type:"radio",id:"infaltable",value:"infaltable"},domProps:{checked:t._q(t.picked,"infaltable")},on:{change:function(e){t.picked="infaltable"}}}),r("label",{staticStyle:{color:"#FF9B00"},attrs:{for:"infaltable"}},[t._v(" Infaltable")]),r("br")]),r("v-col",[r("input",{directives:[{name:"model",rawName:"v-model",value:t.picked,expression:"picked"}],attrs:{type:"radio",id:"No permitida",value:"no permitida"},domProps:{checked:t._q(t.picked,"no permitida")},on:{change:function(e){t.picked="no permitida"}}}),r("label",{staticStyle:{color:"red"},attrs:{for:"No permitida"}},[t._v(" No permitida")]),r("br")]),r("v-col",[r("input",{directives:[{name:"model",rawName:"v-model",value:t.picked,expression:"picked"}],attrs:{type:"radio",id:"Recomendación",value:"recomendación"},domProps:{checked:t._q(t.picked,"recomendación")},on:{change:function(e){t.picked="recomendación"}}}),r("label",{attrs:{for:"Recomendación"}},[t._v(" Recomendación")]),r("br")])],1)],1):t._e(),0!=t.phrasesResultsMostrar&&0==t.pxinfo?r("v-simple-table",{staticClass:"mt-5"},[[r("thead",[r("tr",{staticStyle:{"background-color":"#CACACA"}},[r("th",{staticClass:"white--text "},[t._v("PHRASES")]),r("th",{staticClass:"white--text "},[t._v("CATEGORIA")]),r("th",{staticClass:"white--text "},[t._v("MODULO")]),r("th",{staticClass:"white--text "},[r("img",{staticClass:"mr-2",attrs:{src:a("0edc")}}),r("span",{staticClass:"underline cursor-pointer"},[t._v(" DESDE")])]),r("th",{staticClass:"white--text "},[r("img",{staticClass:"mr-2",attrs:{src:a("0edc")}}),r("span",{staticClass:"underline cursor-pointer"},[t._v("HASTA")])])])]),r("tbody",t._l(t.filterRadio,(function(e){return r("tr",{key:e.id},[r("td",[t._v(" "+t._s(e.name)+" ")]),r("td",{staticStyle:{"text-transform":"capitalize"}},[t._v(" "+t._s(e.category)+" ")]),r("td",{staticStyle:{"text-transform":"capitalize"}},[t._v(t._s(e.module))]),r("td",[t._v(t._s(e.from))]),r("td",[t._v(t._s(e.to))])])})),0)]],2):t._e(),1==t.pxinfo?r("div",[r("px-info")],1):t._e()],1)],1)],1)},ae=[],re=window.location.pathname,se=re.split("/"),ne="".concat("https://tableros-back.azurewebsites.net").concat(re),oe="".concat("https://tableros-back.azurewebsites.net","/").concat(se[1],"/phrases"),ie={name:"PxAgentsAuditPhrases",components:{PxInfo:Vt},data:function(){return{auditAgents:[],pxinfo:!0,phrases:{},dates:[(new Date).toISOString().substr(0,10)],cantidadLlamadas:0,cantidadLlamadasAfectadas:0,topByCategory:[],recordsByCategory:[],recordsByCategoryMostrar:!1,agentSelected:"",keyfileSelected:"",phrasesResults:[],phrasesResultsMostrar:!1,menu1:!1,search:"",search2:"",search3:"",picked:"",sortOrder:1,sortOrderCalls:1,sortOrderKeywords:1,ordenamiento1Keywords:Number,ordenamiento1:Number,ordenamiento1Calls:Number,bandera:!1,banderaConver:!1}},created:function(){this.mostrar()},computed:{dateRangeText:function(){return this.dates.join(" ~ ")&&this.mostrar()},filteredAgents:function(){var t=this,e=1==this.sortOrder?-1:1,a=this.ordenamiento1;return this.topByCategory.filter((function(e){return e.name.match(t.search)})).sort((function(r,s){return"a.results.records"==a&&parseInt(r.results.recordings)>parseInt(s.results.recordings)||"a.results.infaltable.positive"==a&&parseInt(r.results.positivesOfRequired)>parseInt(s.results.positivesOfRequired)||"a.results.infaltable.negative"==a&&parseInt(r.results.negativesOfRequired)>parseInt(s.results.negativesOfRequired)||"a.results.nopermitidas.positive"==a&&parseInt(r.results.positivesOfNotAllowed)>parseInt(s.results.positivesOfNotAllowed)||"a.results.recomendacion.positive"==a&&parseInt(r.results.positivesOfRecommendation)>parseInt(s.results.positivesOfRecommendation)?t.sortOrder:(t.ordenamiento1="",e)}))},filteredCalls:function(){var t=this,e=1==this.sortOrderCalls?-1:1,a=this.ordenamiento1Calls;return this.recordsByCategory.filter((function(e){return e.keyfile.match(t.search2)})).sort((function(r,s){return"a.results.infaltable.positive"==a&&parseInt(r.results.positivesOfRequired)>parseInt(s.results.positivesOfRequired)||"a.results.infaltable.negative"==a&&parseInt(r.results.negativesOfRequired)>parseInt(s.results.negativesOfRequired)||"a.results.nopermitidas.positive"==a&&parseInt(r.results.positivesOfNotAllowed)>parseInt(s.results.positivesOfNotAllowed)||"a.results.recomendacion.positive"==a&&parseInt(r.results.positivesOfRecommendation)>parseInt(s.results.positivesOfRecommendation)?t.sortOrderCalls:(t.ordenamiento1Calls="",e)}))},filterRadio:function(){var t=this;return this.phrasesResults.filter((function(e){return e.category.match(t.picked)}))}},watch:{},methods:{changeSortOrder:function(t){this.sortOrder=1==this.sortOrder?-1:1,this.ordenamiento1=t,console.log("como se va a organizar",this.ordenamiento)},changeSortOrderCalls:function(t){this.sortOrderCalls=1==this.sortOrderCalls?-1:1,this.ordenamiento1Calls=t},changeSortOrderKeywords:function(t){this.sortOrderKeywords=1==this.sortOrderKeywords?-1:1,this.ordenamiento1Keywords=t},mostrarDetalleCall:function(t){this.agentSelected=t,console.log("el agent seleccionado",this.agentSelected),0==this.bandera?(this.search=t,this.bandera=!0,this.recordsByCategoryMostrar=!0):(this.search="",this.bandera=!1,this.search2="",this.banderaConver=!1,this.recordsByCategoryMostrar=!1,this.phrasesResultsMostrar=!1,this.agentSelected="",this.keyfileSelected=""),this.mostrar()},mostrarConversacionSelected:function(t){this.keyfileSelected=t,console.log("keyfile seleccionado",this.keyfileSelected),0==this.banderaConver?(this.search2=t,this.banderaConver=!0,this.phrasesResultsMostrar=!0):(this.search2="",this.banderaConver=!1,this.phrasesResultsMostrar=!1,this.keyfileSelected=""),this.mostrar()},mostrar:function(){var t=this;return Object(w["a"])(regeneratorRuntime.mark((function e(){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(1!=t.dates.length){e.next=7;break}return e.next=3,t.axios.get(ne+"?eventDate=".concat(t.dates,"T00:00:00.000Z"));case 3:a=e.sent,void 0==t.auditAgents[0].recordingsSummary?t.pxinfo=!0:t.pxinfo=!1,e.next=11;break;case 7:return t.pxinfo=!1,e.next=10,t.axios.get(ne+"?eventDate=".concat(t.dates[0],"T00:00:00.000Z&&eventDate=").concat(t.dates[1],"T00:00:00.000Z"));case 10:a=e.sent;case 11:if(t.auditAgents=a.data.body,console.log("object",t.auditAgents),console.log("primera impresion agent",t.agentSelected),console.log("primera impresion keyfile",t.keyfileSelected),t.mostrarCantidadDeLLamadas(t.auditAgents),t.mostrarTableDetailOfAgents(t.auditAgents),t.mostrarTableCallDetailByAgent(t.auditAgents,t.agentSelected),!(t.keyfileSelected.length>0)){e.next=26;break}return e.next=21,t.axios.get(oe+"?keyfile=".concat(t.keyfileSelected));case 21:r=e.sent,console.log("url Phrases",oe+"?keyfile=".concat(t.keyfileSelected)),console.log("object",r.data.body),t.phrases=r.data.body,t.mostrarTableKeywords(t.phrases,t.keyfileSelected);case 26:case"end":return e.stop()}}),e)})))()},mostrarCantidadDeLLamadas:function(t){for(var e=0,a=0;a<t.length;a++)for(var r in t[a].recordingsSummary)e+=t[a].recordingsSummary[r].length;this.cantidadLlamadas=e,0==this.cantidadLlamadas?(this.pxinfo=!0,console.log("entro")):this.pxinfo=!1;for(var s=0,n=0;n<t.length;n++)s+=t[n].affectedRecordings;this.cantidadLlamadasAfectadas=s},mostrarTableDetailOfAgents:function(t){for(var e={},a=0;a<t.length;a++){for(var r=0;r<t[a].agentsSummary.length;r++){var s=t[a].agentsSummary[r],n=s.name;Object.prototype.hasOwnProperty.call(e,n)?(e[n].results.recordings+=s.results.recordings,e[n].results.positivesOfRequired+=s.results.positivesOfRequired,e[n].results.negativesOfRequired+=s.results.negativesOfRequired,e[n].results.positivesOfNotAllowed+=s.results.positivesOfNotAllowed,e[n].results.negativesOfNotAllowed+=s.results.negativesOfNotAllowed,e[n].results.positivesOfRecommendation+=s.results.positivesOfRecommendation,e[n].results.negativesOfRecommendation+=s.results.negativesOfRecommendation):e[n]={results:s.results}}var o=[];for(var i in e){var c={name:i,results:e[i].results};o.push(c)}this.topByCategory=o}},mostrarTableCallDetailByAgent:function(t,e){this.recordsByCategory=[];for(var a=0;a<t.length;a++)for(var r in t[a].recordingsSummary)r==e&&(this.recordsByCategory=this.recordsByCategory.concat(t[a].recordingsSummary[r]))},mostrarTableKeywords:function(t,e){function a(t){return new Date(1e3*t).toISOString().substr(11,11)}console.log("keyfile",e),console.log("acacaca que viene",t[0].contents);var r=t[0].contents,s=[],n=0;for(var o in r){for(var i=0;i<r[o].results.length;i++){console.log("mostrar",r[o].results[i]),n++;var c={id:n+o,name:o,module:r[o].clasification.module,category:r[o].clasification.category};r[o].results[i]["from"]=a(r[o].results[i]["from"]),r[o].results[i]["to"]=a(r[o].results[i]["to"]),c["speaker"]=r[o].results[i]["speaker"],c["from"]=r[o].results[i]["from"],c["to"]=r[o].results[i]["to"],c["ratio"]=r[o].results[i]["ratio"],console.log("package",c),s.push(c)}if(0==r[o].results.length){var l={id:n+o,name:o,module:r[o].clasification.module,category:r[o].clasification.category,speaker:"-",from:"-",to:"-",ratio:"-"};s.push(l)}}console.log("keywordsArray",s);for(var d=[],u=[],h=0;h<s.length;h++)"-"!=s[h].speaker?d.push(s[h]):u.push(s[h]);s=d.concat(u),console.log("keywordArray",s),this.phrasesResults=s}}},ce=ie,le=Object(d["a"])(ce,ee,ae,!1,null,null,null),de=le.exports;N()(le,{VApp:B["a"],VCol:F["a"],VContainer:V["a"],VDatePicker:$t["a"],VMain:G["a"],VMenu:Yt["a"],VRow:z["a"],VSimpleTable:q["a"],VTextField:Y["a"]});var ue={name:"AgentsAuditPhrases",components:{PxAgentsAuditPhrases:de}},he=ue,fe=Object(d["a"])(he,Xt,te,!1,null,null,null),me=fe.exports,pe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("px-consumption")},ve=[],ge=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app"},[a("v-app",[a("v-main",[a("h2",{staticClass:"text-center orange--text"},[t._v("CONSUMO")]),a("v-container",[a("v-row",[a("v-col",{attrs:{lg:"2",cols:"5",sm:"5"}},[a("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,"return-value":t.date,transition:"scale-transition","offset-y":"",color:"orange accent-3 lighten-1","max-width":"290px","min-width":"auto"},on:{"update:returnValue":function(e){t.date=e},"update:return-value":function(e){t.date=e}},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on,s=e.attrs;return[a("v-text-field",t._g(t._b({attrs:{label:"Fecha","prepend-icon":"mdi-calendar",color:"orange accent-3 lighten-1",readonly:""},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}},"v-text-field",s,!1),r))]}}]),model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[a("v-date-picker",{attrs:{type:"month","no-title":"",scrollable:""},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}},[a("v-spacer"),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){t.menu=!1}}},[t._v(" Cancel ")]),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){return t.$refs.menu.save(t.date)}}},[t._v(" OK ")])],1)],1),a("p",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}]},[t._v(t._s(t.submitDate))])],1)],1),a("v-row",[a("v-col",[a("v-card",{attrs:{elevation:"2"}},[a("h5",{staticStyle:{color:"#FF9B00","text-align":"center"}},[t._v(" TOTAL MINUTOS "),a("br")]),a("h1",{staticStyle:{"text-align":"center"}},[a("span",{staticStyle:{color:"#4C4C4C"}},[t._v(t._s(t.totalMinutes))])])])],1),a("v-col",[a("h5",{staticStyle:{color:"#FF9B00","text-align":"center"}},[t._v(" TOTAL "),a("span",{},[t._v(" GRABACIONES ")]),a("br")]),a("h1",{staticStyle:{"text-align":"center"}},[a("span",{staticStyle:{color:"#4C4C4C"}},[t._v(t._s(t.totalCallRecords))])])]),a("v-col",[a("h5",{staticStyle:{color:"#FF9B00","text-align":"center"}},[t._v(" GRABACIONES LEIDAS "),a("br")]),a("h1",{staticStyle:{"text-align":"center"}},[a("span",{staticStyle:{color:"#4C4C4C"}},[t._v(t._s(t.callRead))])])])],1)],1),a("v-container",{staticClass:"pt-lg-12"},[a("v-row",[a("br"),a("h3",{staticClass:"ml-lg-10",staticStyle:{color:"#FF9B00"}},[t._v("MINUTOS")]),a("br"),a("br"),a("column-chart",{attrs:{colors:["#FF9B00","#CC7C00"],data:t.graficaMinutes}})],1),a("v-row",[a("br"),a("h3",{staticClass:"ml-lg-10 pt-lg-8 pb-lg-8",staticStyle:{color:"#FF9B00"}},[t._v(" GRABACIONES ")]),a("br"),a("br"),a("column-chart",{attrs:{colors:["#FF9B00"],data:t.graficaCallRecords}})],1)],1)],1)],1)],1)},ye=[],be=(a("4160"),a("c35a"),a("b680"),a("159b"),window.location.pathname);console.log("currenturl",be);var Ce="".concat("https://tableros-back.azurewebsites.net").concat(be);console.log("url",Ce);var _e={name:"PxConsumption",data:function(){return{date:(new Date).toISOString().substr(0,7),menu:!1,fechas:[],totalMinutes:0,totalCallRecords:0,callRead:0,graficaMinutes:[],graficaCallRecords:[]}},created:function(){this.mostar()},computed:{submitDate:function(){var t=new Date(this.date).toISOString().substr(0,7);return console.log(t),this.mostar(),t}},methods:{mostar:function(){var t=this;return Object(w["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.axios.get(Ce+"?yearMonthString=".concat(t.date));case 2:a=e.sent,t.fechas=a.data.body,console.log("response.data.body",a.data.body),t.mostrarTotalMinutes(t.fechas),t.mostrarTotalCallRecords(t.fechas),t.mostrarCallRead(t.fechas),t.mostrargraficaMinutes(t.fechas),t.mostrargraficaCallRecords(t.fechas);case 10:case"end":return e.stop()}}),e)})))()},mostrarTotalMinutes:function(t){var e=0;t.forEach((function(t){e+=t.totalMinutes})),this.totalMinutes=Number.parseFloat(e).toFixed(2)},mostrarTotalCallRecords:function(t){var e=0;t.forEach((function(t){e+=t.totalFiles})),this.totalCallRecords=e},mostrarCallRead:function(t){var e=0;t.forEach((function(t){e+=t.processedFiles})),this.callRead=e},mostrargraficaMinutes:function(t){var e=[];t.forEach((function(t){var a=[];a.dia=a.push(t.dayString),a.minutes=a.push(t.totalMinutes),e.push(a)})),console.log("datos a graficar",e),console.log(t),this.graficaMinutes=e},mostrargraficaCallRecords:function(t){var e=[];t.forEach((function(t){var a=[];a.dia=a.push(t.dayString),a.minutes=a.push(t.totalFiles),e.push(a)})),console.log("datos a graficar",e),console.log(t),this.graficaCallRecords=e}}},xe=_e,ke=Object(d["a"])(xe,ge,ye,!1,null,null,null),we=ke.exports;N()(ke,{VApp:B["a"],VBtn:T["a"],VCard:D["a"],VCol:F["a"],VContainer:V["a"],VDatePicker:$t["a"],VMain:G["a"],VMenu:Yt["a"],VRow:z["a"],VSpacer:$["a"],VTextField:Y["a"]});var Se={name:"Consumption",components:{PxConsumption:we}},Ae=Se,Oe=Object(d["a"])(Ae,pe,ve,!1,null,null,null),Re=Oe.exports,je=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("px-scores-by-keywords")},Ee=[],Ie=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"app"},[r("v-app",[r("v-main",[r("h2",{staticClass:"ml-3",staticStyle:{color:"#FF9B00"}},[t._v(" Puntaje "),r("span",{staticStyle:{color:"#CACACA"}},[t._v("por keywords")])]),r("v-container",{},[r("v-row",[r("v-col",{attrs:{cols:"12",sm:"6"}},[r("v-menu",{ref:"menu1",attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"auto"},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,s=e.attrs;return[r("v-text-field",t._g(t._b({attrs:{label:"Date",hint:"YYYY/MM/DD","persistent-hint":"","prepend-icon":"mdi-calendar"},on:{blur:function(e){t.date=t.parseDate(t.dateFormatted)}},model:{value:t.dates,callback:function(e){t.dates=e},expression:"dates"}},"v-text-field",s,!1),a))]}}]),model:{value:t.menu1,callback:function(e){t.menu1=e},expression:"menu1"}},[r("v-date-picker",{attrs:{range:"",color:"orange accent-3 lighten-1"},model:{value:t.dates,callback:function(e){t.dates=e},expression:"dates"}})],1),r("p",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}]},[t._v(t._s(t.dateRangeText))])],1),r("v-col",{staticStyle:{"justify-content":"center","align-items":"center","text-align":"center"}},[r("h3",{staticClass:"orange--text"},[t._v(" TOTAL "),r("span",{staticStyle:{color:"#CACACA"}},[t._v("GRABACIONES")])]),r("span",{staticClass:"text-h2 orange--text"},[t._v(t._s(this.cantidadLlamadas))])])],1)],1),0==t.pxinfo&&0==t.recordScoreByKeywordsMostrar?r("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],attrs:{placeholder:"Buscar...",type:"text"},domProps:{value:t.search},on:{input:function(e){e.target.composing||(t.search=e.target.value)}}}):t._e(),0==t.pxinfo&&0!=t.recordScoreByKeywordsMostrar?r("div",[r("v-btn",{staticClass:"ma-2",attrs:{color:"orange darken-2",dark:""},on:{click:function(e){return t.retroceder()}}},[r("v-icon",{attrs:{dark:"",left:""}},[t._v(" mdi-arrow-left ")]),t._v("Volver ")],1)],1):t._e(),0==t.pxinfo?r("v-simple-table",{staticClass:"mt-5",scopedSlots:t._u([{key:"default",fn:function(){return[r("thead",[r("tr",{staticStyle:{"background-color":"#CACACA"}},[r("th",{staticClass:"white--text ",staticStyle:{"text-align":"center"}},[t._v(" NOMBRE ")]),r("th",{staticClass:"white--text ",staticStyle:{"text-align":"center"}},[r("img",{staticClass:"mr-2",attrs:{src:a("0edc")}}),r("span",{staticClass:"underline cursor-pointer",on:{click:function(e){return t.changeSortOrder(3)}}},[t._v("GRABACIONES ")])]),r("th",{staticClass:"white--text ",staticStyle:{"text-align":"center"}},[r("img",{staticClass:"mr-2",attrs:{src:a("0edc")}}),r("span",{staticClass:"underline cursor-pointer",on:{click:function(e){return t.changeSortOrder(1)}}},[t._v("PUNTAJE PROMEDIO")])])])]),r("tbody",t._l(t.filteredAgents,(function(e){return r("tr",{key:e.name},[r("td",{on:{click:function(a){return t.mostrarDetalleCall(e.name)}}},[t._v(" "+t._s(e.name)+" ")]),r("td",{staticStyle:{"text-align":"center"}},[t._v(" "+t._s(e.results.recordings)+" ")]),r("td",{staticStyle:{"text-align":"center"}},[t._v(" "+t._s(e.results.totalScore.toFixed(1))+" % ")])])})),0)]},proxy:!0}],null,!1,3276522944)}):t._e(),r("input",{directives:[{name:"model",rawName:"v-model",value:t.search2,expression:"search2"}],attrs:{hidden:"",placeholder:"Buscar...",type:"text"},domProps:{value:t.search2},on:{input:function(e){e.target.composing||(t.search2=e.target.value)}}}),0==t.pxinfo&&0!=t.recordScoreByKeywordsMostrar?r("div",[r("v-btn",{staticClass:"ma-2",attrs:{color:"orange darken-2",dark:""},on:{click:function(e){return t.retroceder2()}}},[r("v-icon",{attrs:{dark:"",left:""}},[t._v(" mdi-arrow-left ")]),t._v("Atras ")],1)],1):t._e(),0!=t.recordScoreByKeywordsMostrar&&0==t.pxinfo?r("v-simple-table",{staticClass:"mt-5"},[[r("thead",[r("tr",{staticStyle:{"background-color":"#CACACA"}},[r("th",{staticClass:"white--text ",staticStyle:{"text-align":"center"}},[t._v(" NOMBRE GRABACIÓN ")]),r("th",{staticClass:"white--text ",staticStyle:{"text-align":"center"}},[r("img",{staticClass:"mr-2",attrs:{src:a("0edc")}}),r("span",{staticClass:"underline cursor-pointer",on:{click:function(e){return t.changeSortOrderCalls(1)}}},[t._v("SALUDO ")])]),r("th",{staticClass:"white--text ",staticStyle:{"text-align":"center"}},[r("img",{staticClass:"mr-2",attrs:{src:a("0edc")}}),r("span",{staticClass:"underline cursor-pointer",on:{click:function(e){return t.changeSortOrderCalls(2)}}},[t._v("PRODUCTO ")])]),r("th",{staticClass:"white--text ",staticStyle:{"text-align":"center"}},[r("img",{staticClass:"mr-2",attrs:{src:a("0edc")}}),r("span",{staticClass:"underline cursor-pointer",on:{click:function(e){return t.changeSortOrderCalls(3)}}},[t._v("VENTA")])]),r("th",{staticClass:"white--text ",staticStyle:{"text-align":"center"}},[r("img",{staticClass:"mr-2",attrs:{src:a("0edc")}}),r("span",{staticClass:"underline cursor-pointer",on:{click:function(e){return t.changeSortOrderCalls(4)}}},[t._v("VALIDACION")])]),r("th",{staticClass:"white--text ",staticStyle:{"text-align":"center"}},[r("img",{staticClass:"mr-2",attrs:{src:a("0edc")}}),r("span",{staticClass:"underline cursor-pointer",on:{click:function(e){return t.changeSortOrderCalls(5)}}},[t._v("CIERRE")])]),r("th",{staticClass:"white--text ",staticStyle:{"text-align":"center"}},[r("img",{staticClass:"mr-2",attrs:{src:a("0edc")}}),r("span",{staticClass:"underline cursor-pointer",on:{click:function(e){return t.changeSortOrderCalls(6)}}},[t._v("DESPEDIDA")])]),r("th",{staticClass:"white--text ",staticStyle:{"text-align":"center"}},[r("img",{staticClass:"mr-2",attrs:{src:a("0edc")}}),r("span",{staticClass:"underline cursor-pointer",on:{click:function(e){return t.changeSortOrderCalls(7)}}},[t._v("PUNTAJE")])])])]),r("tbody",t._l(t.filteredCalls,(function(e){return r("tr",{key:e.keyfile},[r("td",{on:{click:function(a){return t.mostrarDetalleCluster(e.keyfile)}}},[t._v(" "+t._s(e.keyfile)+" ")]),r("td",{staticStyle:{"text-align":"center"}},[t._v(" "+t._s(e.results.saludo.toFixed(1))+" % ")]),r("td",{staticStyle:{"text-align":"center"}},[t._v(" "+t._s(e.results.producto.toFixed(1))+" % ")]),r("td",{staticStyle:{"text-align":"center"}},[t._v(" "+t._s(e.results.venta.toFixed(1))+" % ")]),r("td",{staticStyle:{"text-align":"center"}},[t._v(" "+t._s(e.results["validación"].toFixed(1))+" % ")]),r("td",{staticStyle:{"text-align":"center"}},[t._v(" "+t._s(e.results.cierre.toFixed(1))+" % ")]),r("td",{staticStyle:{"text-align":"center"}},[t._v(" "+t._s(e.results.despedida.toFixed(1))+" % ")]),r("td",{staticStyle:{"text-align":"center"}},[t._v(" "+t._s(e.results.totalScore.toFixed(1))+" % ")])])})),0)]],2):t._e(),0==t.pxinfo&&0!=t.scoringKeywordsContentsMostrar?r("div",[r("v-btn",{staticClass:"ma-2",attrs:{color:"orange darken-2",dark:""},on:{click:function(e){return t.retroceder3()}}},[r("v-icon",{attrs:{dark:"",left:""}},[t._v(" mdi-arrow-left ")]),t._v("Atras ")],1)],1):t._e(),0!=t.scoringKeywordsContentsMostrar&&0==t.pxinfo?r("v-simple-table",{staticClass:"mt-5"},[[r("thead",[r("tr",{staticStyle:{"background-color":"#CACACA"}},[r("th",{staticClass:"white--text "},[t._v(" MODULO ")]),r("th",{staticClass:"white--text "},[r("span",{staticClass:"underline cursor-pointer"},[t._v("CLUSTER ")])]),r("th",{staticClass:"white--text "},[r("span",{staticClass:"underline cursor-pointer"},[t._v("PUNTAJE ")])]),r("th",{staticClass:"white--text "},[r("span",{staticClass:"underline cursor-pointer"},[t._v("KEYWORDS")])])])]),r("tbody",t._l(t.scoringKeywordsContents,(function(e){return r("tr",{key:e.id},[r("td",[t._v(" "+t._s(e.module)+" ")]),r("td",{},[t._v(" "+t._s(e.cluster)+" ")]),r("td",{staticStyle:{"text-align":"center"}},[t._v(" "+t._s(e.score.toFixed(1))+" % ")]),r("td",{},[t._v(" "+t._s(e.results)+" ")])])})),0)]],2):t._e(),1==t.pxinfo?r("div",[r("px-info")],1):t._e()],1)],1)],1)},Ne=[],Be=window.location.pathname,Te=Be.split("/"),De="".concat("https://tableros-back.azurewebsites.net").concat(Be),Me="".concat("https://tableros-back.azurewebsites.net","/").concat(Te[1],"/scoringkeywords"),Fe={name:"PxScoresByKeywords",components:{PxInfo:Vt},data:function(){return{dates:[(new Date).toISOString().substr(0,10)],pxinfo:!0,cantidadLlamadas:0,scoresbykeywords:[],clusterScore:{},menu1:!1,search:"",sortOrder:1,ordenamiento1:Number,search2:"",sortOrderCalls:1,ordenamiento1Calls:Number,detailOfAgent:[],scoringKeywordsContents:[],scoringKeywordsContentsMostrar:!1,recordScoreByKeywords:[],recordScoreByKeywordsMostrar:!1,agentSelected:"",keyfileSelected:"",bandera:!1,banderaCluster:!1}},created:function(){this.mostrar()},computed:{dateRangeText:function(){return this.dates.join(" ~ ")&&this.mostrar()},filteredAgents:function(){var t=this,e=1==this.sortOrder?-1:1,a=this.ordenamiento1;return this.detailOfAgent.filter((function(e){return e.name.toLowerCase().includes(t.search.toLowerCase())})).sort((function(r,s){return 1==a&&parseFloat(r.results.totalScore)>parseFloat(s.results.totalScore)||2==a&&parseFloat(r.results.notAllowedScore)>parseFloat(s.results.notAllowedScore)||3==a&&parseFloat(r.results.recordings)>parseFloat(s.results.recordings)?t.sortOrder:(t.ordenamiento1="",e)}))},filteredCalls:function(){var t=this,e=1==this.sortOrderCalls?-1:1,a=this.ordenamiento1Calls;return this.recordScoreByKeywords.filter((function(e){return e.keyfile.match(t.search2)})).sort((function(r,s){return 1==a&&parseFloat(r.results.saludo)>parseFloat(s.results.saludo)||2==a&&parseFloat(r.results.producto)>parseFloat(s.results.producto)||3==a&&parseFloat(r.results.venta)>parseFloat(s.results.venta)||4==a&&parseFloat(r.results["validación"])>parseFloat(s.results["validación"])||5==a&&parseFloat(r.results.cierre)>parseFloat(s.results.cierre)||6==a&&parseFloat(r.results.despedida)>parseFloat(s.results.despedida)||7==a&&parseFloat(r.results.totalScore)>parseFloat(s.results.totalScore)?t.sortOrderCalls:(t.ordenamiento1Calls="",e)}))}},watch:{},methods:{retroceder:function(){this.search="",this.bandera=!1,this.recordScoreByKeywordsMostrar=!1,this.search2="",this.banderaCluster=!1,this.scoringKeywordsContentsMostrar=!1,this.agentSelected="",this.keyfileSelected=""},retroceder2:function(){this.search="",this.bandera=!1,this.recordScoreByKeywordsMostrar=!1,this.search2="",this.banderaCluster=!1,this.scoringKeywordsContentsMostrar=!1,this.agentSelected="",this.keyfileSelected=""},retroceder3:function(){this.search2="",this.banderaCluster=!1,this.scoringKeywordsContentsMostrar=!1,this.keyfileSelected=""},changeSortOrder:function(t){this.sortOrder=1==this.sortOrder?-1:1,this.ordenamiento1=t,console.log("como se va a organizar",this.ordenamiento)},changeSortOrderCalls:function(t){this.sortOrderCalls=1==this.sortOrderCalls?-1:1,this.ordenamiento1Calls=t},mostrarDetalleCall:function(t){this.agentSelected=t,console.log("el agent seleccionado",this.agentSelected),0==this.bandera?(this.search=t,this.bandera=!0,this.recordScoreByKeywordsMostrar=!0):(this.search="",this.bandera=!1,this.recordScoreByKeywordsMostrar=!1,this.search2="",this.banderaCluster=!1,this.scoringKeywordsContentsMostrar=!1,this.agentSelected="",this.keyfileSelected=""),this.mostrar()},mostrarDetalleCluster:function(t){this.keyfileSelected=t,console.log("keyfile selected",t),0==this.banderaCluster?(this.search2=t,this.banderaCluster=!0,this.scoringKeywordsContentsMostrar=!0):(this.search2="",this.banderaCluster=!1,this.scoringKeywordsContentsMostrar=!1,this.keyfileSelected=""),this.mostrar()},mostrar:function(){var t=this;return Object(w["a"])(regeneratorRuntime.mark((function e(){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(1!=t.dates.length){e.next=7;break}return e.next=3,t.axios.get(De+"?eventDate=".concat(t.dates,"T00:00:00.000Z"));case 3:a=e.sent,void 0==t.scoresbykeywords[0].recordingsSummary?t.pxinfo=!0:t.pxinfo=!1,e.next=10;break;case 7:return e.next=9,t.axios.get(De+"?eventDate=".concat(t.dates[0],"T00:00:00.000Z&&eventDate=").concat(t.dates[1],"T00:00:00.000Z"));case 9:a=e.sent;case 10:if(t.scoresbykeywords=a.data.body,console.log("object",t.scoresbykeywords),t.mostrarCantidadDeLLamadas(t.scoresbykeywords),t.mostrarTableDetailOfAgents(t.scoresbykeywords),t.mostrarTableCallDetailByAgent(t.scoresbykeywords,t.agentSelected),!(t.keyfileSelected.length>0)){e.next=23;break}return e.next=18,t.axios.get(Me+"?keyfile=".concat(t.keyfileSelected));case 18:r=e.sent,console.log("url Phrases",Me+"?keyfile=".concat(t.keyfileSelected)),console.log("object",r.data.body),t.clusterScore=r.data.body,t.mostrarTableCluster(t.clusterScore,t.keyfileSelected);case 23:case"end":return e.stop()}}),e)})))()},mostrarCantidadDeLLamadas:function(t){for(var e=0,a=0;a<t.length;a++)for(var r in t[a].recordingsSummary)e+=t[a].recordingsSummary[r].length;this.cantidadLlamadas=e,0==this.cantidadLlamadas?this.pxinfo=!0:this.pxinfo=!1},mostrarTableDetailOfAgents:function(t){for(var e=t.length,a={},r=0;r<e;r++)for(var s in t[r].recordingsSummary){for(var n=s,o=t[r].recordingsSummary[n],i=0,c=0,l=0;l<o.length;l++)i+=o[l].results.totalScore,c+=1;console.log("name ",n,"score ",i," recordings ",c),n in a?(a[n]["results"]["totalScore"]+=i,a[n]["results"]["recordings"]+=c):(a[n]={results:{}},a[n]["results"]["totalScore"]=i,a[n]["results"]["recordings"]=c)}for(var d in a)a[d]["results"]["totalScore"]=100*a[d]["results"]["totalScore"]/a[d]["results"]["recordings"];console.log("ver super",a);var u=[];for(var h in a){var f={name:h,results:a[h].results};u.push(f)}console.log("superAgentsSummaryArray",u),this.detailOfAgent=u},mostrarTableCallDetailByAgent:function(t,e){this.recordScoreByKeywords=[],console.log(e),console.log("length",t.length);for(var a=0;a<t.length;a++)for(var r in t[a].recordingsSummary)if(console.log("keyyy",r),r==e){console.log("key ento",t[a].recordingsSummary[r]);for(var s=0;s<t[a].recordingsSummary[r].length;s++)t[a].recordingsSummary[r][s].results.cierre=100*t[a].recordingsSummary[r][s].results.cierre,t[a].recordingsSummary[r][s].results.despedida=100*t[a].recordingsSummary[r][s].results.despedida,t[a].recordingsSummary[r][s].results.producto=100*t[a].recordingsSummary[r][s].results.producto,t[a].recordingsSummary[r][s].results.saludo=100*t[a].recordingsSummary[r][s].results.saludo,t[a].recordingsSummary[r][s].results.totalScore=100*t[a].recordingsSummary[r][s].results.totalScore,t[a].recordingsSummary[r][s].results.venta=100*t[a].recordingsSummary[r][s].results.venta,t[a].recordingsSummary[r][s].results["validación"]=100*t[a].recordingsSummary[r][s].results["validación"];this.recordScoreByKeywords=this.recordScoreByKeywords.concat(t[a].recordingsSummary[r])}},mostrarTableCluster:function(t,e){console.log(e);var a=t[0].contents,r=[],s=0;for(var n in a){for(var o in a[n]){var i=a[n][o].results,c=i.join(", "),l={id:s,module:n,cluster:o,score:100*a[n][o].score,results:c};r.push(l),s++}console.log(r),this.scoringKeywordsContents=r}}}},Ve=Fe,Pe=Object(d["a"])(Ve,Ie,Ne,!1,null,null,null),Ke=Pe.exports;N()(Pe,{VApp:B["a"],VBtn:T["a"],VCol:F["a"],VContainer:V["a"],VDatePicker:$t["a"],VIcon:L["a"],VMain:G["a"],VMenu:Yt["a"],VRow:z["a"],VSimpleTable:q["a"],VTextField:Y["a"]});var Le={name:"ScoresByKeywords",components:{PxScoresByKeywords:Ke}},Ge=Le,ze=Object(d["a"])(Ge,je,Ee,!1,null,null,null),qe=ze.exports,$e=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("px-audit-conversations")},Ye=[],Ue=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"app"},[r("v-app",[r("v-main",[r("h2",{staticClass:"ml-3",staticStyle:{color:"#FF9B00"}},[t._v(" Conversaciones "),r("span",{staticStyle:{color:"#CACACA"}})]),r("v-container",{},[r("v-row",[r("v-col",{attrs:{lg:"2",cols:"5",sm:"5"}},[r("h3",{staticStyle:{color:"#FF9B00"}},[t._v(" FECHA ")]),r("v-menu",{ref:"menu1",attrs:{"close-on-content-click":!1,transition:"scale-transition",color:"orange accent-3 lighten-1","offset-y":"","max-width":"290px","min-width":"auto"},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,s=e.attrs;return[r("v-text-field",t._g(t._b({attrs:{color:"orange accent-3 lighten-1",hint:"MM/DD/YYYY","persistent-hint":"","prepend-icon":"mdi-calendar"},on:{blur:function(e){t.date=t.parseDate(t.dateFormatted)}},model:{value:t.dateFormatted,callback:function(e){t.dateFormatted=e},expression:"dateFormatted"}},"v-text-field",s,!1),a))]}}]),model:{value:t.menu1,callback:function(e){t.menu1=e},expression:"menu1"}},[r("v-date-picker",{attrs:{color:"orange accent-3 lighten-1","no-title":""},on:{input:function(e){t.menu1=!1}},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1),r("p",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}]},[t._v(t._s(t.submitDate))])],1),r("v-col",{staticStyle:{"justify-content":"center","align-items":"center","text-align":"center"}},[r("h3",{staticClass:"orange--text"},[t._v(" TOTAL "),r("span",{staticStyle:{color:"#CACACA"}},[t._v("GRABACIONES")])]),r("span",{staticClass:"text-h2 orange--text"},[t._v(t._s(this.cantidadLlamadas))])])],1)],1),r("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],attrs:{placeholder:"Buscar...",type:"text"},domProps:{value:t.search},on:{input:function(e){e.target.composing||(t.search=e.target.value)}}}),r("v-simple-table",{staticClass:"mt-5",scopedSlots:t._u([{key:"default",fn:function(){return[r("thead",[r("tr",{staticStyle:{"background-color":"#CACACA"}},[r("th",{staticClass:"white--text ",staticStyle:{"text-align":"center"}},[t._v(" NOMBRE ")]),r("th",{staticClass:"white--text ",staticStyle:{"text-align":"center"}},[r("img",{staticClass:"mr-2",attrs:{src:a("0edc")}}),r("span",{staticClass:"underline cursor-pointer",on:{click:function(e){return t.changeSortOrder(3)}}},[t._v("GRABACIONES ")])])])]),r("tbody",t._l(t.filteredAgents,(function(e){return r("tr",{key:e.name},[r("td",{on:{click:function(a){return t.mostrarDetalleCall(e.name)}}},[t._v(" "+t._s(e.name)+" ")]),r("td",{staticStyle:{"text-align":"center"}},[t._v(" "+t._s(e.results.recordings)+" ")])])})),0)]},proxy:!0}])}),r("input",{directives:[{name:"model",rawName:"v-model",value:t.search2,expression:"search2"}],attrs:{hidden:"",placeholder:"Buscar...",type:"text"},domProps:{value:t.search2},on:{input:function(e){e.target.composing||(t.search2=e.target.value)}}}),0!=t.recordsConversationsMostrar?r("v-simple-table",{staticClass:"mt-5"},[[r("thead",[r("tr",{staticStyle:{"background-color":"#CACACA"}},[r("th",{staticClass:"white--text "},[t._v(" NOMBRE GRABACIÓN ")])])]),r("tbody",t._l(t.filteredCalls,(function(e){return r("tr",{key:e.keyfile},[r("td",{on:{click:function(a){return t.mostrarDetalleConversations(e.keyfile)}}},[t._v(" "+t._s(e.keyfile)+" ")])])})),0)]],2):t._e(),0!=t.conversationsCompleteMostrar?r("v-simple-table",{staticClass:"mt-5"},[[r("thead",[r("tr",{staticStyle:{"background-color":"#CACACA"}},[r("th",{staticClass:"white--text ",staticStyle:{"text-align":"center"}},[t._v(" INTERLOCUTOR ")]),r("th",{staticClass:"white--text ",staticStyle:{"text-align":"center"}},[r("span",{staticClass:"underline cursor-pointer"},[t._v("TRANSCRIPCIÓN ")])]),r("th",{staticClass:"white--text ",staticStyle:{"text-align":"center"}},[r("span",{staticClass:"underline cursor-pointer"},[t._v("DESDE ")])]),r("th",{staticClass:"white--text ",staticStyle:{"text-align":"center"}},[r("span",{staticClass:"underline cursor-pointer"},[t._v("HASTA")])])])]),r("tbody",t._l(t.conversationsComplete,(function(e){return r("tr",{key:e},[r("td",{class:"agent"==e.speaker?"orange--text":"black--text",staticStyle:{"text-transform":"capitalize"}},[t._v(" "+t._s(e.speaker+"e")+" ")]),r("td",{class:"agent"==e.speaker?"orange--text":"black--text"},[t._v(" "+t._s(e.transcript)+" ")]),r("td",{class:"agent"==e.speaker?"orange--text":"black--text"},[t._v(" "+t._s(e.from)+" ")]),r("td",{class:"agent"==e.speaker?"orange--text":"black--text"},[t._v(" "+t._s(e.to)+" ")])])})),0)]],2):t._e()],1)],1)],1)},Je=[],Ze=(a("4d90"),a("3835")),We=window.location.pathname,He=We.split("/"),Qe="".concat("https://tableros-back.azurewebsites.net").concat(We),Xe="".concat("https://tableros-back.azurewebsites.net","/").concat(He[1],"/conversations"),ta={name:"PxAuditConversations",data:function(){return{date:(new Date).toISOString().substr(0,10),dateFormatted:this.formatDate((new Date).toISOString().substr(0,10)),cantidadLlamadas:0,menu1:!1,search:"",sortOrder:1,ordenamiento1:Number,search2:"",sortOrderCalls:1,ordenamiento1Calls:Number,conversations:[],agentsSummary:[],agentSelected:"",keyfileSelected:"",recordsConversations:[],recordsConversationsMostrar:!1,bandera:!1,banderaConversations:!1,conversationAgent:[],conversationsComplete:[],conversationsCompleteMostrar:!1}},created:function(){this.mostrar()},computed:{submitDate:function(){var t=new Date(this.date).toISOString().substr(0,10);return console.log(t),this.mostrar(),t},computedDateFormatted:function(){return this.formatDate(this.date)},filteredAgents:function(){var t=this,e=1==this.sortOrder?-1:1,a=this.ordenamiento1;return this.agentsSummary.filter((function(e){return e.name.match(t.search)})).sort((function(r,s){return 3==a&&parseInt(r.results.recordings)>parseInt(s.results.recordings)?t.sortOrder:(t.ordenamiento1="",e)}))},filteredCalls:function(){var t=this,e=1==this.sortOrderCalls?-1:1,a=this.ordenamiento1Calls;return this.recordsConversations.filter((function(e){return e.keyfile.match(t.search2)})).sort((function(r,s){return 1==a&&parseFloat(r.results.infaltable.saludo)>parseFloat(s.results.infaltable.saludo)||2==a&&parseFloat(r.results.infaltable.producto)>parseFloat(s.results.infaltable.producto)||3==a&&parseFloat(r.results.infaltable.venta)>parseFloat(s.results.infaltable.venta)||4==a&&parseFloat(r.results.infaltable["validación"])>parseFloat(s.results.infaltable["validación"])?t.sortOrderCalls:(t.ordenamiento1Calls="",e)}))}},watch:{date:function(t){console.log(t),this.dateFormatted=this.formatDate(this.date)}},methods:{changeSortOrder:function(t){this.sortOrder=1==this.sortOrder?-1:1,this.ordenamiento1=t,console.log("como se va a organizar",this.ordenamiento1)},formatDate:function(t){if(!t)return null;var e=t.split("-"),a=Object(Ze["a"])(e,3),r=a[0],s=a[1],n=a[2];return"".concat(s,"/").concat(n,"/").concat(r)},parseDate:function(t){if(!t)return null;var e=t.split("/"),a=Object(Ze["a"])(e,3),r=a[0],s=a[1],n=a[2];return"".concat(n,"-").concat(r.padStart(2,"0"),"-").concat(s.padStart(2,"0"))},mostrarDetalleCall:function(t){this.agentSelected=t,console.log("el agent seleccionado",this.agentSelected),0==this.bandera?(this.search=t,this.bandera=!0,this.recordsConversationsMostrar=!0):(this.search="",this.bandera=!1,this.recordsConversationsMostrar=!1,this.search2="",this.banderaConversations=!1,this.conversationsCompleteMostrar=!1,this.agentSelected="",this.keyfileSelected=""),this.mostrar()},mostrarDetalleConversations:function(t){this.keyfileSelected=t,console.log("keyfile selected",t),0==this.banderaConversations?(this.search2=t,this.banderaConversations=!0,this.conversationsCompleteMostrar=!0):(this.search2="",this.banderaConversations=!1,this.conversationsCompleteMostrar=!1,this.keyfileSelected=""),this.mostrar()},mostrar:function(){var t=this;return Object(w["a"])(regeneratorRuntime.mark((function e(){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.axios.get(Qe+"?eventDate=".concat(t.date,"T00:00:00.000Z"));case 2:if(a=e.sent,t.conversations=a.data.body,console.log("object",t.conversations),console.log("urlconversation",Xe),t.mostrarCantidadLLamadas(t.conversations[0].recordingsSummary),t.mostrarConversationsAgentes(t.conversations[0].agentsSummary),t.mostrarGrabaciones(t.conversations[0].recordingsSummary,t.agentSelected),!(t.keyfileSelected.length>0)){e.next=17;break}return e.next=12,t.axios.get(Xe+"?keyfile=".concat(t.keyfileSelected));case 12:r=e.sent,console.log("url Phrases",Xe+"?keyfile=".concat(t.keyfileSelected)),console.log("object",r.data.body),t.conversationAgent=r.data.body,t.mostrarTableConversations(t.conversationAgent,t.keyfileSelected);case 17:case"end":return e.stop()}}),e)})))()},mostrarCantidadLLamadas:function(t){var e=0;for(var a in t)e+=t[a].length;this.cantidadLlamadas=e},mostrarConversationsAgentes:function(t){this.agentsSummary=t},mostrarGrabaciones:function(t,e){for(var a in t)a==e&&(this.recordsConversations=t[a])},mostrarTableConversations:function(t,e){console.log(e);var a=t[0].conversation;function r(t){return new Date(1e3*t).toISOString().substr(11,11)}console.log("mostrar conversations ",a);for(var s=0;s<a.length;s++)a[s].from=r(a[s].from),a[s].to=r(a[s].to);this.conversationsComplete=a}}},ea=ta,aa=Object(d["a"])(ea,Ue,Je,!1,null,null,null),ra=aa.exports;N()(aa,{VApp:B["a"],VCol:F["a"],VContainer:V["a"],VDatePicker:$t["a"],VMain:G["a"],VMenu:Yt["a"],VRow:z["a"],VSimpleTable:q["a"],VTextField:Y["a"]});var sa={name:"AuditConversations",components:{PxAuditConversations:ra}},na=sa,oa=Object(d["a"])(na,$e,Ye,!1,null,null,null),ia=oa.exports,ca=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("px-audit-scoring-keywords")},la=[],da=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"app"},[r("v-app",[r("v-main",[r("h2",{staticClass:"ml-3",staticStyle:{color:"#FF9B00"}},[t._v(" Puntaje "),r("span",{staticStyle:{color:"#CACACA"}},[t._v("por keywords")])]),r("v-container",{},[r("v-row",[r("v-col",{attrs:{cols:"12",sm:"6"}},[r("v-menu",{ref:"menu1",attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"auto"},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,s=e.attrs;return[r("v-text-field",t._g(t._b({attrs:{label:"Date",hint:"YYYY/MM/DD","persistent-hint":"","prepend-icon":"mdi-calendar"},on:{blur:function(e){t.date=t.parseDate(t.dateFormatted)}},model:{value:t.dates,callback:function(e){t.dates=e},expression:"dates"}},"v-text-field",s,!1),a))]}}]),model:{value:t.menu1,callback:function(e){t.menu1=e},expression:"menu1"}},[r("v-date-picker",{attrs:{range:"",color:"orange accent-3 lighten-1"},model:{value:t.dates,callback:function(e){t.dates=e},expression:"dates"}})],1),r("p",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}]},[t._v(t._s(t.dateRangeText))])],1),r("v-col",{staticStyle:{"justify-content":"center","align-items":"center","text-align":"center"}},[r("h3",{staticClass:"orange--text"},[t._v(" TOTAL "),r("span",{staticStyle:{color:"#CACACA"}},[t._v("GRABACIONES")])]),r("span",{staticClass:"text-h2 orange--text"},[t._v(t._s(this.cantidadLlamadas))])])],1)],1),0==t.pxinfo&&0==t.recordScoreByKeywordsMostrar?r("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],attrs:{placeholder:"Buscar...",type:"text"},domProps:{value:t.search},on:{input:function(e){e.target.composing||(t.search=e.target.value)}}}):t._e(),0==t.pxinfo&&0!=t.recordScoreByKeywordsMostrar?r("div",[r("v-btn",{staticClass:"ma-2",attrs:{color:"orange darken-2",dark:""},on:{click:function(e){return t.retroceder()}}},[r("v-icon",{attrs:{dark:"",left:""}},[t._v(" mdi-arrow-left ")]),t._v("Volver ")],1)],1):t._e(),0==t.pxinfo?r("v-simple-table",{staticClass:"mt-5",scopedSlots:t._u([{key:"default",fn:function(){return[r("thead",[r("tr",{staticStyle:{"background-color":"#CACACA"}},[r("th",{staticClass:"white--text ",staticStyle:{"text-align":"center"}},[t._v(" NOMBRE ")]),r("th",{staticClass:"white--text ",staticStyle:{"text-align":"center"}},[r("img",{staticClass:"mr-2",attrs:{src:a("0edc")}}),r("span",{staticClass:"underline cursor-pointer",on:{click:function(e){return t.changeSortOrder(3)}}},[t._v("GRABACIONES ")])]),r("th",{staticClass:"white--text ",staticStyle:{"text-align":"center"}},[r("img",{staticClass:"mr-2",attrs:{src:a("0edc")}}),r("span",{staticClass:"underline cursor-pointer",on:{click:function(e){return t.changeSortOrder(1)}}},[t._v("PUNTAJE PROMEDIO")])])])]),r("tbody",t._l(t.filteredAgents,(function(e){return r("tr",{key:e.name},[r("td",{on:{click:function(a){return t.mostrarDetalleCall(e.name)}}},[t._v(" "+t._s(e.name)+" ")]),r("td",{staticStyle:{"text-align":"center"}},[t._v(" "+t._s(e.results.recordings)+" ")]),r("td",{staticStyle:{"text-align":"center"}},[t._v(" "+t._s(e.results.totalScore.toFixed(1))+" % ")])])})),0)]},proxy:!0}],null,!1,3749285792)}):t._e(),r("input",{directives:[{name:"model",rawName:"v-model",value:t.search2,expression:"search2"}],attrs:{hidden:"",placeholder:"Buscar...",type:"text"},domProps:{value:t.search2},on:{input:function(e){e.target.composing||(t.search2=e.target.value)}}}),0==t.pxinfo&&0!=t.recordScoreByKeywordsMostrar?r("div",[r("v-btn",{staticClass:"ma-2",attrs:{color:"orange darken-2",dark:""},on:{click:function(e){return t.retroceder2()}}},[r("v-icon",{attrs:{dark:"",left:""}},[t._v(" mdi-arrow-left ")]),t._v("Atras ")],1)],1):t._e(),0!=t.recordScoreByKeywordsMostrar?r("v-simple-table",{staticClass:"mt-5"},[[r("thead",[r("tr",{staticStyle:{"background-color":"#CACACA"}},[r("th",{staticClass:"white--text ",staticStyle:{"text-align":"center"}},[t._v(" NOMBRE GRABACIÓN ")]),r("th",{staticClass:"white--text ",staticStyle:{"text-align":"center"}},[r("img",{staticClass:"mr-2",attrs:{src:a("0edc")}}),r("span",{staticClass:"underline cursor-pointer",on:{click:function(e){return t.changeSortOrderCalls(1)}}},[t._v("INTERACCION ")])]),r("th",{staticClass:"white--text ",staticStyle:{"text-align":"center"}},[r("img",{staticClass:"mr-2",attrs:{src:a("0edc")}}),r("span",{staticClass:"underline cursor-pointer",on:{click:function(e){return t.changeSortOrderCalls(2)}}},[t._v("GESTION DEL CLIENTE ")])]),r("th",{staticClass:"white--text ",staticStyle:{"text-align":"center"}},[r("img",{staticClass:"mr-2",attrs:{src:a("0edc")}}),r("span",{staticClass:"underline cursor-pointer",on:{click:function(e){return t.changeSortOrderCalls(3)}}},[t._v("PROCESOS Y DIRECCIONAMIENTO")])]),r("th",{staticClass:"white--text ",staticStyle:{"text-align":"center"}},[r("img",{staticClass:"mr-2",attrs:{src:a("0edc")}}),r("span",{staticClass:"underline cursor-pointer",on:{click:function(e){return t.changeSortOrderCalls(7)}}},[t._v("PUNTAJE")])])])]),r("tbody",t._l(t.filteredCalls,(function(e){return r("tr",{key:e.keyfile},[r("td",{on:{click:function(a){return t.mostrarDetalleCluster(e.keyfile)}}},[t._v(" "+t._s(e.keyfile)+" ")]),r("td",{staticStyle:{"text-align":"center"}},[t._v(" "+t._s(e.results["interacción"].toFixed(1))+" % ")]),r("td",{staticStyle:{"text-align":"center"}},[t._v(" "+t._s(e.results["gestión del cliente"].toFixed(1))+" % ")]),r("td",{staticStyle:{"text-align":"center"}},[t._v(" "+t._s(e.results["procesos y direccionamiento"].toFixed(1))+" % ")]),r("td",{staticStyle:{"text-align":"center"}},[t._v(" "+t._s(e.results.totalScore.toFixed(1))+" % ")])])})),0)]],2):t._e(),0==t.pxinfo&&0!=t.scoringKeywordsContentsMostrar?r("div",[r("v-btn",{staticClass:"ma-2",attrs:{color:"orange darken-2",dark:""},on:{click:function(e){return t.retroceder3()}}},[r("v-icon",{attrs:{dark:"",left:""}},[t._v(" mdi-arrow-left ")]),t._v("Atras ")],1)],1):t._e(),0!=t.scoringKeywordsContentsMostrar?r("v-simple-table",{staticClass:"mt-5"},[[r("thead",[r("tr",{staticStyle:{"background-color":"#CACACA"}},[r("th",{staticClass:"white--text ",staticStyle:{"text-align":"center"}},[t._v(" MODULO ")]),r("th",{staticClass:"white--text ",staticStyle:{"text-align":"center"}},[r("span",{staticClass:"underline cursor-pointer"},[t._v("CLUSTER ")])]),r("th",{staticClass:"white--text ",staticStyle:{"text-align":"center"}},[r("span",{staticClass:"underline cursor-pointer"},[t._v("PUNTAJE ")])]),r("th",{staticClass:"white--text ",staticStyle:{"text-align":"center"}},[r("span",{staticClass:"underline cursor-pointer"},[t._v("KEYWORDS")])])])]),r("tbody",t._l(t.scoringKeywordsContents,(function(e){return r("tr",{key:e.id},[r("td",[t._v(" "+t._s(e.module)+" ")]),r("td",{},[t._v(" "+t._s(e.cluster)+" ")]),r("td",{staticStyle:{"text-align":"center"}},[t._v(" "+t._s(e.score.toFixed(1))+" % ")]),r("td",{},[t._v(" "+t._s(e.results)+" ")])])})),0)]],2):t._e(),1==t.pxinfo?r("div",[r("px-info")],1):t._e()],1)],1)],1)},ua=[],ha=window.location.pathname,fa=ha.split("/"),ma="".concat("https://tableros-back.azurewebsites.net","/").concat(fa[1],"/auditscoringkeywords"),pa="".concat("https://tableros-back.azurewebsites.net","/").concat(fa[1],"/scoringkeywords"),va={name:"PxAuditScoringKeywords",components:{PxInfo:Vt},data:function(){return{dates:[(new Date).toISOString().substr(0,10)],pxinfo:!0,cantidadLlamadas:0,scoresbykeywords:[],clusterScore:{},menu1:!1,search:"",sortOrder:1,ordenamiento1:Number,search2:"",sortOrderCalls:1,ordenamiento1Calls:Number,detailOfAgent:[],scoringKeywordsContents:[],scoringKeywordsContentsMostrar:!1,recordScoreByKeywords:[],recordScoreByKeywordsMostrar:!1,agentSelected:"",keyfileSelected:"",bandera:!1,banderaCluster:!1}},created:function(){this.mostrar()},computed:{dateRangeText:function(){return this.dates.join(" ~ ")&&this.mostrar()},filteredAgents:function(){var t=this,e=1==this.sortOrder?-1:1,a=this.ordenamiento1;return this.detailOfAgent.filter((function(e){return e.name.toLowerCase().includes(t.search.toLowerCase())})).sort((function(r,s){return 1==a&&parseFloat(r.results.totalScore)>parseFloat(s.results.totalScore)||2==a&&parseFloat(r.results.notAllowedScore)>parseFloat(s.results.notAllowedScore)||3==a&&parseFloat(r.results.recordings)>parseFloat(s.results.recordings)?t.sortOrder:(t.ordenamiento1="",e)}))},filteredCalls:function(){var t=this,e=1==this.sortOrderCalls?-1:1,a=this.ordenamiento1Calls;return this.recordScoreByKeywords.filter((function(e){return e.keyfile.match(t.search2)})).sort((function(r,s){return 1==a&&parseFloat(r.results.interacción)>parseFloat(s.results.interacción)||2==a&&parseFloat(r.results["gestión del cliente"])>parseFloat(s.results["gestión del cliente"])||3==a&&parseFloat(r.results["procesos y direccionamiento"])>parseFloat(s.results["procesos y direccionamiento"])||7==a&&parseFloat(r.results.totalScore)>parseFloat(s.results.totalScore)?t.sortOrderCalls:(t.ordenamiento1Calls="",e)}))}},watch:{},methods:{retroceder:function(){this.search="",this.bandera=!1,this.recordScoreByKeywordsMostrar=!1,this.search2="",this.banderaCluster=!1,this.scoringKeywordsContentsMostrar=!1,this.agentSelected="",this.keyfileSelected=""},retroceder2:function(){this.search="",this.bandera=!1,this.recordScoreByKeywordsMostrar=!1,this.search2="",this.banderaCluster=!1,this.scoringKeywordsContentsMostrar=!1,this.agentSelected="",this.keyfileSelected=""},retroceder3:function(){this.search2="",this.banderaCluster=!1,this.scoringKeywordsContentsMostrar=!1,this.keyfileSelected=""},changeSortOrder:function(t){this.sortOrder=1==this.sortOrder?-1:1,this.ordenamiento1=t,console.log("como se va a organizar",this.ordenamiento)},changeSortOrderCalls:function(t){this.sortOrderCalls=1==this.sortOrderCalls?-1:1,this.ordenamiento1Calls=t},mostrarDetalleCall:function(t){this.agentSelected=t,console.log("el agent seleccionado",this.agentSelected),0==this.bandera?(this.search=t,this.bandera=!0,this.recordScoreByKeywordsMostrar=!0):(this.search="",this.bandera=!1,this.recordScoreByKeywordsMostrar=!1,this.search2="",this.banderaCluster=!1,this.scoringKeywordsContentsMostrar=!1,this.agentSelected="",this.keyfileSelected=""),this.mostrar()},mostrarDetalleCluster:function(t){this.keyfileSelected=t,console.log("keyfile selected",t),0==this.banderaCluster?(this.search2=t,this.banderaCluster=!0,this.scoringKeywordsContentsMostrar=!0):(this.search2="",this.banderaCluster=!1,this.scoringKeywordsContentsMostrar=!1,this.keyfileSelected=""),this.mostrar()},mostrar:function(){var t=this;return Object(w["a"])(regeneratorRuntime.mark((function e(){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(1!=t.dates.length){e.next=7;break}return e.next=3,t.axios.get(ma+"?eventDate=".concat(t.dates,"T00:00:00.000Z"));case 3:a=e.sent,void 0==t.scoresbykeywords[0].recordingsSummary?t.pxinfo=!0:t.pxinfo=!1,e.next=10;break;case 7:return e.next=9,t.axios.get(ma+"?eventDate=".concat(t.dates[0],"T00:00:00.000Z&&eventDate=").concat(t.dates[1],"T00:00:00.000Z"));case 9:a=e.sent;case 10:if(t.scoresbykeywords=a.data.body,console.log("object",t.scoresbykeywords),t.mostrarCantidadDeLLamadas(t.scoresbykeywords),t.mostrarTableDetailOfAgents(t.scoresbykeywords),t.mostrarTableCallDetailByAgent(t.scoresbykeywords,t.agentSelected),!(t.keyfileSelected.length>0)){e.next=23;break}return e.next=18,t.axios.get(pa+"?keyfile=".concat(t.keyfileSelected));case 18:r=e.sent,console.log("url Phrases",pa+"?keyfile=".concat(t.keyfileSelected)),console.log("object",r.data.body),t.clusterScore=r.data.body,t.mostrarTableCluster(t.clusterScore,t.keyfileSelected);case 23:case"end":return e.stop()}}),e)})))()},mostrarCantidadDeLLamadas:function(t){for(var e=0,a=0;a<t.length;a++)for(var r in t[a].recordingsSummary)e+=t[a].recordingsSummary[r].length;this.cantidadLlamadas=e,0==this.cantidadLlamadas?this.pxinfo=!0:this.pxinfo=!1},mostrarTableDetailOfAgents:function(t){for(var e=t.length,a={},r=0;r<e;r++)for(var s in t[r].recordingsSummary){for(var n=s,o=t[r].recordingsSummary[n],i=0,c=0,l=0;l<o.length;l++)i+=o[l].results.totalScore,c+=1;console.log("name ",n,"score ",i," recordings ",c),n in a?(a[n]["results"]["totalScore"]+=i,a[n]["results"]["recordings"]+=c):(a[n]={results:{}},a[n]["results"]["totalScore"]=i,a[n]["results"]["recordings"]=c)}for(var d in a)a[d]["results"]["totalScore"]=100*a[d]["results"]["totalScore"]/a[d]["results"]["recordings"];console.log("ver super",a);var u=[];for(var h in a){var f={name:h,results:a[h].results};u.push(f)}console.log("superAgentsSummaryArray",u),this.detailOfAgent=u},mostrarTableCallDetailByAgent:function(t,e){this.recordScoreByKeywords=[],console.log(e),console.log("length",t.length);for(var a=0;a<t.length;a++)for(var r in t[a].recordingsSummary)if(console.log("keyyy",r),r==e){console.log("key ento",t[a].recordingsSummary[r]);for(var s=0;s<t[a].recordingsSummary[r].length;s++)t[a].recordingsSummary[r][s].results["interacción"]=100*t[a].recordingsSummary[r][s].results["interacción"],t[a].recordingsSummary[r][s].results["gestión del cliente"]=100*t[a].recordingsSummary[r][s].results["gestión del cliente"],t[a].recordingsSummary[r][s].results["procesos y direccionamiento"]=100*t[a].recordingsSummary[r][s].results["procesos y direccionamiento"],t[a].recordingsSummary[r][s].results.totalScore=100*t[a].recordingsSummary[r][s].results.totalScore;this.recordScoreByKeywords=this.recordScoreByKeywords.concat(t[a].recordingsSummary[r])}},mostrarTableCluster:function(t,e){console.log(e);var a=t[0].contents,r=[],s=0;for(var n in a){for(var o in a[n]){var i=a[n][o].results,c=i.join(", "),l={id:s,module:n,cluster:o,score:100*a[n][o].score,results:c};r.push(l),s++}console.log(r),this.scoringKeywordsContents=r}}}},ga=va,ya=Object(d["a"])(ga,da,ua,!1,null,null,null),ba=ya.exports;N()(ya,{VApp:B["a"],VBtn:T["a"],VCol:F["a"],VContainer:V["a"],VDatePicker:$t["a"],VIcon:L["a"],VMain:G["a"],VMenu:Yt["a"],VRow:z["a"],VSimpleTable:q["a"],VTextField:Y["a"]});var Ca={components:{PxAuditScoringKeywords:ba}},_a=Ca,xa=Object(d["a"])(_a,ca,la,!1,null,null,null),ka=xa.exports,wa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("px-table-basekeywords")},Sa=[],Aa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app"},[a("v-app",[a("v-main",[a("v-card",{staticClass:"mx-auto mt-5",attrs:{color:"transparent","max-width":"1280",elevation:"0"}},[a("v-btn",{staticClass:"mx-2",attrs:{fab:"",dark:"",color:"#FF9B00"},on:{click:function(e){return t.formNuevo()}}},[a("v-icon",{attrs:{dark:""}},[t._v("mdi-plus")])],1),a("input",{directives:[{name:"model",rawName:"v-model",value:t.filter,expression:"filter"}],attrs:{id:"filter",placeholder:"Buscar...",type:"text",name:"filter"},domProps:{value:t.filter},on:{input:function(e){e.target.composing||(t.filter=e.target.value)}}}),a("v-simple-table",{staticClass:"mt-5",scopedSlots:t._u([{key:"default",fn:function(){return[a("thead",[a("tr",{staticClass:" "},[a("th",{},[a("h2",[t._v("KEYWORD")])]),a("th",{},[a("h2",[t._v("CATEGORIA")])]),a("th",{},[a("h2",[t._v("MODULO")])]),a("th",{},[a("h2",[t._v("CLUSTER")])]),a("th",{},[a("h2",[t._v("ACCIONES")])])])]),a("tbody",{directives:[{name:"show",rawName:"v-show",value:!t.filter,expression:"!filter"}]},t._l(t.displayedBasekeywords,(function(e){return a("tr",{key:e._id},[a("td",[t._v(t._s(e.keyword))]),a("td",[t._v(t._s(e.category))]),a("td",[t._v(t._s(e.module))]),a("td",[t._v(t._s(e.cluster))]),a("td",[a("v-btn",{staticClass:"orange",attrs:{dark:"",small:"",fab:""},on:{click:function(a){return t.formEditar(e._id,e.keyword,e.category,e.module,e.cluster)}}},[a("v-icon",[t._v("mdi-pencil")])],1),a("v-btn",{staticClass:"error",attrs:{fab:"",dark:"",small:""},on:{click:function(a){return t.borrar(e._id)}}},[a("v-icon",[t._v("mdi-delete")])],1)],1)])})),0),t.filter?a("tbody",t._l(t.filteredBasekeywords,(function(e){return a("tr",{key:e._id},[a("td",[t._v(t._s(e.keyword))]),a("td",[t._v(t._s(e.category))]),a("td",[t._v(t._s(e.module))]),a("td",[t._v(t._s(e.cluster))]),a("td",[a("v-btn",{staticClass:"orange",attrs:{dark:"",small:"",fab:""},on:{click:function(a){return t.formEditar(e._id,e.keyword,e.category,e.module,e.cluster)}}},[a("v-icon",[t._v("mdi-pencil")])],1),a("v-btn",{staticClass:"error",attrs:{fab:"",dark:"",small:""},on:{click:function(a){return t.borrar(e._id)}}},[a("v-icon",[t._v("mdi-delete")])],1)],1)])})),0):t._e()]},proxy:!0}])})],1),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.filter,expression:"!filter"}]},[a("div",{staticStyle:{display:"flex","justify-content":"center","align-items":"center"}},[1!=t.page?a("v-btn",{on:{click:function(e){t.page--}}},[t._v(" Anterior ")]):t._e(),t._l(t.pages.slice(t.page-1,t.page+2),(function(e){return a("v-btn",{key:e,on:{click:function(a){t.page=e}}},[t._v(" "+t._s(e)+" ")])})),t.page<t.pages.length?a("v-btn",{on:{click:function(e){t.page++}}},[t._v(" Siguiente ")]):t._e()],2)]),a("v-dialog",{attrs:{"max-width":"700"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-form",[a("v-card",[a("v-card-title",{staticClass:"orange accent-3 white--text"},[t._v("BaseKeyword")]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",md:"3"}},[a("v-text-field",{attrs:{label:"Keyword",solo:"",required:""},model:{value:t.basekeyword.keyword,callback:function(e){t.$set(t.basekeyword,"keyword",e)},expression:"basekeyword.keyword"}},[t._v(t._s(t.basekeyword.keyword))])],1),a("v-col",{attrs:{cols:"12",md:"3"}},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.basekeyword.category,expression:"basekeyword.category"}],staticStyle:{width:"110px",height:"50px"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.basekeyword,"category",e.target.multiple?a:a[0])}}},[a("option",{attrs:{disabled:"",value:""}},[t._v("Categoria")]),a("option",[t._v("Infaltable")]),a("option",[t._v("Recomendacion")]),a("option",[t._v("No permitida")])])]),a("v-col",{attrs:{cols:"12",md:"3"}},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.basekeyword.module,expression:"basekeyword.module"}],staticStyle:{width:"100px",height:"50px"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.basekeyword,"module",e.target.multiple?a:a[0])}}},[a("option",{attrs:{disabled:"",value:""}},[t._v("Modulo")]),a("option",[t._v("Interacción")]),a("option",[t._v("Gestión del cliente")]),a("option",[t._v("Procesos y direccionamiento")])])]),a("v-col",{attrs:{cols:"12",md:"3"}},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.basekeyword.cluster,expression:"basekeyword.cluster"}],staticStyle:{width:"100px",height:"50px"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.basekeyword,"cluster",e.target.multiple?a:a[0])}}},[a("option",{attrs:{disabled:"",value:""}},[t._v("Cluster")]),a("option",[t._v("greeting accordingly")]),a("option",[t._v("caller’s name")]),a("option",[t._v("listening skills")]),a("option",[t._v("took ownership to issue")]),a("option",[t._v("validated the customer’s account")]),a("option",[t._v("provided accurate information")]),a("option",[t._v("to providing service customer")]),a("option",[t._v("validated the customer’s account")]),a("option",[t._v("retention effort applies")]),a("option",[t._v("provided proper recap")]),a("option",[t._v("offered a survey when applicable")])])])],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue-grey",dark:""},on:{click:function(e){t.dialog=!1}}},[t._v("Cancelar")]),a("v-btn",{attrs:{type:"submit",color:"orange accent-3",dark:""},on:{click:function(e){return t.guardar()}}},[t._v("Guardar")])],1)],1)],1)],1)],1)],1)],1)},Oa=[],Ra=window.location.pathname,ja=Ra.split("/"),Ea="".concat("https://tableros-back.azurewebsites.net","/").concat(ja[1],"/basekeywords/");console.log("url",Ea);var Ia={name:"PxTableBasekeywords",data:function(){return{filter:null,module:"",category:"",cluster:"",basekeywords:[],dialog:!1,operacion:"",basekeyword:{_id:null,keyword:"",category:this.category,module:this.module,cluster:this.cluster},page:1,perPage:10,pages:[]}},created:function(){this.mostrar()},methods:{mostrar:function(){var t=this;return Object(w["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.axios.get(Ea);case 2:a=e.sent,t.basekeywords=a.data.body;case 4:case"end":return e.stop()}}),e)})))()},paginate:function(t){var e=this.page,a=this.perPage,r=e*a-a,s=e*a;return t.slice(r,s)},setBasekeywords:function(){for(var t=Math.ceil(this.basekeywords.length/this.perPage),e=1;e<=t;e++)this.pages.push(e)},crear:function(){var t=this,e={keyword:this.basekeyword.keyword,category:this.basekeyword.category,module:this.basekeyword.module,cluster:this.basekeyword.cluster};this.axios.post(Ea,e).then((function(e){console.log(e.data),t.$swal.fire("¡Creado!","","success")})),this.basekeyword.keyword="",this.basekeyword.category="",this.basekeyword.module="",this.basekeyword.cluster=""},editar:function(){var t=this,e={id:this.basekeyword._id,keyword:this.basekeyword.keyword,category:this.basekeyword.category,module:this.basekeyword.module,cluster:this.basekeyword.cluster};this.axios.patch(Ea+this.basekeyword._id,e).then((function(e){console.log(e),t.$swal.fire("¡Modificado!","","success"),t.mostrar()}))},borrar:function(t){var e=this;this.$swal.fire({title:"¿Confirma eliminar el registro?",confirmButtonText:"Confirmar",showCancelButton:!0}).then((function(a){if(a.isConfirmed)e.axios.delete(Ea+t).then((function(t){e.mostrar(),console.log(t)})),e.$swal.fire("¡Eliminado!","","success");else if(a.isDenied)return!1}))},guardar:function(){"crear"==this.operacion&&this.crear(),"editar"==this.operacion&&this.editar(),this.dialog=!1},formNuevo:function(){this.dialog=!0,this.operacion="crear",this.basekeyword.keyword="",this.basekeyword.category="",this.basekeyword.module="",this.basekeyword.cluster=""},formEditar:function(t,e,a,r,s){this.basekeyword._id=t,this.basekeyword.keyword=e,this.basekeyword.category=a,this.basekeyword.module=r,this.basekeyword.cluster=s,this.dialog=!0,this.operacion="editar"}},computed:{displayedBasekeywords:function(){return this.paginate(this.basekeywords)},filteredBasekeywords:function(){var t=this;return this.basekeywords.filter((function(e){return e.keyword.toLowerCase().includes(t.filter.toLowerCase())}))}},watch:{basekeywords:function(){this.setBasekeywords()},checkFilterActivate:function(t){return null==this.filter?(console.log(t),null):null!=this.filter||void 0}}},Na=Ia,Ba=Object(d["a"])(Na,Aa,Oa,!1,null,null,null),Ta=Ba.exports;N()(Ba,{VApp:B["a"],VBtn:T["a"],VCard:D["a"],VCardActions:M["a"],VCardText:M["b"],VCardTitle:M["c"],VCol:F["a"],VContainer:V["a"],VDialog:P["a"],VForm:K["a"],VIcon:L["a"],VMain:G["a"],VRow:z["a"],VSimpleTable:q["a"],VSpacer:$["a"],VTextField:Y["a"]});var Da={name:"Basekeywords",components:{PxTableBasekeywords:Ta}},Ma=Da,Fa=Object(d["a"])(Ma,wa,Sa,!1,null,null,null),Va=Fa.exports,Pa=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("px-table-basephrases")},Ka=[],La=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app"},[a("v-app",[a("v-main",[a("v-card",{staticClass:"mx-auto mt-5",attrs:{color:"transparent","max-width":"1280",elevation:"0"}},[a("v-btn",{staticClass:"mx-2",attrs:{fab:"",dark:"",color:"#FF9B00"},on:{click:function(e){return t.formNuevo()}}},[a("v-icon",{attrs:{dark:""}},[t._v("mdi-plus")])],1),a("input",{directives:[{name:"model",rawName:"v-model",value:t.filter,expression:"filter"}],attrs:{id:"filter",placeholder:"Buscar...",type:"text",name:"filter"},domProps:{value:t.filter},on:{input:function(e){e.target.composing||(t.filter=e.target.value)}}}),a("v-simple-table",{staticClass:"mt-5",scopedSlots:t._u([{key:"default",fn:function(){return[a("thead",[a("tr",{staticClass:" "},[a("th",{},[a("h2",[t._v("FRASE")])]),a("th",{},[a("h2",[t._v("MODULO")])]),a("th",{},[a("h2",[t._v("CATEGORIA")])]),a("th",{},[a("h2",[t._v("ACCIONES")])])])]),a("tbody",{directives:[{name:"show",rawName:"v-show",value:!t.filter,expression:"!filter"}]},t._l(t.displayedBasephrases,(function(e){return a("tr",{key:e._id},[a("td",[t._v(t._s(e.phrase))]),a("td",[t._v(t._s(e.module))]),a("td",[t._v(t._s(e.category))]),a("td",[a("v-btn",{staticClass:"orange",attrs:{dark:"",small:"",fab:""},on:{click:function(a){return t.formEditar(e._id,e.phrase,e.module,e.category)}}},[a("v-icon",[t._v("mdi-pencil")])],1),a("v-btn",{staticClass:"error",attrs:{fab:"",dark:"",small:""},on:{click:function(a){return t.borrar(e._id)}}},[a("v-icon",[t._v("mdi-delete")])],1)],1)])})),0),t.filter?a("tbody",t._l(t.filteredBasephrases,(function(e){return a("tr",{key:e._id},[a("td",[t._v(t._s(e.phrase))]),a("td",[t._v(t._s(e.module))]),a("td",[t._v(t._s(e.category))]),a("td",[a("v-btn",{staticClass:"orange",attrs:{dark:"",small:"",fab:""},on:{click:function(a){return t.formEditar(e._id,e.phrase,e.module,e.category)}}},[a("v-icon",[t._v("mdi-pencil")])],1),a("v-btn",{staticClass:"error",attrs:{fab:"",dark:"",small:""},on:{click:function(a){return t.borrar(e._id)}}},[a("v-icon",[t._v("mdi-delete")])],1)],1)])})),0):t._e()]},proxy:!0}])})],1),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.filter,expression:"!filter"}]},[a("div",{staticStyle:{display:"flex","justify-content":"center","align-items":"center"}},[1!=t.page?a("v-btn",{on:{click:function(e){t.page--}}},[t._v(" Anterior ")]):t._e(),t._l(t.pages.slice(t.page-1,t.page+2),(function(e){return a("v-btn",{key:e,on:{click:function(a){t.page=e}}},[t._v(" "+t._s(e)+" ")])})),t.page<t.pages.length?a("v-btn",{on:{click:function(e){t.page++}}},[t._v(" Siguiente ")]):t._e()],2)]),a("v-dialog",{attrs:{"max-width":"500"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-form",[a("v-card",[a("v-card-title",{staticClass:"orange accent-3 white--text"},[t._v("Base frase")]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",md:"4"}},[a("v-text-field",{attrs:{label:"Phrase",solo:"",required:""},model:{value:t.basephrase.phrase,callback:function(e){t.$set(t.basephrase,"phrase",e)},expression:"basephrase.phrase"}},[t._v(t._s(t.basephrase.phrase))])],1),a("v-col",{attrs:{cols:"12",md:"4"}},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.basephrase.module,expression:"basephrase.module"}],staticStyle:{width:"100px",height:"50px"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.basephrase,"module",e.target.multiple?a:a[0])}}},[a("option",{attrs:{disabled:"",value:""}},[t._v("Modulo")]),a("option",[t._v("Interacción")]),a("option",[t._v("Gestión del cliente")]),a("option",[t._v("Procesos y direccionamiento")])])]),a("v-col",{attrs:{cols:"12",md:"4"}},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.basephrase.category,expression:"basephrase.category"}],staticStyle:{width:"110px",height:"50px"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.basephrase,"category",e.target.multiple?a:a[0])}}},[a("option",{attrs:{disabled:"",value:""}},[t._v("Categoria")]),a("option",[t._v("Infaltable")]),a("option",[t._v("Recomendacion")]),a("option",[t._v("No permitida")])])])],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue-grey",dark:""},on:{click:function(e){t.dialog=!1}}},[t._v("Cancelar")]),a("v-btn",{attrs:{type:"submit",color:"orange accent-3",dark:""},on:{click:function(e){return t.guardar()}}},[t._v("Guardar")])],1)],1)],1)],1)],1)],1)],1)},Ga=[],za=window.location.pathname,qa=za.split("/"),$a="".concat("https://tableros-back.azurewebsites.net","/").concat(qa[1],"/basephrases/");console.log("url",$a);var Ya={name:"PxTableBasephrases",data:function(){return{filter:null,module:"",category:"",basephrases:[],dialog:!1,operacion:"",basephrase:{_id:null,phrase:"",module:this.module,category:this.category},page:1,perPage:10,pages:[]}},created:function(){this.mostrar()},methods:{mostrar:function(){var t=this;return Object(w["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.axios.get($a);case 2:a=e.sent,t.basephrases=a.data.body;case 4:case"end":return e.stop()}}),e)})))()},paginate:function(t){var e=this.page,a=this.perPage,r=e*a-a,s=e*a;return t.slice(r,s)},setBasephrases:function(){for(var t=Math.ceil(this.basephrases.length/this.perPage),e=1;e<=t;e++)this.pages.push(e)},crear:function(){var t=this,e={phrase:this.basephrase.phrase,module:this.basephrase.module,category:this.basephrase.category};this.axios.post($a,e).then((function(e){console.log("respuesta response.data",e.data),t.$swal.fire("¡Creado!","","success")})),this.basephrase.phrase="",this.basephrase.module="",this.basephrase.category=""},editar:function(){var t=this,e={id:this.basephrase._id,phrase:this.basephrase.phrase,module:this.basephrase.module,category:this.basephrase.category};this.axios.patch($a+this.basephrase._id,e).then((function(e){console.log(e),t.$swal.fire("¡Modificado!","","success"),t.mostrar()}))},borrar:function(t){var e=this;this.$swal.fire({title:"¿Confirma eliminar el registro?",confirmButtonText:"Confirmar",showCancelButton:!0}).then((function(a){if(a.isConfirmed)e.axios.delete($a+t).then((function(t){e.mostrar(),console.log(t)})),e.$swal.fire("¡Eliminado!","","success");else if(a.isDenied)return!1}))},guardar:function(){"crear"==this.operacion&&this.crear(),"editar"==this.operacion&&this.editar(),this.dialog=!1},formNuevo:function(){this.dialog=!0,this.operacion="crear",this.basephrase.phrase="",this.basephrase.module="",this.basephrase.category=""},formEditar:function(t,e,a,r){this.basephrase._id=t,this.basephrase.phrase=e,this.basephrase.module=a,this.basephrase.category=r,this.dialog=!0,this.operacion="editar"}},computed:{displayedBasephrases:function(){return this.paginate(this.basephrases)},filteredBasephrases:function(){var t=this;return this.basephrases.filter((function(e){return e.phrase.toLowerCase().includes(t.filter.toLowerCase())}))}},watch:{basephrases:function(){this.setBasephrases()},checkFilterActivate:function(t){return null==this.filter?(console.log(t),null):null!=this.filter||void 0}}},Ua=Ya,Ja=Object(d["a"])(Ua,La,Ga,!1,null,null,null),Za=Ja.exports;N()(Ja,{VApp:B["a"],VBtn:T["a"],VCard:D["a"],VCardActions:M["a"],VCardText:M["b"],VCardTitle:M["c"],VCol:F["a"],VContainer:V["a"],VDialog:P["a"],VForm:K["a"],VIcon:L["a"],VMain:G["a"],VRow:z["a"],VSimpleTable:q["a"],VSpacer:$["a"],VTextField:Y["a"]});var Wa={name:"Basephrases",components:{PxTableBasephrases:Za}},Ha=Wa,Qa=Object(d["a"])(Ha,Pa,Ka,!1,null,null,null),Xa=Qa.exports,tr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("px-stadisticsofkeywords")},er=[],ar=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"app"},[r("v-app",[r("v-main",[r("h2",{staticClass:"ml-3",staticStyle:{color:"#FF9B00"}},[t._v(" ESTADISTICAS POR "),r("span",{staticStyle:{color:"#CACACA"}},[t._v("KEYWORDS")])]),r("v-container",{},[r("v-row",[r("v-col",{attrs:{cols:"6",sm:"4"}},[r("v-menu",{ref:"menu1",attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"auto"},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,s=e.attrs;return[r("v-text-field",t._g(t._b({attrs:{label:"Date",hint:"YYYY/MM/DD","persistent-hint":"","prepend-icon":"mdi-calendar"},on:{blur:function(e){t.date=t.parseDate(t.dateFormatted)}},model:{value:t.dates,callback:function(e){t.dates=e},expression:"dates"}},"v-text-field",s,!1),a))]}}]),model:{value:t.menu1,callback:function(e){t.menu1=e},expression:"menu1"}},[r("v-date-picker",{attrs:{range:"",color:"orange accent-3 lighten-1"},model:{value:t.dates,callback:function(e){t.dates=e},expression:"dates"}})],1),r("p",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}]},[t._v(t._s(t.dateRangeText))])],1),r("v-col",{staticStyle:{"justify-content":"center","align-items":"center","text-align":"center"}},[r("h3",{staticClass:"orange--text"},[t._v(" TOTAL "),r("span",{staticStyle:{color:"#CACACA"}},[t._v("GRABACIONES")])]),r("span",{staticClass:"text-h2 orange--text"},[t._v(t._s(this.cantidadLlamadas))])])],1)],1),r("v-card",{staticClass:"py-12",attrs:{flat:""}},[r("v-card-text",[r("v-row",{attrs:{align:"center",justify:"center"}},[r("v-col",{attrs:{cols:"12"}},[r("p",{staticClass:"text-center"},[t._v(" Seleccionar ")])]),r("v-btn-toggle",{attrs:{mandatory:""},model:{value:t.toggle_exclusive,callback:function(e){t.toggle_exclusive=e},expression:"toggle_exclusive"}},[r("v-btn",{on:{click:function(e){t.select="infaltable"}}},[t._v(" Infaltables ")]),r("v-btn",{on:{click:function(e){t.select="noPermitida"}}},[t._v(" No Permitidas ")]),r("v-btn",{on:{click:function(e){t.select="recomendacion"}}},[t._v(" Recomendación ")])],1)],1)],1)],1),"infaltable"==t.select?r("v-simple-table",{staticClass:"mt-5",scopedSlots:t._u([{key:"default",fn:function(){return[r("thead",[r("tr",{staticStyle:{"background-color":"#CACACA"}},[r("th",{staticClass:"white--text ",staticStyle:{"text-align":"center"}},[t._v(" KEYWORD ")]),r("th",{staticClass:"white--text ",staticStyle:{"text-align":"center"}},[r("img",{staticClass:"mr-2",attrs:{src:a("0edc")}}),r("span",{staticClass:"underline cursor-pointer",on:{click:function(e){return t.changeSortOrder(1)}}},[t._v("HALLAZGO POR GRABACIÓN")])]),r("th",{staticClass:"white--text ",staticStyle:{"text-align":"center"}},[r("img",{staticClass:"mr-2",attrs:{src:a("0edc")}}),r("span",{staticClass:"underline cursor-pointer",on:{click:function(e){return t.changeSortOrder(2)}}},[t._v("KEYWORD EN EL TOTAL DE GRABACIONES ")])])])]),r("tbody",t._l(t.filteredStadistics,(function(e){return r("tr",{key:e.keyword},[r("td",[t._v(" "+t._s(e.keyword)+" ")]),r("td",{staticStyle:{"text-align":"center"}},[t._v(" "+t._s(e.found)+" ")]),r("td",{staticStyle:{"text-align":"center"}},[t._v(" "+t._s(e.porcentage2.toFixed(1))+" % ")])])})),0)]},proxy:!0}],null,!1,800326203)}):t._e(),"noPermitida"==t.select?r("v-simple-table",{staticClass:"mt-5",scopedSlots:t._u([{key:"default",fn:function(){return[r("thead",[r("tr",{staticStyle:{"background-color":"#CACACA"}},[r("th",{staticClass:"white--text ",staticStyle:{"text-align":"center"}},[t._v(" KEYWORD ")]),r("th",{staticClass:"white--text ",staticStyle:{"text-align":"center"}},[r("img",{staticClass:"mr-2",attrs:{src:a("0edc")}}),r("span",{staticClass:"underline cursor-pointer",on:{click:function(e){return t.changeSortOrder(1)}}},[t._v("HALLAZGO POR GRABACIÓN")])]),r("th",{staticClass:"white--text ",staticStyle:{"text-align":"center"}},[r("img",{staticClass:"mr-2",attrs:{src:a("0edc")}}),r("span",{staticClass:"underline cursor-pointer",on:{click:function(e){return t.changeSortOrder(2)}}},[t._v("KEYWORD EN EL TOTAL DE GRABACIONES ")])])])]),r("tbody",t._l(t.filteredStadisticsNo,(function(e){return r("tr",{key:e.keyword},[r("td",[t._v(" "+t._s(e.keyword)+" ")]),r("td",{staticStyle:{"text-align":"center"}},[t._v(" "+t._s(e.found)+" ")]),r("td",{staticStyle:{"text-align":"center"}},[t._v(" "+t._s(e.porcentage2.toFixed(1))+" % ")])])})),0)]},proxy:!0}],null,!1,3225673434)}):t._e(),"recomendacion"==t.select?r("v-simple-table",{staticClass:"mt-5",scopedSlots:t._u([{key:"default",fn:function(){return[r("thead",[r("tr",{staticStyle:{"background-color":"#CACACA"}},[r("th",{staticClass:"white--text ",staticStyle:{"text-align":"center"}},[t._v(" KEYWORD ")]),r("th",{staticClass:"white--text ",staticStyle:{"text-align":"center"}},[r("img",{staticClass:"mr-2",attrs:{src:a("0edc")}}),r("span",{staticClass:"underline cursor-pointer",on:{click:function(e){return t.changeSortOrder(1)}}},[t._v("HALLAZGO POR GRABACIÓN")])]),r("th",{staticClass:"white--text ",staticStyle:{"text-align":"center"}},[r("img",{staticClass:"mr-2",attrs:{src:a("0edc")}}),r("span",{staticClass:"underline cursor-pointer",on:{click:function(e){return t.changeSortOrder(2)}}},[t._v("KEYWORD EN EL TOTAL DE GRABACIONES ")])])])]),r("tbody",t._l(t.filteredStadisticsRe,(function(e){return r("tr",{key:e.keyword},[r("td",[t._v(" "+t._s(e.keyword)+" ")]),r("td",{staticStyle:{"text-align":"center"}},[t._v(" "+t._s(e.found)+" ")]),r("td",{staticStyle:{"text-align":"center"}},[t._v(" "+t._s(e.porcentage2.toFixed(1))+" % ")])])})),0)]},proxy:!0}],null,!1,167530316)}):t._e()],1)],1)],1)},rr=[],sr=window.location.pathname,nr="".concat("https://tableros-back.azurewebsites.net").concat(sr),or={name:"PxStadisticsofkeywords",data:function(){return{dates:[(new Date).toISOString().substr(0,10)],cantidadLlamadas:0,totalHallazgos:0,search:"",menu1:!1,stadisticsofkeywords:[],infaltables:[],toggle_exclusive:void 0,noPermitidas:[],recomendacion:[],sortOrder:1,ordenamiento1:0,select:"infaltable"}},created:function(){this.mostrar()},computed:{dateRangeText:function(){return this.dates.join(" ~ ")&&this.mostrar()},filteredStadistics:function(){var t=this,e=1==this.sortOrder?-1:1,a=this.ordenamiento1;return this.infaltables.filter((function(e){return e.keyword.match(t.search)})).sort((function(r,s){return 1==a&&parseInt(r.found)>parseInt(s.found)||2==a&&parseInt(r.porcentage2)>parseInt(s.porcentage2)?t.sortOrder:(t.ordenamiento1=0,e)}))},filteredStadisticsNo:function(){var t=this,e=1==this.sortOrder?-1:1,a=this.ordenamiento1;return this.noPermitidas.filter((function(e){return e.keyword.match(t.search)})).sort((function(r,s){return 1==a&&parseInt(r.found)>parseInt(s.found)||2==a&&parseInt(r.porcentage2)>parseInt(s.porcentage2)?t.sortOrder:(t.ordenamiento1=0,e)}))},filteredStadisticsRe:function(){var t=this,e=1==this.sortOrder?-1:1,a=this.ordenamiento1;return this.recomendacion.filter((function(e){return e.keyword.match(t.search)})).sort((function(r,s){return 1==a&&parseInt(r.found)>parseInt(s.found)||2==a&&parseInt(r.porcentage2)>parseInt(s.porcentage2)?t.sortOrder:(t.ordenamiento1=0,e)}))}},methods:{changeSortOrder:function(t){this.sortOrder=1==this.sortOrder?-1:1,this.ordenamiento1=t,console.log("como se va a organizar",this.ordenamiento1)},mostrar:function(){var t=this;return Object(w["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(1!=t.dates.length){e.next=6;break}return e.next=3,t.axios.get(nr+"?eventDate=".concat(t.dates,"T00:00:00.000Z"));case 3:a=e.sent,e.next=9;break;case 6:return e.next=8,t.axios.get(nr+"?eventDate=".concat(t.dates[0],"T00:00:00.000Z&&eventDate=").concat(t.dates[1],"T00:00:00.000Z"));case 8:a=e.sent;case 9:t.stadisticsofkeywords=a.data.body,console.log("object",t.stadisticsofkeywords),t.mostrarTableInfaltables(t.stadisticsofkeywords),t.mostrarTableNopermitidas(t.stadisticsofkeywords),t.mostrarTableRecomendacion(t.stadisticsofkeywords);case 14:case"end":return e.stop()}}),e)})))()},mostrarTableInfaltables:function(t){for(var e={},a=0,r=0;r<t.length;r++){for(var s in console.log("entro1",t[r].contents.required),t[r].contents.required)Object.prototype.hasOwnProperty.call(e,s)?e[s]+=t[r].contents.required[s]:e[s]=t[r].contents.required[s];a+=t[r].recordings}this.cantidadLlamadas=a;var n=0;for(var o in e)n+=e[o];this.totalHallazgos=n,console.log("superRequired",e);var i=[];for(var c in e){var l={keyword:c,found:e[c],porcentage:100*e[c]/n,porcentage2:100*e[c]/a};i.push(l)}i.sort((function(t,e){return t.found<e.found?1:e.found<t.found?-1:0})),console.log("superRequiredArray",i),this.infaltables=i},mostrarTableNopermitidas:function(t){for(var e={},a=0,r=0;r<t.length;r++){for(var s in console.log("entro1",t[r].contents.notAllowed),t[r].contents.notAllowed)Object.prototype.hasOwnProperty.call(e,s)?e[s]+=t[r].contents.notAllowed[s]:e[s]=t[r].contents.notAllowed[s];a+=t[r].recordings}var n=0;for(var o in e)n+=e[o];console.log("superRequired",e);var i=[];for(var c in e){var l={keyword:c,found:e[c],porcentage:100*e[c]/n,porcentage2:100*e[c]/a};i.push(l)}i.sort((function(t,e){return t.found<e.found?1:e.found<t.found?-1:0})),console.log("superRequiredArray",i),this.noPermitidas=i},mostrarTableRecomendacion:function(t){for(var e={},a=0,r=0;r<t.length;r++){for(var s in console.log("entro1",t[r].contents.recommendation),t[r].contents.recommendation)Object.prototype.hasOwnProperty.call(e,s)?e[s]+=t[r].contents.recommendation[s]:e[s]=t[r].contents.recommendation[s];a+=t[r].recordings}var n=0;for(var o in e)n+=e[o];console.log("superRequired",e);var i=[];for(var c in e){var l={keyword:c,found:e[c],porcentage:100*e[c]/n,porcentage2:100*e[c]/a};i.push(l)}i.sort((function(t,e){return t.found<e.found?1:e.found<t.found?-1:0})),console.log("superRequiredArray",i),this.recomendacion=i}}},ir=or,cr=a("a609"),lr=Object(d["a"])(ir,ar,rr,!1,null,null,null),dr=lr.exports;N()(lr,{VApp:B["a"],VBtn:T["a"],VBtnToggle:cr["a"],VCard:D["a"],VCardText:M["b"],VCol:F["a"],VContainer:V["a"],VDatePicker:$t["a"],VMain:G["a"],VMenu:Yt["a"],VRow:z["a"],VSimpleTable:q["a"],VTextField:Y["a"]});var ur={name:"Stadisticsofkeywords",components:{PxStadisticsofkeywords:dr}},hr=ur,fr=Object(d["a"])(hr,tr,er,!1,null,null,null),mr=fr.exports,pr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("px-auditkeywordstatistics")},vr=[],gr=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"app"},[r("v-app",[r("v-main",[r("h2",{staticClass:"ml-3",staticStyle:{color:"#FF9B00"}},[t._v(" ESTADISTICAS POR "),r("span",{staticStyle:{color:"#CACACA"}},[t._v("KEYWORDS")])]),r("v-container",{},[r("v-row",[r("v-col",{attrs:{cols:"6",sm:"4"}},[r("v-menu",{ref:"menu1",attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"auto"},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,s=e.attrs;return[r("v-text-field",t._g(t._b({attrs:{label:"Date",hint:"YYYY/MM/DD","persistent-hint":"","prepend-icon":"mdi-calendar"},on:{blur:function(e){t.date=t.parseDate(t.dateFormatted)}},model:{value:t.dates,callback:function(e){t.dates=e},expression:"dates"}},"v-text-field",s,!1),a))]}}]),model:{value:t.menu1,callback:function(e){t.menu1=e},expression:"menu1"}},[r("v-date-picker",{attrs:{range:"",color:"orange accent-3 lighten-1"},model:{value:t.dates,callback:function(e){t.dates=e},expression:"dates"}})],1),r("p",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}]},[t._v(t._s(t.dateRangeText))])],1),r("v-col",{staticStyle:{"justify-content":"center","align-items":"center","text-align":"center"}},[r("h3",{staticClass:"orange--text"},[t._v(" TOTAL "),r("span",{staticStyle:{color:"#CACACA"}},[t._v("GRABACIONES")])]),r("span",{staticClass:"text-h2 orange--text"},[t._v(t._s(this.cantidadLlamadas))])])],1)],1),0==t.pxinfo?r("v-card",{staticClass:"py-12",attrs:{flat:""}},[r("v-card-text",[r("v-row",{attrs:{align:"center",justify:"center"}},[r("v-col",{attrs:{cols:"12"}},[r("p",{staticClass:"text-center"},[t._v(" Seleccionar ")])]),r("v-btn-toggle",{attrs:{mandatory:""},model:{value:t.toggle_exclusive,callback:function(e){t.toggle_exclusive=e},expression:"toggle_exclusive"}},[r("v-btn",{on:{click:function(e){return t.resetTable("infaltable")}}},[t._v(" Infaltable ")]),r("v-btn",{on:{click:function(e){return t.resetTable("negativeInfaltable")}}},[t._v(" Infaltable no hallada ")]),r("v-btn",{on:{click:function(e){return t.resetTable("noPermitida")}}},[t._v(" No Permitida ")]),r("v-btn",{on:{click:function(e){return t.resetTable("recomendacion")}}},[t._v(" Recomendación ")])],1)],1)],1)],1):t._e(),0==t.pxinfo?r("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],attrs:{placeholder:"Buscar...",type:"text"},domProps:{value:t.search},on:{input:function(e){e.target.composing||(t.search=e.target.value)}}}):t._e(),"infaltable"==t.select&&0==t.pxinfo?r("v-simple-table",{staticClass:"mt-5",scopedSlots:t._u([{key:"default",fn:function(){return[r("thead",[r("tr",{staticStyle:{"background-color":"#CACACA"}},[r("th",{staticClass:"white--text ",staticStyle:{"text-align":"center"}},[t._v(" KEYWORD ")]),r("th",{staticClass:"white--text ",staticStyle:{"text-align":"center"}},[r("img",{staticClass:"mr-2",attrs:{src:a("0edc")}}),r("span",{staticClass:"underline cursor-pointer",on:{click:function(e){return t.changeSortOrder(2)}}},[t._v("GRABACIONES ")])]),r("th",{staticClass:"white--text ",staticStyle:{"text-align":"center"}},[r("img",{staticClass:"mr-2",attrs:{src:a("0edc")}}),r("span",{staticClass:"underline cursor-pointer",on:{click:function(e){return t.changeSortOrder(1)}}},[t._v("PORCENTAJE")])])])]),r("tbody",t._l(t.filteredStadistics,(function(e){return r("tr",{key:e.keyword},[r("td",{on:{click:function(a){return t.mostrarKeywordSelected(e.keyword,"required")}}},[t._v(" "+t._s(e.keyword)+" ")]),r("td",{staticStyle:{"text-align":"center"}},[t._v(" "+t._s(e.found)+" ")]),r("td",{staticStyle:{"text-align":"center"}},[t._v(" "+t._s(e.porcentaje.toFixed(1))+" % ")])])})),0)]},proxy:!0}],null,!1,1963576024)}):t._e(),"infaltable"==t.select&&0==t.pxinfo&&1==t.clicKeyword?r("v-simple-table",{staticClass:"mt-5",scopedSlots:t._u([{key:"default",fn:function(){return[r("thead",[r("tr",{staticStyle:{"background-color":"#CACACA"}},[r("th",{staticClass:"white--text ",staticStyle:{"text-align":"center"}},[t._v(" AGENTE ")]),r("th",{staticClass:"white--text ",staticStyle:{"text-align":"center"}},[r("img",{staticClass:"mr-2",attrs:{src:a("0edc")}}),r("span",{staticClass:"underline cursor-pointer",on:{click:function(e){return t.changeSortOrder(2)}}},[t._v("GRABACIONES ")])]),r("th",{staticClass:"white--text ",staticStyle:{"text-align":"center"}},[r("img",{staticClass:"mr-2",attrs:{src:a("0edc")}}),r("span",{staticClass:"underline cursor-pointer",on:{click:function(e){return t.changeSortOrder(1)}}},[t._v("PORCENTAJE")])])])]),r("tbody",t._l(t.filteredInfaltablesKeywords,(function(e){return r("tr",{key:e.name},[r("td",{on:{click:function(a){return t.mostrarAgentSelected(e.name)}}},[t._v(" "+t._s(e.name)+" ")]),r("td",{staticStyle:{"text-align":"center"}},[t._v(" "+t._s(e.found)+" ")]),r("td",{staticStyle:{"text-align":"center"}},[t._v(" "+t._s(e.porcentaje.toFixed(5))+" % ")])])})),0)]},proxy:!0}],null,!1,2947470198)}):t._e(),"infaltable"==t.select&&0==t.pxinfo&&1==t.clickAgente?r("v-simple-table",{staticClass:"mt-5",scopedSlots:t._u([{key:"default",fn:function(){return[r("thead",[r("tr",{staticStyle:{"background-color":"#CACACA"}},[r("th",{staticClass:"white--text ",staticStyle:{"text-align":"center"}},[t._v(" GRABACIÓN ")])])]),r("tbody",t._l(t.filteredInfaltablesGrabacion,(function(e){return r("tr",{key:e.recording},[r("td",{on:{click:function(a){return t.mostrarKeyfileSelected(e.recording)}}},[t._v(" "+t._s(e.recording)+" ")])])})),0)]},proxy:!0}],null,!1,207617235)}):t._e(),"negativeInfaltable"==t.select&&0==t.pxinfo?r("v-simple-table",{staticClass:"mt-5",scopedSlots:t._u([{key:"default",fn:function(){return[r("thead",[r("tr",{staticStyle:{"background-color":"#CACACA"}},[r("th",{staticClass:"white--text ",staticStyle:{"text-align":"center"}},[t._v(" KEYWORD ")]),r("th",{staticClass:"white--text ",staticStyle:{"text-align":"center"}},[r("img",{staticClass:"mr-2",attrs:{src:a("0edc")}}),r("span",{staticClass:"underline cursor-pointer",on:{click:function(e){return t.changeSortOrder(2)}}},[t._v("GRABACIONES ")])]),r("th",{staticClass:"white--text ",staticStyle:{"text-align":"center"}},[r("img",{staticClass:"mr-2",attrs:{src:a("0edc")}}),r("span",{staticClass:"underline cursor-pointer",on:{click:function(e){return t.changeSortOrder(1)}}},[t._v("PORCENTAJE")])])])]),r("tbody",t._l(t.filteredStadisticsNegativeRequired,(function(e){return r("tr",{key:e.keyword},[r("td",{on:{click:function(a){return t.mostrarKeywordSelected(e.keyword,"negativeRequired")}}},[t._v(" "+t._s(e.keyword)+" ")]),r("td",{staticStyle:{"text-align":"center"}},[t._v(" "+t._s(e.found)+" ")]),r("td",{staticStyle:{"text-align":"center"}},[t._v(" "+t._s(e.porcentaje.toFixed(1))+" % ")])])})),0)]},proxy:!0}],null,!1,1713651985)}):t._e(),"negativeInfaltable"==t.select&&0==t.pxinfo&&1==t.clicKeyword?r("v-simple-table",{staticClass:"mt-5",scopedSlots:t._u([{key:"default",fn:function(){return[r("thead",[r("tr",{staticStyle:{"background-color":"#CACACA"}},[r("th",{staticClass:"white--text ",staticStyle:{"text-align":"center"}},[t._v(" AGENTE ")]),r("th",{staticClass:"white--text ",staticStyle:{"text-align":"center"}},[r("img",{staticClass:"mr-2",attrs:{src:a("0edc")}}),r("span",{staticClass:"underline cursor-pointer",on:{click:function(e){return t.changeSortOrder(2)}}},[t._v("GRABACIONES ")])]),r("th",{staticClass:"white--text ",staticStyle:{"text-align":"center"}},[r("img",{staticClass:"mr-2",attrs:{src:a("0edc")}}),r("span",{staticClass:"underline cursor-pointer",on:{click:function(e){return t.changeSortOrder(1)}}},[t._v("PORCENTAJE")])])])]),r("tbody",t._l(t.filteredInfaltablesKeywords,(function(e){return r("tr",{key:e.name},[r("td",{on:{click:function(a){return t.mostrarAgentSelected(e.name)}}},[t._v(" "+t._s(e.name)+" ")]),r("td",{staticStyle:{"text-align":"center"}},[t._v(" "+t._s(e.found)+" ")]),r("td",{staticStyle:{"text-align":"center"}},[t._v(" "+t._s(e.porcentaje.toFixed(5))+" % ")])])})),0)]},proxy:!0}],null,!1,2947470198)}):t._e(),"negativeInfaltable"==t.select&&0==t.pxinfo&&1==t.clickAgente?r("v-simple-table",{staticClass:"mt-5",scopedSlots:t._u([{key:"default",fn:function(){return[r("thead",[r("tr",{staticStyle:{"background-color":"#CACACA"}},[r("th",{staticClass:"white--text ",staticStyle:{"text-align":"center"}},[t._v(" GRABACIÓN ")])])]),r("tbody",t._l(t.filteredInfaltablesGrabacion,(function(e){return r("tr",{key:e.recording},[r("td",{on:{click:function(a){return t.mostrarKeyfileSelected(e.recording)}}},[t._v(" "+t._s(e.recording)+" ")])])})),0)]},proxy:!0}],null,!1,207617235)}):t._e(),"noPermitida"==t.select?r("v-simple-table",{staticClass:"mt-5",scopedSlots:t._u([{key:"default",fn:function(){return[r("thead",[r("tr",{staticStyle:{"background-color":"#CACACA"}},[r("th",{staticClass:"white--text ",staticStyle:{"text-align":"center"}},[t._v(" KEYWORD ")]),r("th",{staticClass:"white--text ",staticStyle:{"text-align":"center"}},[r("img",{staticClass:"mr-2",attrs:{src:a("0edc")}}),r("span",{staticClass:"underline cursor-pointer",on:{click:function(e){return t.changeSortOrder(1)}}},[t._v("GRABACIONES")])]),r("th",{staticClass:"white--text ",staticStyle:{"text-align":"center"}},[r("img",{staticClass:"mr-2",attrs:{src:a("0edc")}}),r("span",{staticClass:"underline cursor-pointer",on:{click:function(e){return t.changeSortOrder(2)}}},[t._v("PORCENTAJE ")])])])]),r("tbody",t._l(t.filteredStadisticsNo,(function(e){return r("tr",{key:e.keyword},[r("td",{on:{click:function(a){return t.mostrarKeywordSelected(e.keyword,"notAllowed")}}},[t._v(" "+t._s(e.keyword)+" ")]),r("td",{staticStyle:{"text-align":"center"}},[t._v(" "+t._s(e.found)+" ")]),r("td",{staticStyle:{"text-align":"center"}},[t._v(" "+t._s(e.porcentaje.toFixed(1))+" % ")])])})),0)]},proxy:!0}],null,!1,1109875485)}):t._e(),"noPermitida"==t.select&&0==t.pxinfo&&1==t.clicKeyword?r("v-simple-table",{staticClass:"mt-5",scopedSlots:t._u([{key:"default",fn:function(){return[r("thead",[r("tr",{staticStyle:{"background-color":"#CACACA"}},[r("th",{staticClass:"white--text ",staticStyle:{"text-align":"center"}},[t._v(" AGENTE ")]),r("th",{staticClass:"white--text ",staticStyle:{"text-align":"center"}},[r("img",{staticClass:"mr-2",attrs:{src:a("0edc")}}),r("span",{staticClass:"underline cursor-pointer",on:{click:function(e){return t.changeSortOrder(2)}}},[t._v("GRABACIONES ")])]),r("th",{staticClass:"white--text ",staticStyle:{"text-align":"center"}},[r("img",{staticClass:"mr-2",attrs:{src:a("0edc")}}),r("span",{staticClass:"underline cursor-pointer",on:{click:function(e){return t.changeSortOrder(1)}}},[t._v("PORCENTAJE")])])])]),r("tbody",t._l(t.filteredInfaltablesKeywords,(function(e){return r("tr",{key:e.name},[r("td",{on:{click:function(a){return t.mostrarAgentSelected(e.name)}}},[t._v(" "+t._s(e.name)+" ")]),r("td",{staticStyle:{"text-align":"center"}},[t._v(" "+t._s(e.found)+" ")]),r("td",{staticStyle:{"text-align":"center"}},[t._v(" "+t._s(e.porcentaje.toFixed(5))+" % ")])])})),0)]},proxy:!0}],null,!1,2947470198)}):t._e(),"noPermitida"==t.select&&0==t.pxinfo&&1==t.clickAgente?r("v-simple-table",{staticClass:"mt-5",scopedSlots:t._u([{key:"default",fn:function(){return[r("thead",[r("tr",{staticStyle:{"background-color":"#CACACA"}},[r("th",{staticClass:"white--text ",staticStyle:{"text-align":"center"}},[t._v(" GRABACIÓN ")])])]),r("tbody",t._l(t.filteredInfaltablesGrabacion,(function(e){return r("tr",{key:e.recording},[r("td",{on:{click:function(a){return t.mostrarKeyfileSelected(e.recording)}}},[t._v(" "+t._s(e.recording)+" ")])])})),0)]},proxy:!0}],null,!1,207617235)}):t._e(),"recomendacion"==t.select?r("v-simple-table",{staticClass:"mt-5",scopedSlots:t._u([{key:"default",fn:function(){return[r("thead",[r("tr",{staticStyle:{"background-color":"#CACACA"}},[r("th",{staticClass:"white--text ",staticStyle:{"text-align":"center"}},[t._v(" KEYWORD ")]),r("th",{staticClass:"white--text ",staticStyle:{"text-align":"center"}},[r("img",{staticClass:"mr-2",attrs:{src:a("0edc")}}),r("span",{staticClass:"underline cursor-pointer",on:{click:function(e){return t.changeSortOrder(1)}}},[t._v("GRABACIONES")])]),r("th",{staticClass:"white--text ",staticStyle:{"text-align":"center"}},[r("img",{staticClass:"mr-2",attrs:{src:a("0edc")}}),r("span",{staticClass:"underline cursor-pointer",on:{click:function(e){return t.changeSortOrder(2)}}},[t._v("PORCENTAJE ")])])])]),r("tbody",t._l(t.filteredStadisticsRe,(function(e){return r("tr",{key:e.keyword},[r("td",{on:{click:function(a){return t.mostrarKeywordSelected(e.keyword,"recommendation")}}},[t._v(" "+t._s(e.keyword)+" ")]),r("td",{staticStyle:{"text-align":"center"}},[t._v(" "+t._s(e.found)+" ")]),r("td",{staticStyle:{"text-align":"center"}},[t._v(" "+t._s(e.porcentaje.toFixed(1))+" % ")])])})),0)]},proxy:!0}],null,!1,4171750831)}):t._e(),"recomendacion"==t.select&&0==t.pxinfo&&1==t.clicKeyword?r("v-simple-table",{staticClass:"mt-5",scopedSlots:t._u([{key:"default",fn:function(){return[r("thead",[r("tr",{staticStyle:{"background-color":"#CACACA"}},[r("th",{staticClass:"white--text ",staticStyle:{"text-align":"center"}},[t._v(" AGENTE ")]),r("th",{staticClass:"white--text ",staticStyle:{"text-align":"center"}},[r("img",{staticClass:"mr-2",attrs:{src:a("0edc")}}),r("span",{staticClass:"underline cursor-pointer",on:{click:function(e){return t.changeSortOrder(2)}}},[t._v("GRABACIONES ")])]),r("th",{staticClass:"white--text ",staticStyle:{"text-align":"center"}},[r("img",{staticClass:"mr-2",attrs:{src:a("0edc")}}),r("span",{staticClass:"underline cursor-pointer",on:{click:function(e){return t.changeSortOrder(1)}}},[t._v("PORCENTAJE")])])])]),r("tbody",t._l(t.filteredInfaltablesKeywords,(function(e){return r("tr",{key:e.name},[r("td",{on:{click:function(a){return t.mostrarAgentSelected(e.name)}}},[t._v(" "+t._s(e.name)+" ")]),r("td",{staticStyle:{"text-align":"center"}},[t._v(" "+t._s(e.found)+" ")]),r("td",{staticStyle:{"text-align":"center"}},[t._v(" "+t._s(e.porcentaje.toFixed(5))+" % ")])])})),0)]},proxy:!0}],null,!1,2947470198)}):t._e(),"recomendacion"==t.select&&0==t.pxinfo&&1==t.clickAgente?r("v-simple-table",{staticClass:"mt-5",scopedSlots:t._u([{key:"default",fn:function(){return[r("thead",[r("tr",{staticStyle:{"background-color":"#CACACA"}},[r("th",{staticClass:"white--text ",staticStyle:{"text-align":"center"}},[t._v(" GRABACIÓN ")])])]),r("tbody",t._l(t.filteredInfaltablesGrabacion,(function(e){return r("tr",{key:e.recording},[r("td",{on:{click:function(a){return t.mostrarKeyfileSelected(e.recording)}}},[t._v(" "+t._s(e.recording)+" ")])])})),0)]},proxy:!0}],null,!1,207617235)}):t._e(),0==t.pxinfo&&1==t.clicKeyfile?r("v-simple-table",{staticClass:"mt-5"},[[r("thead",[r("tr",{staticStyle:{"background-color":"#CACACA"}},[r("th",{staticClass:"white--text "},[t._v("KEYWORD")]),r("th",{staticClass:"white--text "},[t._v("CATEGORIA")]),r("th",{staticClass:"white--text "},[t._v("MODULO")]),r("th",{staticClass:"white--text "},[r("img",{staticClass:"mr-2",attrs:{src:a("0edc")}}),r("span",{staticClass:"underline cursor-pointer"},[t._v(" DESDE")])]),r("th",{staticClass:"white--text "},[r("img",{staticClass:"mr-2",attrs:{src:a("0edc")}}),r("span",{staticClass:"underline cursor-pointer"},[t._v("HASTA")])])])]),r("tbody",t._l(t.filterRadio,(function(e){return r("tr",{key:e.id},[r("td",[t._v(" "+t._s(e.name)+" ")]),r("td",{staticStyle:{"text-transform":"capitalize"}},[t._v(" "+t._s(e.category)+" ")]),r("td",{staticStyle:{"text-transform":"capitalize"}},[t._v(t._s(e.module))]),r("td",[t._v(t._s(e.from))]),r("td",[t._v(t._s(e.to))])])})),0)]],2):t._e(),1==t.pxinfo?r("div",[r("px-info")],1):t._e()],1)],1)],1)},yr=[],br=window.location.pathname,Cr=br.split("/"),_r="".concat("https://tableros-back.azurewebsites.net").concat(br),xr="".concat("https://tableros-back.azurewebsites.net","/").concat(Cr[1],"/keywords"),kr={name:"PxAuditkeywordstatistics",components:{PxInfo:Vt},data:function(){return{dates:[(new Date).toISOString().substr(0,10)],cantidadLlamadas:0,totalHallazgos:0,search:"",search2:"",search3:"",bandera:!1,bandera2:!1,bandera3:!1,clicKeyword:!1,clickAgente:!1,clicKeyfile:!1,pxinfo:!0,keywords:{},menu1:!1,stadisticsofkeywords:[],infaltables:[],negativeRequireds:[],toggle_exclusive:void 0,noPermitidas:[],recomendacion:[],sortOrder:1,picked:"",ordenamiento1:0,select:"infaltable",keywordSelected:"",categorySelected:"",agentsInfaltable:[],agentSelected:"",infaltableRecordings:[],keyfileSelected:"",keywordsResults:[],keywordGlobal:""}},created:function(){this.mostrar()},computed:{dateRangeText:function(){return this.dates.join(" ~ ")&&this.mostrar()},filteredStadistics:function(){var t=this,e=1==this.sortOrder?-1:1,a=this.ordenamiento1;return this.infaltables.filter((function(e){return e.keyword.toLowerCase().includes(t.search.toLowerCase())})).sort((function(r,s){return 1==a&&parseFloat(r.porcentaje)>parseFloat(s.porcentaje)||2==a&&parseInt(r.found)>parseInt(s.found)?t.sortOrder:(t.ordenamiento1=0,e)}))},filteredInfaltablesKeywords:function(){var t=this;return this.agentsInfaltable.filter((function(e){return e.name.match(t.search2)}))},filteredInfaltablesGrabacion:function(){var t=this;return this.infaltableRecordings.filter((function(e){return e.recording.match(t.search3)}))},filteredStadisticsNegativeRequired:function(){var t=this,e=1==this.sortOrder?-1:1,a=this.ordenamiento1;return this.negativeRequireds.filter((function(e){return e.keyword.toLowerCase().includes(t.search.toLowerCase())})).sort((function(r,s){return 1==a&&parseFloat(r.porcentaje)>parseFloat(s.porcentaje)||2==a&&parseInt(r.found)>parseInt(s.found)?t.sortOrder:(t.ordenamiento1=0,e)}))},filteredNegativeRequiredKeywords:function(){var t=this;return this.agentsInfaltable.filter((function(e){return e.name.match(t.search2)}))},filteredNegativeRequiredGrabacion:function(){var t=this;return this.infaltableRecordings.filter((function(e){return e.recording.match(t.search3)}))},filteredStadisticsNo:function(){var t=this,e=1==this.sortOrder?-1:1,a=this.ordenamiento1;return this.noPermitidas.filter((function(e){return e.keyword.toLowerCase().includes(t.search.toLowerCase())})).sort((function(r,s){return 1==a&&parseInt(r.found)>parseInt(s.found)||2==a&&parseInt(r.porcentage2)>parseInt(s.porcentage2)?t.sortOrder:(t.ordenamiento1=0,e)}))},filteredStadisticsRe:function(){var t=this,e=1==this.sortOrder?-1:1,a=this.ordenamiento1;return this.recomendacion.filter((function(e){return e.keyword.toLowerCase().includes(t.search.toLowerCase())})).sort((function(r,s){return 1==a&&parseInt(r.found)>parseInt(s.found)||2==a&&parseInt(r.porcentage2)>parseInt(s.porcentage2)?t.sortOrder:(t.ordenamiento1=0,e)}))},filterRadio:function(){var t=this;return this.keywordsResults.filter((function(e){return e.name.match(t.picked)}))}},methods:{resetTable:function(t){this.select=t,this.search="",this.clicKeyword=!1,this.bandera=!1,this.clickAgente=!1,this.search2="",this.search3="",this.clicKeyfile=!1},changeSortOrder:function(t){this.sortOrder=1==this.sortOrder?-1:1,this.ordenamiento1=t},mostrarKeywordSelected:function(t,e){0==this.bandera?(this.search=t,this.keywordGlobal=t,this.clicKeyword=!0,this.bandera=!0):(this.search="",this.clicKeyword=!1,this.bandera=!1,this.clickAgente=!1,this.search2="",this.search3="",this.clicKeyfile=!1),this.keywordSelected=t,this.categorySelected=e,this.mostrar()},mostrarAgentSelected:function(t){0==this.bandera2?(this.search2=t,this.clickAgente=!0,this.bandera2=!0):(this.search2="",this.clickAgente=!1,this.bandera2=!1,this.search3="",this.clicKeyfile=!1),this.agentSelected=t,this.mostrar()},mostrarKeyfileSelected:function(t){0==this.bandera3?(this.search3=t,this.clicKeyfile=!0,this.bandera3=!0,this.picked=this.keywordGlobal):(this.clicKeyfile=!1,this.bandera3=!1,this.search3=""),this.keyfileSelected=t,this.mostrar()},mostrar:function(){var t=this;return Object(w["a"])(regeneratorRuntime.mark((function e(){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(1!=t.dates.length){e.next=6;break}return e.next=3,t.axios.get(_r+"?eventDate=".concat(t.dates,"T00:00:00.000Z"));case 3:a=e.sent,e.next=9;break;case 6:return e.next=8,t.axios.get(_r+"?eventDate=".concat(t.dates[0],"T00:00:00.000Z&&eventDate=").concat(t.dates[1],"T00:00:00.000Z"));case 8:a=e.sent;case 9:if(t.stadisticsofkeywords=a.data.body,t.mostrarTableInfaltables(t.stadisticsofkeywords),t.mostrarAgent(t.stadisticsofkeywords,t.keywordSelected,t.categorySelected,t.cantidadLlamadas),t.mostrarRecordings(t.stadisticsofkeywords,t.keywordSelected,t.categorySelected,t.agentSelected,t.cantidadLlamadas),!(t.keyfileSelected.length>0)){e.next=19;break}return e.next=16,t.axios.get(xr+"?keyfile=".concat(t.keyfileSelected));case 16:r=e.sent,t.keywords=r.data.body,t.mostrarTableKeywords(t.keywords,t.keyfileSelected);case 19:case"end":return e.stop()}}),e)})))()},mostrarTableInfaltables:function(t){for(var e={required:{},notAllowed:{},recommendation:{},negativeRequired:{},negativeNotAllowed:{},negativeRecommendation:{}},a=0,r=0;r<t.length;r++){for(var s in t[r].contents)for(var n in t[r].contents[s])for(var o in t[r].contents[s][n])n in e[s]?e[s][n]+=t[r].contents[s][n][o].length:e[s][n]=t[r].contents[s][n][o].length;a+=t[r].recordings}this.cantidadLlamadas=a,0==this.cantidadLlamadas?this.pxinfo=!0:this.pxinfo=!1;var i=[],c=[],l=[],d=[];for(var u in e)for(var h in e[u]){var f={keyword:h,found:e[u][h],porcentaje:100*e[u][h]/a};"required"==u?i.push(f):"notAllowed"==u?c.push(f):"recommendation"==u?l.push(f):"negativeRequired"==u&&d.push(f)}this.infaltables=i,this.noPermitidas=c,this.recomendacion=l,this.negativeRequireds=d},mostrarAgent:function(t,e,a,r){for(var s={},n=0;n<t.length;n++)for(var o in t[n].contents[a][e])o in s?s[o]+=t[n].contents[a][e][o].length:s[o]=t[n].contents[a][e][o].length;var i=[];for(var c in s){var l={name:c,found:s[c],porcentaje:100*s[c]/r};i.push(l)}this.agentsInfaltable=i},mostrarRecordings:function(t,e,a,r,s){console.log(s);for(var n=[],o=0;o<t.length;o++)for(var i=0;i<t[o].contents[a][e][r].length;i++){var c={recording:t[o].contents[a][e][r][i]};n.push(c)}this.infaltableRecordings=n},mostrarTableKeywords:function(t,e){function a(t){return new Date(1e3*t).toISOString().substr(11,11)}console.log("keyfile",e);var r=t[0].contents,s=[],n=0;for(var o in r){for(var i=0;i<r[o].results.length;i++){n++;var c={id:n+o,name:o,module:r[o].clasification.module,category:r[o].clasification.category};r[o].results[i]["from"]=a(r[o].results[i]["from"]),r[o].results[i]["to"]=a(r[o].results[i]["to"]),c["speaker"]=r[o].results[i]["speaker"],c["from"]=r[o].results[i]["from"],c["to"]=r[o].results[i]["to"],c["confidence"]=r[o].results[i]["confidence"],s.push(c)}if(0==r[o].results.length){var l={id:n+o,name:o,module:r[o].clasification.module,category:r[o].clasification.category,speaker:"-",from:"-",to:"-",confidence:"-"};s.push(l)}}for(var d=[],u=[],h=0;h<s.length;h++)"-"!=s[h].speaker?d.push(s[h]):u.push(s[h]);s=d.concat(u),this.keywordsResults=s}}},wr=kr,Sr=Object(d["a"])(wr,gr,yr,!1,null,null,null),Ar=Sr.exports;N()(Sr,{VApp:B["a"],VBtn:T["a"],VBtnToggle:cr["a"],VCard:D["a"],VCardText:M["b"],VCol:F["a"],VContainer:V["a"],VDatePicker:$t["a"],VMain:G["a"],VMenu:Yt["a"],VRow:z["a"],VSimpleTable:q["a"],VTextField:Y["a"]});var Or={name:"Auditkeywordstatistics",components:{PxAuditkeywordstatistics:Ar}},Rr=Or,jr=Object(d["a"])(Rr,pr,vr,!1,null,null,null),Er=jr.exports,Ir=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("px-auditkeywordstatistics-interno")},Nr=[],Br=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"app"},[r("v-app",[r("v-main",[r("h2",{staticClass:"ml-3",staticStyle:{color:"#FF9B00"}},[t._v(" ESTADISTICAS POR "),r("span",{staticStyle:{color:"#CACACA"}},[t._v("KEYWORDS")])]),r("v-container",{},[r("v-row",[r("v-col",{attrs:{cols:"6",sm:"4"}},[r("v-menu",{ref:"menu1",attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"auto"},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,s=e.attrs;return[r("v-text-field",t._g(t._b({attrs:{label:"Date",hint:"YYYY/MM/DD","persistent-hint":"","prepend-icon":"mdi-calendar"},on:{blur:function(e){t.date=t.parseDate(t.dateFormatted)}},model:{value:t.dates,callback:function(e){t.dates=e},expression:"dates"}},"v-text-field",s,!1),a))]}}]),model:{value:t.menu1,callback:function(e){t.menu1=e},expression:"menu1"}},[r("v-date-picker",{attrs:{range:"",color:"orange accent-3 lighten-1"},model:{value:t.dates,callback:function(e){t.dates=e},expression:"dates"}})],1),r("p",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}]},[t._v(t._s(t.dateRangeText))])],1),r("v-col",{staticStyle:{"justify-content":"center","align-items":"center","text-align":"center"}},[r("h3",{staticClass:"orange--text"},[t._v(" TOTAL "),r("span",{staticStyle:{color:"#CACACA"}},[t._v("GRABACIONES")])]),r("span",{staticClass:"text-h2 orange--text"},[t._v(t._s(this.cantidadLlamadas))])])],1)],1),0==t.pxinfo?r("v-card",{staticClass:"py-12",attrs:{flat:""}},[r("v-card-text",[r("v-row",{attrs:{align:"center",justify:"center"}},[r("v-col",{attrs:{cols:"12"}},[r("p",{staticClass:"text-center"},[t._v(" Seleccionar ")])]),r("v-btn-toggle",{attrs:{mandatory:""},model:{value:t.toggle_exclusive,callback:function(e){t.toggle_exclusive=e},expression:"toggle_exclusive"}},[r("v-btn",{on:{click:function(e){return t.resetTable("infaltable")}}},[t._v(" Infaltable ")]),r("v-btn",{on:{click:function(e){return t.resetTable("negativeInfaltable")}}},[t._v(" Infaltable no hallada ")]),r("v-btn",{on:{click:function(e){return t.resetTable("noPermitida")}}},[t._v(" No Permitida ")]),r("v-btn",{on:{click:function(e){return t.resetTable("recomendacion")}}},[t._v(" Recomendación ")])],1)],1)],1)],1):t._e(),"infaltable"==t.select&&0==t.pxinfo?r("v-simple-table",{staticClass:"mt-5",scopedSlots:t._u([{key:"default",fn:function(){return[r("thead",[r("tr",{staticStyle:{"background-color":"#CACACA"}},[r("th",{staticClass:"white--text ",staticStyle:{"text-align":"center"}},[t._v(" KEYWORD ")]),r("th",{staticClass:"white--text ",staticStyle:{"text-align":"center"}},[r("img",{staticClass:"mr-2",attrs:{src:a("0edc")}}),r("span",{staticClass:"underline cursor-pointer",on:{click:function(e){return t.changeSortOrder(2)}}},[t._v("GRABACIONES ")])]),r("th",{staticClass:"white--text ",staticStyle:{"text-align":"center"}},[r("img",{staticClass:"mr-2",attrs:{src:a("0edc")}}),r("span",{staticClass:"underline cursor-pointer",on:{click:function(e){return t.changeSortOrder(1)}}},[t._v("PORCENTAJE")])])])]),r("tbody",t._l(t.filteredStadistics,(function(e){return r("tr",{key:e.keyword},[r("td",{on:{click:function(a){return t.mostrarKeywordSelected(e.keyword,"required")}}},[t._v(" "+t._s(e.keyword)+" ")]),r("td",{staticStyle:{"text-align":"center"}},[t._v(" "+t._s(e.found)+" ")]),r("td",{staticStyle:{"text-align":"center"}},[t._v(" "+t._s(e.porcentaje.toFixed(1))+" % ")])])})),0)]},proxy:!0}],null,!1,1963576024)}):t._e(),"infaltable"==t.select&&0==t.pxinfo&&1==t.clicKeyword?r("v-simple-table",{staticClass:"mt-5",scopedSlots:t._u([{key:"default",fn:function(){return[r("thead",[r("tr",{staticStyle:{"background-color":"#CACACA"}},[r("th",{staticClass:"white--text ",staticStyle:{"text-align":"center"}},[t._v(" AGENTE ")]),r("th",{staticClass:"white--text ",staticStyle:{"text-align":"center"}},[r("img",{staticClass:"mr-2",attrs:{src:a("0edc")}}),r("span",{staticClass:"underline cursor-pointer",on:{click:function(e){return t.changeSortOrder(2)}}},[t._v("GRABACIONES ")])]),r("th",{staticClass:"white--text ",staticStyle:{"text-align":"center"}},[r("img",{staticClass:"mr-2",attrs:{src:a("0edc")}}),r("span",{staticClass:"underline cursor-pointer",on:{click:function(e){return t.changeSortOrder(1)}}},[t._v("PORCENTAJE")])])])]),r("tbody",t._l(t.filteredInfaltablesKeywords,(function(e){return r("tr",{key:e.name},[r("td",{on:{click:function(a){return t.mostrarAgentSelected(e.name)}}},[t._v(" "+t._s(e.name)+" ")]),r("td",{staticStyle:{"text-align":"center"}},[t._v(" "+t._s(e.found)+" ")]),r("td",{staticStyle:{"text-align":"center"}},[t._v(" "+t._s(e.porcentaje.toFixed(5))+" % ")])])})),0)]},proxy:!0}],null,!1,2947470198)}):t._e(),"infaltable"==t.select&&0==t.pxinfo&&1==t.clickAgente?r("v-simple-table",{staticClass:"mt-5",scopedSlots:t._u([{key:"default",fn:function(){return[r("thead",[r("tr",{staticStyle:{"background-color":"#CACACA"}},[r("th",{staticClass:"white--text ",staticStyle:{"text-align":"center"}},[t._v(" GRABACIÓN ")])])]),r("tbody",t._l(t.filteredInfaltablesGrabacion,(function(e){return r("tr",{key:e.recording},[r("td",{on:{click:function(a){return t.mostrarKeyfileSelected(e.recording)}}},[t._v(" "+t._s(e.recording)+" ")])])})),0)]},proxy:!0}],null,!1,207617235)}):t._e(),"negativeInfaltable"==t.select&&0==t.pxinfo?r("v-simple-table",{staticClass:"mt-5",scopedSlots:t._u([{key:"default",fn:function(){return[r("thead",[r("tr",{staticStyle:{"background-color":"#CACACA"}},[r("th",{staticClass:"white--text ",staticStyle:{"text-align":"center"}},[t._v(" KEYWORD ")]),r("th",{staticClass:"white--text ",staticStyle:{"text-align":"center"}},[r("img",{staticClass:"mr-2",attrs:{src:a("0edc")}}),r("span",{staticClass:"underline cursor-pointer",on:{click:function(e){return t.changeSortOrder(2)}}},[t._v("GRABACIONES ")])]),r("th",{staticClass:"white--text ",staticStyle:{"text-align":"center"}},[r("img",{staticClass:"mr-2",attrs:{src:a("0edc")}}),r("span",{staticClass:"underline cursor-pointer",on:{click:function(e){return t.changeSortOrder(1)}}},[t._v("PORCENTAJE")])])])]),r("tbody",t._l(t.filteredStadisticsNegativeRequired,(function(e){return r("tr",{key:e.keyword},[r("td",{on:{click:function(a){return t.mostrarKeywordSelected(e.keyword,"negativeRequired")}}},[t._v(" "+t._s(e.keyword)+" ")]),r("td",{staticStyle:{"text-align":"center"}},[t._v(" "+t._s(e.found)+" ")]),r("td",{staticStyle:{"text-align":"center"}},[t._v(" "+t._s(e.porcentaje.toFixed(1))+" % ")])])})),0)]},proxy:!0}],null,!1,1713651985)}):t._e(),"negativeInfaltable"==t.select&&0==t.pxinfo&&1==t.clicKeyword?r("v-simple-table",{staticClass:"mt-5",scopedSlots:t._u([{key:"default",fn:function(){return[r("thead",[r("tr",{staticStyle:{"background-color":"#CACACA"}},[r("th",{staticClass:"white--text ",staticStyle:{"text-align":"center"}},[t._v(" AGENTE ")]),r("th",{staticClass:"white--text ",staticStyle:{"text-align":"center"}},[r("img",{staticClass:"mr-2",attrs:{src:a("0edc")}}),r("span",{staticClass:"underline cursor-pointer",on:{click:function(e){return t.changeSortOrder(2)}}},[t._v("GRABACIONES ")])]),r("th",{staticClass:"white--text ",staticStyle:{"text-align":"center"}},[r("img",{staticClass:"mr-2",attrs:{src:a("0edc")}}),r("span",{staticClass:"underline cursor-pointer",on:{click:function(e){return t.changeSortOrder(1)}}},[t._v("PORCENTAJE")])])])]),r("tbody",t._l(t.filteredInfaltablesKeywords,(function(e){return r("tr",{key:e.name},[r("td",{on:{click:function(a){return t.mostrarAgentSelected(e.name)}}},[t._v(" "+t._s(e.name)+" ")]),r("td",{staticStyle:{"text-align":"center"}},[t._v(" "+t._s(e.found)+" ")]),r("td",{staticStyle:{"text-align":"center"}},[t._v(" "+t._s(e.porcentaje.toFixed(5))+" % ")])])})),0)]},proxy:!0}],null,!1,2947470198)}):t._e(),"negativeInfaltable"==t.select&&0==t.pxinfo&&1==t.clickAgente?r("v-simple-table",{staticClass:"mt-5",scopedSlots:t._u([{key:"default",fn:function(){return[r("thead",[r("tr",{staticStyle:{"background-color":"#CACACA"}},[r("th",{staticClass:"white--text ",staticStyle:{"text-align":"center"}},[t._v(" GRABACIÓN ")])])]),r("tbody",t._l(t.filteredInfaltablesGrabacion,(function(e){return r("tr",{key:e.recording},[r("td",{on:{click:function(a){return t.mostrarKeyfileSelected(e.recording)}}},[t._v(" "+t._s(e.recording)+" ")])])})),0)]},proxy:!0}],null,!1,207617235)}):t._e(),"noPermitida"==t.select?r("v-simple-table",{staticClass:"mt-5",scopedSlots:t._u([{key:"default",fn:function(){return[r("thead",[r("tr",{staticStyle:{"background-color":"#CACACA"}},[r("th",{staticClass:"white--text ",staticStyle:{"text-align":"center"}},[t._v(" KEYWORD ")]),r("th",{staticClass:"white--text ",staticStyle:{"text-align":"center"}},[r("img",{staticClass:"mr-2",attrs:{src:a("0edc")}}),r("span",{staticClass:"underline cursor-pointer",on:{click:function(e){return t.changeSortOrder(1)}}},[t._v("GRABACIONES")])]),r("th",{staticClass:"white--text ",staticStyle:{"text-align":"center"}},[r("img",{staticClass:"mr-2",attrs:{src:a("0edc")}}),r("span",{staticClass:"underline cursor-pointer",on:{click:function(e){return t.changeSortOrder(2)}}},[t._v("PORCENTAJE ")])])])]),r("tbody",t._l(t.filteredStadisticsNo,(function(e){return r("tr",{key:e.keyword},[r("td",{on:{click:function(a){return t.mostrarKeywordSelected(e.keyword,"notAllowed")}}},[t._v(" "+t._s(e.keyword)+" ")]),r("td",{staticStyle:{"text-align":"center"}},[t._v(" "+t._s(e.found)+" ")]),r("td",{staticStyle:{"text-align":"center"}},[t._v(" "+t._s(e.porcentaje.toFixed(1))+" % ")])])})),0)]},proxy:!0}],null,!1,1109875485)}):t._e(),"noPermitida"==t.select&&0==t.pxinfo&&1==t.clicKeyword?r("v-simple-table",{staticClass:"mt-5",scopedSlots:t._u([{key:"default",fn:function(){return[r("thead",[r("tr",{staticStyle:{"background-color":"#CACACA"}},[r("th",{staticClass:"white--text ",staticStyle:{"text-align":"center"}},[t._v(" AGENTE ")]),r("th",{staticClass:"white--text ",staticStyle:{"text-align":"center"}},[r("img",{staticClass:"mr-2",attrs:{src:a("0edc")}}),r("span",{staticClass:"underline cursor-pointer",on:{click:function(e){return t.changeSortOrder(2)}}},[t._v("GRABACIONES ")])]),r("th",{staticClass:"white--text ",staticStyle:{"text-align":"center"}},[r("img",{staticClass:"mr-2",attrs:{src:a("0edc")}}),r("span",{staticClass:"underline cursor-pointer",on:{click:function(e){return t.changeSortOrder(1)}}},[t._v("PORCENTAJE")])])])]),r("tbody",t._l(t.filteredInfaltablesKeywords,(function(e){return r("tr",{key:e.name},[r("td",{on:{click:function(a){return t.mostrarAgentSelected(e.name)}}},[t._v(" "+t._s(e.name)+" ")]),r("td",{staticStyle:{"text-align":"center"}},[t._v(" "+t._s(e.found)+" ")]),r("td",{staticStyle:{"text-align":"center"}},[t._v(" "+t._s(e.porcentaje.toFixed(5))+" % ")])])})),0)]},proxy:!0}],null,!1,2947470198)}):t._e(),"noPermitida"==t.select&&0==t.pxinfo&&1==t.clickAgente?r("v-simple-table",{staticClass:"mt-5",scopedSlots:t._u([{key:"default",fn:function(){return[r("thead",[r("tr",{staticStyle:{"background-color":"#CACACA"}},[r("th",{staticClass:"white--text ",staticStyle:{"text-align":"center"}},[t._v(" GRABACIÓN ")])])]),r("tbody",t._l(t.filteredInfaltablesGrabacion,(function(e){return r("tr",{key:e.recording},[r("td",{on:{click:function(a){return t.mostrarKeyfileSelected(e.recording)}}},[t._v(" "+t._s(e.recording)+" ")])])})),0)]},proxy:!0}],null,!1,207617235)}):t._e(),"recomendacion"==t.select?r("v-simple-table",{staticClass:"mt-5",scopedSlots:t._u([{key:"default",fn:function(){return[r("thead",[r("tr",{staticStyle:{"background-color":"#CACACA"}},[r("th",{staticClass:"white--text ",staticStyle:{"text-align":"center"}},[t._v(" KEYWORD ")]),r("th",{staticClass:"white--text ",staticStyle:{"text-align":"center"}},[r("img",{staticClass:"mr-2",attrs:{src:a("0edc")}}),r("span",{staticClass:"underline cursor-pointer",on:{click:function(e){return t.changeSortOrder(1)}}},[t._v("GRABACIONES")])]),r("th",{staticClass:"white--text ",staticStyle:{"text-align":"center"}},[r("img",{staticClass:"mr-2",attrs:{src:a("0edc")}}),r("span",{staticClass:"underline cursor-pointer",on:{click:function(e){return t.changeSortOrder(2)}}},[t._v("PORCENTAJE ")])])])]),r("tbody",t._l(t.filteredStadisticsRe,(function(e){return r("tr",{key:e.keyword},[r("td",{on:{click:function(a){return t.mostrarKeywordSelected(e.keyword,"recommendation")}}},[t._v(" "+t._s(e.keyword)+" ")]),r("td",{staticStyle:{"text-align":"center"}},[t._v(" "+t._s(e.found)+" ")]),r("td",{staticStyle:{"text-align":"center"}},[t._v(" "+t._s(e.porcentaje.toFixed(1))+" % ")])])})),0)]},proxy:!0}],null,!1,4171750831)}):t._e(),"recomendacion"==t.select&&0==t.pxinfo&&1==t.clicKeyword?r("v-simple-table",{staticClass:"mt-5",scopedSlots:t._u([{key:"default",fn:function(){return[r("thead",[r("tr",{staticStyle:{"background-color":"#CACACA"}},[r("th",{staticClass:"white--text ",staticStyle:{"text-align":"center"}},[t._v(" AGENTE ")]),r("th",{staticClass:"white--text ",staticStyle:{"text-align":"center"}},[r("img",{staticClass:"mr-2",attrs:{src:a("0edc")}}),r("span",{staticClass:"underline cursor-pointer",on:{click:function(e){return t.changeSortOrder(2)}}},[t._v("GRABACIONES ")])]),r("th",{staticClass:"white--text ",staticStyle:{"text-align":"center"}},[r("img",{staticClass:"mr-2",attrs:{src:a("0edc")}}),r("span",{staticClass:"underline cursor-pointer",on:{click:function(e){return t.changeSortOrder(1)}}},[t._v("PORCENTAJE")])])])]),r("tbody",t._l(t.filteredInfaltablesKeywords,(function(e){return r("tr",{key:e.name},[r("td",{on:{click:function(a){return t.mostrarAgentSelected(e.name)}}},[t._v(" "+t._s(e.name)+" ")]),r("td",{staticStyle:{"text-align":"center"}},[t._v(" "+t._s(e.found)+" ")]),r("td",{staticStyle:{"text-align":"center"}},[t._v(" "+t._s(e.porcentaje.toFixed(5))+" % ")])])})),0)]},proxy:!0}],null,!1,2947470198)}):t._e(),"recomendacion"==t.select&&0==t.pxinfo&&1==t.clickAgente?r("v-simple-table",{staticClass:"mt-5",scopedSlots:t._u([{key:"default",fn:function(){return[r("thead",[r("tr",{staticStyle:{"background-color":"#CACACA"}},[r("th",{staticClass:"white--text ",staticStyle:{"text-align":"center"}},[t._v(" GRABACIÓN ")])])]),r("tbody",t._l(t.filteredInfaltablesGrabacion,(function(e){return r("tr",{key:e.recording},[r("td",{on:{click:function(a){return t.mostrarKeyfileSelected(e.recording)}}},[t._v(" "+t._s(e.recording)+" ")])])})),0)]},proxy:!0}],null,!1,207617235)}):t._e(),0==t.pxinfo&&1==t.clicKeyfile?r("v-simple-table",{staticClass:"mt-5"},[[r("thead",[r("tr",{staticStyle:{"background-color":"#CACACA"}},[r("th",{staticClass:"white--text ",staticStyle:{"text-align":"center"}},[t._v(" INTERLOCUTOR ")]),r("th",{staticClass:"white--text ",staticStyle:{"text-align":"center"}},[r("span",{staticClass:"underline cursor-pointer"},[t._v("TRANSCRIPCIÓN ")])]),r("th",{staticClass:"white--text ",staticStyle:{"text-align":"center"}},[r("span",{staticClass:"underline cursor-pointer"},[t._v("DESDE ")])]),r("th",{staticClass:"white--text ",staticStyle:{"text-align":"center"}},[r("span",{staticClass:"underline cursor-pointer"},[t._v("HASTA")])])])]),r("tbody",t._l(t.conversationsComplete,(function(e){return r("tr",{key:e},[r("td",{class:"agent"==e.speaker?"orange--text":"black--text",staticStyle:{"text-transform":"capitalize"}},[t._v(" "+t._s(e.speaker+"e")+" ")]),r("td",{class:"agent"==e.speaker?"orange--text":"black--text"},[t._v(" "+t._s(e.transcript)+" ")]),r("td",{class:"agent"==e.speaker?"orange--text":"black--text"},[t._v(" "+t._s(e.from)+" ")]),r("td",{class:"agent"==e.speaker?"orange--text":"black--text"},[t._v(" "+t._s(e.to)+" ")])])})),0)]],2):t._e(),1==t.pxinfo?r("div",[r("px-info")],1):t._e()],1)],1)],1)},Tr=[],Dr=window.location.pathname,Mr=Dr.split("/"),Fr="".concat("https://tableros-back.azurewebsites.net","/").concat(Mr[1],"/auditkeywordstatistics"),Vr="".concat("https://tableros-back.azurewebsites.net","/").concat(Mr[1],"/conversations"),Pr={name:"PxAuditkeywordstatisticsInterno",components:{PxInfo:Vt},data:function(){return{dates:[(new Date).toISOString().substr(0,10)],cantidadLlamadas:0,totalHallazgos:0,search:"",search2:"",search3:"",bandera:!1,bandera2:!1,bandera3:!1,clicKeyword:!1,clickAgente:!1,clicKeyfile:!1,pxinfo:!0,keywords:{},menu1:!1,stadisticsofkeywords:[],infaltables:[],negativeRequireds:[],toggle_exclusive:void 0,noPermitidas:[],recomendacion:[],sortOrder:1,picked:"",ordenamiento1:0,select:"infaltable",keywordSelected:"",categorySelected:"",agentsInfaltable:[],agentSelected:"",infaltableRecordings:[],keyfileSelected:"",keywordsResults:[],conversationsComplete:[],keywordGlobal:""}},created:function(){this.mostrar()},computed:{dateRangeText:function(){return this.dates.join(" ~ ")&&this.mostrar()},filteredStadistics:function(){var t=this,e=1==this.sortOrder?-1:1,a=this.ordenamiento1;return this.infaltables.filter((function(e){return e.keyword.match(t.search)})).sort((function(r,s){return 1==a&&parseFloat(r.porcentaje)>parseFloat(s.porcentaje)||2==a&&parseInt(r.found)>parseInt(s.found)?t.sortOrder:(t.ordenamiento1=0,e)}))},filteredInfaltablesKeywords:function(){var t=this;return this.agentsInfaltable.filter((function(e){return e.name.match(t.search2)}))},filteredInfaltablesGrabacion:function(){var t=this;return this.infaltableRecordings.filter((function(e){return e.recording.match(t.search3)}))},filteredStadisticsNegativeRequired:function(){var t=this,e=1==this.sortOrder?-1:1,a=this.ordenamiento1;return this.negativeRequireds.filter((function(e){return e.keyword.match(t.search)})).sort((function(r,s){return 1==a&&parseFloat(r.porcentaje)>parseFloat(s.porcentaje)||2==a&&parseInt(r.found)>parseInt(s.found)?t.sortOrder:(t.ordenamiento1=0,e)}))},filteredNegativeRequiredKeywords:function(){var t=this;return this.agentsInfaltable.filter((function(e){return e.name.match(t.search2)}))},filteredNegativeRequiredGrabacion:function(){var t=this;return this.infaltableRecordings.filter((function(e){return e.recording.match(t.search3)}))},filteredStadisticsNo:function(){var t=this,e=1==this.sortOrder?-1:1,a=this.ordenamiento1;return this.noPermitidas.filter((function(e){return e.keyword.match(t.search)})).sort((function(r,s){return 1==a&&parseInt(r.found)>parseInt(s.found)||2==a&&parseInt(r.porcentage2)>parseInt(s.porcentage2)?t.sortOrder:(t.ordenamiento1=0,e)}))},filteredStadisticsRe:function(){var t=this,e=1==this.sortOrder?-1:1,a=this.ordenamiento1;return this.recomendacion.filter((function(e){return e.keyword.match(t.search)})).sort((function(r,s){return 1==a&&parseInt(r.found)>parseInt(s.found)||2==a&&parseInt(r.porcentage2)>parseInt(s.porcentage2)?t.sortOrder:(t.ordenamiento1=0,e)}))},filterRadio:function(){var t=this;return this.keywordsResults.filter((function(e){return e.name.match(t.picked)}))}},methods:{resetTable:function(t){this.select=t,this.search="",this.clicKeyword=!1,this.bandera=!1,this.clickAgente=!1,this.search2="",this.search3="",this.clicKeyfile=!1},changeSortOrder:function(t){this.sortOrder=1==this.sortOrder?-1:1,this.ordenamiento1=t},mostrarKeywordSelected:function(t,e){0==this.bandera?(this.search=t,this.keywordGlobal=t,this.clicKeyword=!0,this.bandera=!0):(this.search="",this.clicKeyword=!1,this.bandera=!1,this.clickAgente=!1,this.search2="",this.search3="",this.clicKeyfile=!1),this.keywordSelected=t,this.categorySelected=e,this.mostrar()},mostrarAgentSelected:function(t){0==this.bandera2?(this.search2=t,this.clickAgente=!0,this.bandera2=!0):(this.search2="",this.clickAgente=!1,this.bandera2=!1,this.search3="",this.clicKeyfile=!1),this.agentSelected=t,this.mostrar()},mostrarKeyfileSelected:function(t){0==this.bandera3?(this.search3=t,this.clicKeyfile=!0,this.bandera3=!0,this.picked=this.keywordGlobal):(this.clicKeyfile=!1,this.bandera3=!1,this.search3=""),this.keyfileSelected=t,this.mostrar()},mostrar:function(){var t=this;return Object(w["a"])(regeneratorRuntime.mark((function e(){var a,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(1!=t.dates.length){e.next=6;break}return e.next=3,t.axios.get(Fr+"?eventDate=".concat(t.dates,"T00:00:00.000Z"));case 3:a=e.sent,e.next=9;break;case 6:return e.next=8,t.axios.get(Fr+"?eventDate=".concat(t.dates[0],"T00:00:00.000Z&&eventDate=").concat(t.dates[1],"T00:00:00.000Z"));case 8:a=e.sent;case 9:if(t.stadisticsofkeywords=a.data.body,t.mostrarTableInfaltables(t.stadisticsofkeywords),t.mostrarAgent(t.stadisticsofkeywords,t.keywordSelected,t.categorySelected,t.cantidadLlamadas),t.mostrarRecordings(t.stadisticsofkeywords,t.keywordSelected,t.categorySelected,t.agentSelected,t.cantidadLlamadas),!(t.keyfileSelected.length>0)){e.next=19;break}return e.next=16,t.axios.get(Vr+"?keyfile=".concat(t.keyfileSelected));case 16:r=e.sent,t.keywords=r.data.body,t.mostrarTableConversations(t.keywords,t.keyfileSelected);case 19:case"end":return e.stop()}}),e)})))()},mostrarTableInfaltables:function(t){for(var e={required:{},notAllowed:{},recommendation:{},negativeRequired:{},negativeNotAllowed:{},negativeRecommendation:{}},a=0,r=0;r<t.length;r++){for(var s in t[r].contents)for(var n in t[r].contents[s])for(var o in t[r].contents[s][n])n in e[s]?e[s][n]+=t[r].contents[s][n][o].length:e[s][n]=t[r].contents[s][n][o].length;a+=t[r].recordings}this.cantidadLlamadas=a,0==this.cantidadLlamadas?this.pxinfo=!0:this.pxinfo=!1;var i=[],c=[],l=[],d=[];for(var u in e)for(var h in e[u]){var f={keyword:h,found:e[u][h],porcentaje:100*e[u][h]/a};"required"==u?i.push(f):"notAllowed"==u?c.push(f):"recommendation"==u?l.push(f):"negativeRequired"==u&&d.push(f)}this.infaltables=i,this.noPermitidas=c,this.recomendacion=l,this.negativeRequireds=d},mostrarAgent:function(t,e,a,r){for(var s={},n=0;n<t.length;n++)for(var o in t[n].contents[a][e])o in s?s[o]+=t[n].contents[a][e][o].length:s[o]=t[n].contents[a][e][o].length;var i=[];for(var c in s){var l={name:c,found:s[c],porcentaje:100*s[c]/r};i.push(l)}this.agentsInfaltable=i},mostrarRecordings:function(t,e,a,r,s){console.log(s);for(var n=[],o=0;o<t.length;o++)for(var i=0;i<t[o].contents[a][e][r].length;i++){var c={recording:t[o].contents[a][e][r][i]};n.push(c)}this.infaltableRecordings=n},mostrarTableConversations:function(t,e){console.log(e);var a=t[0].conversation;function r(t){return new Date(1e3*t).toISOString().substr(11,11)}console.log("mostrar conversations ",a);for(var s=0;s<a.length;s++)a[s].from=r(a[s].from),a[s].to=r(a[s].to);this.conversationsComplete=a}}},Kr=Pr,Lr=Object(d["a"])(Kr,Br,Tr,!1,null,null,null),Gr=Lr.exports;N()(Lr,{VApp:B["a"],VBtn:T["a"],VBtnToggle:cr["a"],VCard:D["a"],VCardText:M["b"],VCol:F["a"],VContainer:V["a"],VDatePicker:$t["a"],VMain:G["a"],VMenu:Yt["a"],VRow:z["a"],VSimpleTable:q["a"],VTextField:Y["a"]});var zr={name:"AuditkeywordstatisticsInterno",components:{PxAuditkeywordstatisticsInterno:Gr}},qr=zr,$r=Object(d["a"])(qr,Ir,Nr,!1,null,null,null),Yr=$r.exports,Ur=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("px-tablerodirectivo")},Jr=[],Zr=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app"},[a("v-app",[a("v-main",[a("h1",{staticClass:"orange--text"},[t._v("Tablero Directivo")]),a("v-container",{staticClass:"my-5"},[""==t.selectCamp?a("v-layout",{attrs:{row:"",wrap:""}},t._l(t.clientes,(function(e){return a("v-flex",{key:e.name,attrs:{xs12:"",sm6:"",md4:"",lg3:""}},[a("v-card",{staticClass:"ma-3"},[a("div",{staticClass:"text-center",staticStyle:{color:"#929292"}},[a("h2",[t._v(t._s(e.name))])]),a("v-responsive",{staticClass:"pt-4"},[a("v-img",{staticClass:"justify-center align-center",attrs:{height:"250",src:e.image}})],1),a("v-card-text",[a("h2",{staticClass:"text-center pb-3"},[t._v("Minutos")]),a("div",[a("v-row",[a("v-col",[a("h4",{staticClass:"text-center",staticStyle:{color:"#929292"}},[t._v("Mayo")]),a("h3",{staticClass:"text-center gray-text"},[t._v(" "+t._s(e.minAnt)+" ")])]),a("v-col",[a("h4",{staticClass:"text-center orange--text"},[t._v("Junio")]),a("h3",{staticClass:"text-center gray-text"},[t._v(" "+t._s(e.minAct)+" ")])])],1),a("v-row",[a("v-col",[a("h4",{staticClass:"text-center"},[t._v("Ingresos Mayo")]),a("h3",{staticClass:"text-center"},[t._v(t._s(e.ingresosAnt))])]),a("v-col",[a("h4",{staticClass:"text-center orange--text"},[t._v("Ingresos Junio")]),a("h3",{staticClass:"text-center "},[t._v(t._s(e.ingresosAct))])])],1),a("v-row",[a("v-col",[a("p")]),a("v-col",[a("h4",{staticClass:"text-center"},[t._v("Ejecución")]),a("h3",{staticClass:"text-center"},[t._v(" "+t._s(e.ejecucion.toFixed(1))+"% ")])])],1)],1)]),a("v-row",[a("v-col",[a("p")]),a("v-col",[a("v-card-actions",[a("v-btn",{attrs:{flat:"",color:"grey"},on:{click:function(a){return t.select(e.name)}}},[a("span",[t._v("Ver Más")])])],1)],1),a("v-col",[a("p")])],1)],1)],1)})),1):t._e(),"IGS"==t.selectCamp?a("v-layout",{attrs:{row:"",wrap:""}},[a("v-row",[a("v-card-actions",[a("v-btn",{attrs:{flat:"",color:"grey"},on:{click:function(e){return t.select("")}}},[a("span",[t._v("Regresar")])])],1)],1),a("v-row",t._l(t.campaigns,(function(e){return a("v-flex",{key:e.name,attrs:{xs12:"",sm6:"",md4:"",lg3:""}},[a("v-card",{staticClass:"ma-3"},[a("div",{staticClass:"text-center",staticStyle:{color:"#929292"}},[a("h2",[t._v(t._s(e.name))])]),a("v-card-text",[a("h2",{staticClass:"text-center pb-3"},[t._v("Minutos")]),a("div",[a("v-row",[a("v-col",[a("h4",{staticClass:"text-center",staticStyle:{color:"#929292"}},[t._v(" Mayo ")]),a("h3",{staticClass:"text-center gray-text"},[t._v(" "+t._s(e.minAnt)+" ")])]),a("v-col",[a("h4",{staticClass:"text-center orange--text"},[t._v("Junio")]),a("h3",{staticClass:"text-center gray-text"},[t._v(" "+t._s(e.minAct)+" ")])])],1),a("v-row",[a("v-col",[a("h4",{staticClass:"text-center"},[t._v("Ingresos Mayo")]),a("h3",{staticClass:"text-center"},[t._v(" "+t._s(e.ingresosAnt)+" ")])]),a("v-col",[a("h4",{staticClass:"text-center orange--text"},[t._v(" Ingresos Junio ")]),a("h3",{staticClass:"text-center "},[t._v(" "+t._s(e.ingresosAct)+" ")])])],1),a("v-row",[a("v-col",[a("p")]),a("v-col",[a("h4",{staticClass:"text-center"},[t._v("Ejecución")]),a("h3",{staticClass:"text-center"},[t._v(" "+t._s(e.ejecucion.toFixed(1))+"% ")])])],1)],1)])],1)],1)})),1)],1):t._e(),"BPOGS"==t.selectCamp?a("v-layout",{attrs:{row:"",wrap:""}},[a("v-row",[a("v-card-actions",[a("v-btn",{attrs:{flat:"",color:"grey"},on:{click:function(e){return t.select("")}}},[a("span",[t._v("Regresar")])])],1)],1),a("v-row",t._l(t.campaigns2,(function(e){return a("v-flex",{key:e.name,attrs:{xs12:"",sm6:"",md4:"",lg3:""}},[a("v-card",{staticClass:"ma-3"},[a("div",{staticClass:"text-center",staticStyle:{color:"#929292"}},[a("h2",[t._v(t._s(e.name))])]),a("v-card-text",[a("h2",{staticClass:"text-center pb-3"},[t._v("Minutos")]),a("div",[a("v-row",[a("v-col",[a("h4",{staticClass:"text-center",staticStyle:{color:"#929292"}},[t._v(" Mayo ")]),a("h3",{staticClass:"text-center gray-text"},[t._v(" "+t._s(e.minAnt)+" ")])]),a("v-col",[a("h4",{staticClass:"text-center orange--text"},[t._v("Junio")]),a("h3",{staticClass:"text-center gray-text"},[t._v(" "+t._s(e.minAct)+" ")])])],1),a("v-row",[a("v-col",[a("h4",{staticClass:"text-center"},[t._v("Ingresos Mayo")]),a("h3",{staticClass:"text-center"},[t._v(" "+t._s(e.ingresosAnt)+" ")])]),a("v-col",[a("h4",{staticClass:"text-center orange--text"},[t._v(" Ingresos Junio ")]),a("h3",{staticClass:"text-center "},[t._v(" "+t._s(e.ingresosAct)+" ")])])],1),a("v-row",[a("v-col",[a("p")]),a("v-col",[a("h4",{staticClass:"text-center"},[t._v("Ejecución")]),a("h3",{staticClass:"text-center"},[t._v(" "+t._s(e.ejecucion.toFixed(1))+"% ")])])],1)],1)])],1)],1)})),1)],1):t._e()],1)],1)],1)],1)},Wr=[],Hr={data:function(){return{date:(new Date).toISOString().substr(0,7),dateAnt:new Date,mesAct:"",mesAnt:"",selectCamp:"",ingresosClientANt:0,ingresosClientACT:0,clientes:[{name:"IGS",minAnt:0,ingresosAnt:0,minAct:0,ingresosAct:0,ejecucion:0,image:"https://media-exp1.licdn.com/dms/image/C4E0BAQGnCM18sK2f_w/company-logo_200_200/0/1583871877344?e=2159024400&v=beta&t=ARddKOoFh1OgvVX09uy7_NYM_IPJVtA91wrjCcIrx1A"},{name:"BPOGS",minAnt:0,ingresosAnt:0,minAct:0,ingresosAct:0,ejecucion:0,image:"https://zenprospect-production.s3.amazonaws.com/uploads/pictures/5fc96651cd5fa10001ac18c2/picture"}],campaigns:[{name:"Banistmo",urlBD:"".concat("https://tableros-back.azurewebsites.net","/igsBanistmoPA/consumptions"),minAnt:0,ingresosAnt:0,minAct:0,ingresosAct:0,ejecucion:0,image:"http://oncor.com.pa/wp-content/uploads/2018/12/logo-banistmo.jpg"},{name:"Bancolombia",urlBD:"".concat("https://tableros-back.azurewebsites.net","/igsBancolombiaCO/consumptions"),minAnt:0,ingresosAnt:0,minAct:0,ingresosAct:0,ejecucion:0,image:"https://pbs.twimg.com/profile_images/1383646894107234307/YaD7uv_L_400x400.jpg"},{name:"Banorte",urlBD:"".concat("https://tableros-back.azurewebsites.net","/igsBanorteMX/consumptions"),minAnt:0,ingresosAnt:0,minAct:0,ingresosAct:0,ejecucion:0,image:"https://logosvector.net/wp-content/uploads/2012/12/banorte-logo-vector.png"},{name:"Daviplata",urlBD:"".concat("https://tableros-back.azurewebsites.net","/igsDaviplataCO/consumptions"),minAnt:0,ingresosAnt:0,minAct:0,ingresosAct:0,ejecucion:0,image:"https://www.nencata.felipepeinado.com/wp-content/uploads/2020/12/Daviplata.png"},{name:"Enel",urlBD:"".concat("https://tableros-back.azurewebsites.net","/igsEnelCL/consumptions"),minAnt:0,ingresosAnt:0,minAct:0,ingresosAct:0,ejecucion:0,image:"https://play-lh.googleusercontent.com/xn2S7Djvn3x05DbnPukGu9ePyk_QlWzPvhbBSaIgjkEZ2vPfkRn9pPmfob8tbBwbUb8"},{name:"Serfinanza",urlBD:"".concat("https://tableros-back.azurewebsites.net","/igsSerfinanzaCO/consumptions"),minAnt:0,ingresosAnt:0,minAct:0,ingresosAct:0,ejecucion:0,image:"https://pbs.twimg.com/profile_images/1112753927513100290/hzwsOJl2_400x400.png"}],campaigns2:[{name:"Bold English",urlBD:"".concat("https://tableros-back.azurewebsites.net","/bpogsBoldEnglishUS/consumptions"),minAnt:0,ingresosAnt:0,minAct:0,ingresosAct:0,ejecucion:0,image:"https://codigos-ascii.com/wp-content/uploads/letra-b-mayuscula.png"},{name:"Bold French",urlBD:"".concat("https://tableros-back.azurewebsites.net","/bpogsBoldFrenchFR/consumptions"),minAnt:0,ingresosAnt:0,minAct:0,ingresosAct:0,ejecucion:0,image:"https://pbs.twimg.com/profile_images/904678151317573632/2y7ZCBhU_400x400.jpg"},{name:"Hites Despacho Retiro",urlBD:"".concat("https://tableros-back.azurewebsites.net","/bpogsHitesDespachoRetiroCO/consumptions"),minAnt:0,ingresosAnt:0,minAct:0,ingresosAct:0,ejecucion:0,image:"https://inversionistas.hites.com/image/journal/article?img_id=25988"}],meses:[{mes:"sin mes"},{mes:"Enero"},{mes:"Febrero"},{mes:"Marzo"},{mes:"Abril"},{mes:"Mayo"},{mes:"Junio"},{mes:"Julio"},{mes:"Agosto"},{mes:"Septiembre"},{mes:"Octubre"},{mes:"Noviembre"},{mes:"Diciembre"}]}},created:function(){this.obtenerMinutos()},methods:{select:function(t){this.selectCamp=t},obtenerMinutos:function(){var t=this;return Object(w["a"])(regeneratorRuntime.mark((function e(){var a,r,s,n,o,i,c,l,d,u,h,f,m,p,v,g,y,b,C,_;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=0,r=0;case 2:if(!(r<t.campaigns.length)){e.next=14;break}return e.next=5,t.axios.get(t.campaigns[r].urlBD+"?yearMonthString=".concat(t.date));case 5:s=e.sent,n=s.data.body,o=0,n.forEach((function(t){o+=t.totalMinutes})),a+=o,t.campaigns[r].minAct=Number.parseFloat(o).toFixed(0);case 11:r++,e.next=2;break;case 14:t.clientes[0].minAct=Number.parseFloat(a).toFixed(0),i=0,c=0;case 17:if(!(c<t.campaigns2.length)){e.next=29;break}return e.next=20,t.axios.get(t.campaigns2[c].urlBD+"?yearMonthString=".concat(t.date));case 20:l=e.sent,d=l.data.body,u=0,d.forEach((function(t){u+=t.totalMinutes})),i+=u,t.campaigns2[c].minAct=Number.parseFloat(u).toFixed(0);case 26:c++,e.next=17;break;case 29:t.clientes[1].minAct=Number.parseFloat(i).toFixed(0),t.dateAnt.setMonth(t.dateAnt.getMonth()-1),t.dateAnt.toISOString().substring(0,7),h=0,f=0;case 34:if(!(f<t.campaigns.length)){e.next=46;break}return e.next=37,t.axios.get(t.campaigns[f].urlBD+"?yearMonthString=".concat(t.dateAnt.toISOString().substring(0,7)));case 37:m=e.sent,p=m.data.body,v=0,p.forEach((function(t){v+=t.totalMinutes})),h+=v,t.campaigns[f].minAnt=Number.parseFloat(v).toFixed(0);case 43:f++,e.next=34;break;case 46:t.clientes[0].minAnt=Number.parseFloat(h).toFixed(0),t.clientes[0].ejecucion=t.clientes[0].minAct/t.clientes[0].minAnt*100,console.log("date original",t.date),console.log("nuevo date",t.dateAnt.toISOString(2).substring(0,7)),g=0,y=0;case 52:if(!(y<t.campaigns2.length)){e.next=64;break}return e.next=55,t.axios.get(t.campaigns2[y].urlBD+"?yearMonthString=".concat(t.dateAnt.toISOString().substring(0,7)));case 55:b=e.sent,C=b.data.body,_=0,C.forEach((function(t){_+=t.totalMinutes})),g+=_,t.campaigns2[y].minAnt=Number.parseFloat(_).toFixed(0);case 61:y++,e.next=52;break;case 64:t.clientes[1].minAnt=Number.parseFloat(g).toFixed(0),t.clientes[1].ejecucion=t.clientes[1].minAct/t.clientes[1].minAnt*100,t.obtenerIngresos();case 67:case"end":return e.stop()}}),e)})))()},obtenerIngresos:function(){for(var t=0;t<this.clientes.length;t++){for(var e=0,a=0,r=0;r<this.campaigns.length;r++)this.campaigns[r].ingresosAct=new Intl.NumberFormat("de-DE",{style:"currency",currency:"USD"}).format(.02*this.campaigns[r].minAct),e+=.02*this.campaigns[r].minAct,console.log("sumaClientesIngresosAct",e[r]),this.campaigns[r].ingresosAnt=new Intl.NumberFormat("de-DE",{style:"currency",currency:"USD"}).format(.02*this.campaigns[r].minAnt),a+=.02*this.campaigns[r].minAnt,this.campaigns[r].ejecucion=this.campaigns[r].minAct/this.campaigns[r].minAnt*100;this.clientes[0].ingresosAct=new Intl.NumberFormat("de-DE",{style:"currency",currency:"USD"}).format(e),this.clientes[0].ingresosAnt=new Intl.NumberFormat("de-DE",{style:"currency",currency:"USD"}).format(a)}for(var s=0;s<this.clientes.length;s++){for(var n=0,o=0,i=0;i<this.campaigns2.length;i++)this.campaigns2[i].ingresosAct=new Intl.NumberFormat("de-DE",{style:"currency",currency:"USD"}).format(.05*this.campaigns2[i].minAct),n+=.05*this.campaigns2[i].minAct,this.campaigns2[i].ingresosAnt=new Intl.NumberFormat("de-DE",{style:"currency",currency:"USD"}).format(.05*this.campaigns2[i].minAnt),o+=.05*this.campaigns2[i].minAnt,this.campaigns2[i].ejecucion=this.campaigns2[i].minAct/this.campaigns2[i].minAnt*100;this.clientes[1].ingresosAct=new Intl.NumberFormat("de-DE",{style:"currency",currency:"USD"}).format(n),this.clientes[1].ingresosAnt=new Intl.NumberFormat("de-DE",{style:"currency",currency:"USD"}).format(o)}}}},Qr=Hr,Xr=a("0e8f"),ts=a("adda"),es=a("a722"),as=a("6b53"),rs=Object(d["a"])(Qr,Zr,Wr,!1,null,null,null),ss=rs.exports;N()(rs,{VApp:B["a"],VBtn:T["a"],VCard:D["a"],VCardActions:M["a"],VCardText:M["b"],VCol:F["a"],VContainer:V["a"],VFlex:Xr["a"],VImg:ts["a"],VLayout:es["a"],VMain:G["a"],VResponsive:as["a"],VRow:z["a"]});var ns={name:"Tablerodirectivo",components:{PxTablerodirectivo:ss}},os=ns,is=Object(d["a"])(os,Ur,Jr,!1,null,null,null),cs=is.exports,ls=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("px-table-basescore")},ds=[],us=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app"},[a("v-app",[a("v-main",[a("v-card",{staticClass:"mx-auto mt-5",attrs:{color:"transparent","max-width":"1280",elevation:"0"}},[a("v-btn",{staticClass:"mx-2",attrs:{fab:"",dark:"",color:"#FF9B00"},on:{click:function(e){return t.formNuevo()}}},[a("v-icon",{attrs:{dark:""}},[t._v("mdi-plus")])],1),a("input",{directives:[{name:"model",rawName:"v-model",value:t.filter,expression:"filter"}],attrs:{id:"filter",placeholder:"Buscar...",type:"text",name:"filter"},domProps:{value:t.filter},on:{input:function(e){e.target.composing||(t.filter=e.target.value)}}}),a("v-simple-table",{staticClass:"mt-5",scopedSlots:t._u([{key:"default",fn:function(){return[a("thead",[a("tr",{staticClass:" "},[a("th",{},[a("h2",[t._v("MODULO")])]),a("th",{},[a("h2",[t._v("ACCIONES")])])])]),a("tbody",t._l(t.baseScore,(function(e){return a("tr",{key:e._id},[a("td",{},[t._v(t._s(Object.keys(e.infaltable)))])])})),0)]},proxy:!0}])})],1)],1)],1)],1)},hs=[];a("ed18").config();var fs=window.location.pathname,ms="".concat("https://tableros-back.azurewebsites.net").concat(fs,"/"),ps={name:"PxTableBasescore",data:function(){return{filter:null,category:"",modules:[],selectModule:"",selectCategory:"",clusters:[],datasCMC:[],module:"",cluster:"",baseScore:[],dialog:!1,operacion:"",baseScor:{_id:null,module:this.module}}},mounted:function(){},created:function(){this.mostrar()},methods:{mostrar:function(){var t=this;return Object(w["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.axios.get(ms);case 2:a=e.sent,t.baseScore=a.data.body,console.log(t.baseScore);case 5:case"end":return e.stop()}}),e)})))()},crear:function(){var t=this,e={module:this.baseScor.module};this.axios.post(ms,e).then((function(e){console.log(e.data),t.$swal.fire("¡Creado!","","success")})),this.basekeyword.keyword="",this.basekeyword.category="",this.basekeyword.module="",this.basekeyword.cluster=""},editar:function(){var t=this,e={id:this.basekeyword._id,keyword:this.basekeyword.keyword,category:this.basekeyword.category,module:this.basekeyword.module,cluster:this.basekeyword.cluster};this.axios.patch(ms+this.basekeyword._id,e).then((function(e){console.log(e),t.$swal.fire("¡Modificado!","","success"),t.mostrar()}))},borrar:function(t){var e=this;this.$swal.fire({title:"¿Confirma eliminar el registro?",confirmButtonText:"Confirmar",showCancelButton:!0}).then((function(a){if(a.isConfirmed)e.axios.delete(ms+t).then((function(t){e.mostrar(),console.log(t)})),e.$swal.fire("¡Eliminado!","","success");else if(a.isDenied)return!1}))},guardar:function(){"crear"==this.operacion&&this.crear(),"editar"==this.operacion&&this.editar(),this.dialog=!1},formNuevo:function(){this.dialog=!0,this.operacion="crear",this.basekeyword.keyword="",this.basekeyword.category="",this.basekeyword.module="",this.basekeyword.cluster=""},formEditar:function(t,e,a,r,s){this.basekeyword._id=t,this.basekeyword.keyword=e,this.basekeyword.category=a,this.basekeyword.module=r,this.basekeyword.cluster=s,this.dialog=!0,this.operacion="editar"}},computed:{filteredBaseScore:function(){var t=this;return this.baseScore.filter((function(e){return e.keyword.toLowerCase().includes(t.filter.toLowerCase())}))}},watch:{baseScore:function(){this.setBaseScore()},checkFilterActivate:function(t){return null==this.filter?(console.log(t),null):null!=this.filter||void 0}}},vs=ps,gs=Object(d["a"])(vs,us,hs,!1,null,null,null),ys=gs.exports;N()(gs,{VApp:B["a"],VBtn:T["a"],VCard:D["a"],VIcon:L["a"],VMain:G["a"],VSimpleTable:q["a"]});var bs={components:{PxTableBasescore:ys},name:"Basescore"},Cs=bs,_s=Object(d["a"])(Cs,ls,ds,!1,null,null,null),xs=_s.exports;r["a"].use(f["a"]);var ks=new f["a"]({mode:"history",routes:[{path:"*",name:"error",component:y},{path:"/:bd/basekeywords",name:"basekeywords",component:Q},{path:"/:bd/baseagents",name:"baseagents",component:ht},{path:"/:bd/basephrases",name:"basephrases",component:Rt},{path:"/:bd/auditkeywords",name:"auditkeywords",component:Qt},{path:"/:bd/auditphrases",name:"auditphrases",component:me},{path:"/:bd/consumptions",name:"consumptions",component:Re},{path:"/:bd/auditscoringkeywords",name:"auditscoringkeywords",component:qe},{path:"/:bd/auditconversations",name:"auditconversations",component:ia},{path:"/:bd/auditscoringkeywordsnoventas",name:"auditscoringkeywordsnoventas",component:ka},{path:"/:bd/basekeywordsnoventas",name:"basekeywordsnoventas",component:Va},{path:"/:bd/basephrasesnoventas",name:"basephrasesnoventas",component:Xa},{path:"/:bd/stadisticsofkeywords",name:"stadisticsofkeywords",component:mr},{path:"/:bd/auditkeywordstatistics",name:"auditkeywordstatistics",component:Er},{path:"/:bd/auditkeywordstatisticsinterno",name:"auditkeywordstatisticsinterno",component:Yr},{path:"/tablerodirectivo",name:"tablerodirectivo",component:cs},{path:"/:bd/basescore",name:"basescore",component:xs}]}),ws=a("bc3a"),Ss=a.n(ws),As=a("2106"),Os=a.n(As),Rs=a("30ef"),js=a.n(Rs),Es=a("d842"),Is=a("05c2"),Ns=a("5886");a("4413");r["a"].use(Ns["a"]),r["a"].use(Os.a,Ss.a),r["a"].use(Is["VueSpinners"]),r["a"].use(Es["a"].use(js.a)),r["a"].config.productionTip=!1,new r["a"]({router:ks,vuetify:n,render:function(t){return t(h)}}).$mount("#app")},ae62:function(t,e,a){t.exports=a.p+"img/caritatriste.54817824.png"}});
//# sourceMappingURL=app.8687b7b6.js.map